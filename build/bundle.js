!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).app=e()}(this,(function(){"use strict";function t(){}const e=t=>t;function a(t){return t()}function n(){return Object.create(null)}function A(t){t.forEach(a)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s;function o(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function l(e,a,n){e.$$.on_destroy.push(function(e,...a){if(null==e)return t;const n=e.subscribe(...a);return n.unsubscribe?()=>n.unsubscribe():n}(a,n))}function c(t){return null==t?"":t}const g="undefined"!=typeof window;let u=g?()=>window.performance.now():()=>Date.now(),d=g?t=>requestAnimationFrame(t):t;const h=new Set;function p(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&d(p)}function f(t){let e;return 0===h.size&&d(p),{promise:new Promise((a=>{h.add(e={c:t,f:a})})),abort(){h.delete(e)}}}function C(t,e){t.appendChild(e)}function I(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e.host?e:document}function B(t){const e=Q("style");return function(t,e){C(t.head||t,e)}(I(t),e),e}function E(t,e,a){t.insertBefore(e,a||null)}function m(t){t.parentNode.removeChild(t)}function Q(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function v(){return w(" ")}function x(){return w("")}function b(t,e,a,n){return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)}function D(t,e,a){null==a?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function M(t,e,a){e in t?t[e]="boolean"==typeof t[e]&&""===a||a:D(t,e,a)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}function S(t,e,a,n){t.style.setProperty(e,a,n?"important":"")}function G(t,e,a){t.classList[a?"add":"remove"](e)}function N(t,e,a=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,a,!1,e),n}class R{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,a=null){this.e||(this.e=Q(e.nodeName),this.t=e,this.c(t)),this.i(a)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)E(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(m)}}const F=new Set;let Y,$=0;function j(t,e,a,n,A,i,r,s=0){const o=16.666/n;let l="{\n";for(let t=0;t<=1;t+=o){const n=e+(a-e)*i(t);l+=100*t+`%{${r(n,1-n)}}\n`}const c=l+`100% {${r(a,1-a)}}\n}`,g=`__svelte_${function(t){let e=5381,a=t.length;for(;a--;)e=(e<<5)-e^t.charCodeAt(a);return e>>>0}(c)}_${s}`,u=I(t);F.add(u);const d=u.__svelte_stylesheet||(u.__svelte_stylesheet=B(t).sheet),h=u.__svelte_rules||(u.__svelte_rules={});h[g]||(h[g]=!0,d.insertRule(`@keyframes ${g} ${c}`,d.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${g} ${n}ms linear ${A}ms 1 both`,$+=1,g}function U(t,e){const a=(t.style.animation||"").split(", "),n=a.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),A=a.length-n.length;A&&(t.style.animation=n.join(", "),$-=A,$||d((()=>{$||(F.forEach((t=>{const e=t.__svelte_stylesheet;let a=e.cssRules.length;for(;a--;)e.deleteRule(a);t.__svelte_rules={}})),F.clear())})))}function H(a,n,A,i){if(!n)return t;const r=a.getBoundingClientRect();if(n.left===r.left&&n.right===r.right&&n.top===r.top&&n.bottom===r.bottom)return t;const{delay:s=0,duration:o=300,easing:l=e,start:c=u()+s,end:g=c+o,tick:d=t,css:h}=A(a,{from:n,to:r},i);let p,C=!0,I=!1;function B(){h&&U(a,p),C=!1}return f((t=>{if(!I&&t>=c&&(I=!0),I&&t>=g&&(d(1,0),B()),!C)return!1;if(I){const e=0+1*l((t-c)/o);d(e,1-e)}return!0})),h&&(p=j(a,0,1,o,s,l,h)),s||(I=!0),d(0,1),B}function J(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:a,height:n}=e,A=t.getBoundingClientRect();t.style.position="absolute",t.style.width=a,t.style.height=n,function(t,e){const a=t.getBoundingClientRect();if(e.left!==a.left||e.top!==a.top){const n=getComputedStyle(t),A="none"===n.transform?"":n.transform;t.style.transform=`${A} translate(${e.left-a.left}px, ${e.top-a.top}px)`}}(t,A)}}function _(t){Y=t}function T(){if(!Y)throw new Error("Function called outside component initialization");return Y}function z(t){T().$$.on_mount.push(t)}function O(t){T().$$.after_update.push(t)}function P(t){T().$$.on_destroy.push(t)}function K(){const t=T();return(e,a)=>{const n=t.$$.callbacks[e];if(n){const A=N(e,a);n.slice().forEach((e=>{e.call(t,A)}))}}}const X=[],Z=[],q=[],W=[],V=Promise.resolve();let tt=!1;function et(t){q.push(t)}function at(t){W.push(t)}let nt=!1;const At=new Set;function it(){if(!nt){nt=!0;do{for(let t=0;t<X.length;t+=1){const e=X[t];_(e),rt(e.$$)}for(_(null),X.length=0;Z.length;)Z.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];At.has(e)||(At.add(e),e())}q.length=0}while(X.length);for(;W.length;)W.pop()();tt=!1,nt=!1,At.clear()}}function rt(t){if(null!==t.fragment){t.update(),A(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}let st;function ot(){return st||(st=Promise.resolve(),st.then((()=>{st=null}))),st}function lt(t,e,a){t.dispatchEvent(N(`${e?"intro":"outro"}${a}`))}const ct=new Set;let gt;function ut(){gt={r:0,c:[],p:gt}}function dt(){gt.r||A(gt.c),gt=gt.p}function ht(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function pt(t,e,a,n){if(t&&t.o){if(ct.has(t))return;ct.add(t),gt.c.push((()=>{ct.delete(t),n&&(a&&t.d(1),n())})),t.o(e)}}const ft={duration:0};function Ct(a,n,r,s){let o=n(a,r),l=s?0:1,c=null,g=null,d=null;function h(){d&&U(a,d)}function p(t,e){const a=t.b-l;return e*=Math.abs(a),{a:l,b:t.b,d:a,duration:e,start:t.start,end:t.start+e,group:t.group}}function C(n){const{delay:i=0,duration:r=300,easing:s=e,tick:C=t,css:I}=o||ft,B={start:u()+i,b:n};n||(B.group=gt,gt.r+=1),c||g?g=B:(I&&(h(),d=j(a,l,n,r,i,s,I)),n&&C(0,1),c=p(B,r),et((()=>lt(a,n,"start"))),f((t=>{if(g&&t>g.start&&(c=p(g,r),g=null,lt(a,c.b,"start"),I&&(h(),d=j(a,l,c.b,c.duration,0,s,o.css))),c)if(t>=c.end)C(l=c.b,1-l),lt(a,c.b,"end"),g||(c.b?h():--c.group.r||A(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;l=c.a+c.d*s(e/c.duration),C(l,1-l)}return!(!c&&!g)})))}return{run(t){i(o)?ot().then((()=>{o=o(),C(t)})):C(t)},end(){h(),c=g=null}}}function It(t,e){t.f(),function(t,e){t.d(1),e.delete(t.key)}(t,e)}function Bt(t,e,a,n,A,i,r,s,o,l,c,g){let u=t.length,d=i.length,h=u;const p={};for(;h--;)p[t[h].key]=h;const f=[],C=new Map,I=new Map;for(h=d;h--;){const t=g(A,i,h),s=a(t);let o=r.get(s);o?n&&o.p(t,e):(o=l(s,t),o.c()),C.set(s,f[h]=o),s in p&&I.set(s,Math.abs(h-p[s]))}const B=new Set,E=new Set;function m(t){ht(t,1),t.m(s,c),r.set(t.key,t),c=t.first,d--}for(;u&&d;){const e=f[d-1],a=t[u-1],n=e.key,A=a.key;e===a?(c=e.first,u--,d--):C.has(A)?!r.has(n)||B.has(n)?m(e):E.has(A)?u--:I.get(n)>I.get(A)?(E.add(n),m(e)):(B.add(A),u--):(o(a,r),u--)}for(;u--;){const e=t[u];C.has(e.key)||o(e,r)}for(;d;)m(f[d-1]);return f}function Et(t,e,a){const n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=a,a(t.$$.ctx[n]))}function mt(t){t&&t.c()}function Qt(t,e,n,r){const{fragment:s,on_mount:o,on_destroy:l,after_update:c}=t.$$;s&&s.m(e,n),r||et((()=>{const e=o.map(a).filter(i);l?l.push(...e):A(e),t.$$.on_mount=[]})),c.forEach(et)}function yt(t,e){const a=t.$$;null!==a.fragment&&(A(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function wt(t,e){-1===t.$$.dirty[0]&&(X.push(t),tt||(tt=!0,V.then(it)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function vt(e,a,i,r,s,o,l,c=[-1]){const g=Y;_(e);const u=e.$$={fragment:null,ctx:null,props:o,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:a.context||[]),callbacks:n(),dirty:c,skip_bound:!1,root:a.target||g.$$.root};l&&l(u.root);let d=!1;if(u.ctx=i?i(e,a.props||{},((t,a,...n)=>{const A=n.length?n[0]:a;return u.ctx&&s(u.ctx[t],u.ctx[t]=A)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](A),d&&wt(e,t)),a})):[],u.update(),d=!0,A(u.before_update),u.fragment=!!r&&r(u.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);u.fragment&&u.fragment.l(t),t.forEach(m)}else u.fragment&&u.fragment.c();a.intro&&ht(e.$$.fragment),Qt(e,a.target,a.anchor,a.customElement),it()}_(g)}class xt{$destroy(){yt(this,1),this.$destroy=t}$on(t,e){const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(e),()=>{const t=a.indexOf(e);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var bt="http://www.w3.org/1999/xhtml",Dt={svg:"http://www.w3.org/2000/svg",xhtml:bt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mt(t){var e=t+="",a=e.indexOf(":");return a>=0&&"xmlns"!==(e=t.slice(0,a))&&(t=t.slice(a+1)),Dt.hasOwnProperty(e)?{space:Dt[e],local:t}:t}function kt(t){return function(){var e=this.ownerDocument,a=this.namespaceURI;return a===bt&&e.documentElement.namespaceURI===bt?e.createElement(t):e.createElementNS(a,t)}}function Lt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function St(t){var e=Mt(t);return(e.local?Lt:kt)(e)}function Gt(){}function Nt(t){return null==t?Gt:function(){return this.querySelector(t)}}function Rt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ft(){return[]}function Yt(t){return null==t?Ft:function(){return this.querySelectorAll(t)}}function $t(t){return function(){return this.matches(t)}}function jt(t){return function(e){return e.matches(t)}}var Ut=Array.prototype.find;function Ht(){return this.firstElementChild}var Jt=Array.prototype.filter;function _t(){return this.children}function Tt(t){return new Array(t.length)}function zt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ot(t){return function(){return t}}function Pt(t,e,a,n,A,i){for(var r,s=0,o=e.length,l=i.length;s<l;++s)(r=e[s])?(r.__data__=i[s],n[s]=r):a[s]=new zt(t,i[s]);for(;s<o;++s)(r=e[s])&&(A[s]=r)}function Kt(t,e,a,n,A,i,r){var s,o,l,c=new Map,g=e.length,u=i.length,d=new Array(g);for(s=0;s<g;++s)(o=e[s])&&(d[s]=l=r.call(o,o.__data__,s,e)+"",c.has(l)?A[s]=o:c.set(l,o));for(s=0;s<u;++s)l=r.call(t,i[s],s,i)+"",(o=c.get(l))?(n[s]=o,o.__data__=i[s],c.delete(l)):a[s]=new zt(t,i[s]);for(s=0;s<g;++s)(o=e[s])&&c.get(d[s])===o&&(A[s]=o)}function Xt(t){return t.__data__}function Zt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function qt(t){return function(){this.removeAttribute(t)}}function Wt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vt(t,e){return function(){this.setAttribute(t,e)}}function te(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ee(t,e){return function(){var a=e.apply(this,arguments);null==a?this.removeAttribute(t):this.setAttribute(t,a)}}function ae(t,e){return function(){var a=e.apply(this,arguments);null==a?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,a)}}function ne(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ae(t){return function(){this.style.removeProperty(t)}}function ie(t,e,a){return function(){this.style.setProperty(t,e,a)}}function re(t,e,a){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,a)}}function se(t,e){return t.style.getPropertyValue(e)||ne(t).getComputedStyle(t,null).getPropertyValue(e)}function oe(t){return function(){delete this[t]}}function le(t,e){return function(){this[t]=e}}function ce(t,e){return function(){var a=e.apply(this,arguments);null==a?delete this[t]:this[t]=a}}function ge(t){return t.trim().split(/^|\s+/)}function ue(t){return t.classList||new de(t)}function de(t){this._node=t,this._names=ge(t.getAttribute("class")||"")}function he(t,e){for(var a=ue(t),n=-1,A=e.length;++n<A;)a.add(e[n])}function pe(t,e){for(var a=ue(t),n=-1,A=e.length;++n<A;)a.remove(e[n])}function fe(t){return function(){he(this,t)}}function Ce(t){return function(){pe(this,t)}}function Ie(t,e){return function(){(e.apply(this,arguments)?he:pe)(this,t)}}function Be(){this.textContent=""}function Ee(t){return function(){this.textContent=t}}function me(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Qe(){this.innerHTML=""}function ye(t){return function(){this.innerHTML=t}}function we(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ve(){this.nextSibling&&this.parentNode.appendChild(this)}function xe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function be(){return null}function De(){var t=this.parentNode;t&&t.removeChild(this)}function Me(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ke(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Le(t){return t.trim().split(/^|\s+/).map((function(t){var e="",a=t.indexOf(".");return a>=0&&(e=t.slice(a+1),t=t.slice(0,a)),{type:t,name:e}}))}function Se(t){return function(){var e=this.__on;if(e){for(var a,n=0,A=-1,i=e.length;n<i;++n)a=e[n],t.type&&a.type!==t.type||a.name!==t.name?e[++A]=a:this.removeEventListener(a.type,a.listener,a.options);++A?e.length=A:delete this.__on}}}function Ge(t,e,a){return function(){var n,A=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(A)for(var r=0,s=A.length;r<s;++r)if((n=A[r]).type===t.type&&n.name===t.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=a),void(n.value=e);this.addEventListener(t.type,i,a),n={type:t.type,name:t.name,value:e,listener:i,options:a},A?A.push(n):this.__on=[n]}}function Ne(t,e,a){var n=ne(t),A=n.CustomEvent;"function"==typeof A?A=new A(e,a):(A=n.document.createEvent("Event"),a?(A.initEvent(e,a.bubbles,a.cancelable),A.detail=a.detail):A.initEvent(e,!1,!1)),t.dispatchEvent(A)}function Re(t,e){return function(){return Ne(this,t,e)}}function Fe(t,e){return function(){return Ne(this,t,e.apply(this,arguments))}}zt.prototype={constructor:zt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},de.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ye=[null];function $e(t,e){this._groups=t,this._parents=e}function je(){return new $e([[document.documentElement]],Ye)}function Ue(t){return"string"==typeof t?new $e([[document.querySelector(t)]],[document.documentElement]):new $e([[t]],Ye)}function He(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var a=e.ownerSVGElement||e;if(a.createSVGPoint){var n=a.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]}if(e.getBoundingClientRect){var A=e.getBoundingClientRect();return[t.clientX-A.left-e.clientLeft,t.clientY-A.top-e.clientTop]}}return[t.pageX,t.pageY]}function Je(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function _e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Te(t){let e=t,a=t;function n(t,e,n,A){for(null==n&&(n=0),null==A&&(A=t.length);n<A;){const i=n+A>>>1;a(t[i],e)<0?n=i+1:A=i}return n}return 1===t.length&&(e=(e,a)=>t(e)-a,a=function(t){return(e,a)=>_e(t(e),a)}(t)),{left:n,center:function(t,a,A,i){null==A&&(A=0),null==i&&(i=t.length);const r=n(t,a,A,i-1);return r>A&&e(t[r-1],a)>-e(t[r],a)?r-1:r},right:function(t,e,n,A){for(null==n&&(n=0),null==A&&(A=t.length);n<A;){const i=n+A>>>1;a(t[i],e)>0?A=i:n=i+1}return n}}}$e.prototype=je.prototype={constructor:$e,select:function(t){"function"!=typeof t&&(t=Nt(t));for(var e=this._groups,a=e.length,n=new Array(a),A=0;A<a;++A)for(var i,r,s=e[A],o=s.length,l=n[A]=new Array(o),c=0;c<o;++c)(i=s[c])&&(r=t.call(i,i.__data__,c,s))&&("__data__"in i&&(r.__data__=i.__data__),l[c]=r);return new $e(n,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Rt(e)}}(t):Yt(t);for(var e=this._groups,a=e.length,n=[],A=[],i=0;i<a;++i)for(var r,s=e[i],o=s.length,l=0;l<o;++l)(r=s[l])&&(n.push(t.call(r,r.__data__,l,s)),A.push(r));return new $e(n,A)},selectChild:function(t){return this.select(null==t?Ht:function(t){return function(){return Ut.call(this.children,t)}}("function"==typeof t?t:jt(t)))},selectChildren:function(t){return this.selectAll(null==t?_t:function(t){return function(){return Jt.call(this.children,t)}}("function"==typeof t?t:jt(t)))},filter:function(t){"function"!=typeof t&&(t=$t(t));for(var e=this._groups,a=e.length,n=new Array(a),A=0;A<a;++A)for(var i,r=e[A],s=r.length,o=n[A]=[],l=0;l<s;++l)(i=r[l])&&t.call(i,i.__data__,l,r)&&o.push(i);return new $e(n,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Xt);var a=e?Kt:Pt,n=this._parents,A=this._groups;"function"!=typeof t&&(t=Ot(t));for(var i=A.length,r=new Array(i),s=new Array(i),o=new Array(i),l=0;l<i;++l){var c=n[l],g=A[l],u=g.length,d=Rt(t.call(c,c&&c.__data__,l,n)),h=d.length,p=s[l]=new Array(h),f=r[l]=new Array(h),C=o[l]=new Array(u);a(c,g,p,f,C,d,e);for(var I,B,E=0,m=0;E<h;++E)if(I=p[E]){for(E>=m&&(m=E+1);!(B=f[m])&&++m<h;);I._next=B||null}}return(r=new $e(r,n))._enter=s,r._exit=o,r},enter:function(){return new $e(this._enter||this._groups.map(Tt),this._parents)},exit:function(){return new $e(this._exit||this._groups.map(Tt),this._parents)},join:function(t,e,a){var n=this.enter(),A=this,i=this.exit();return n="function"==typeof t?t(n):n.append(t+""),null!=e&&(A=e(A)),null==a?i.remove():a(i),n&&A?n.merge(A).order():A},merge:function(t){if(!(t instanceof $e))throw new Error("invalid merge");for(var e=this._groups,a=t._groups,n=e.length,A=a.length,i=Math.min(n,A),r=new Array(n),s=0;s<i;++s)for(var o,l=e[s],c=a[s],g=l.length,u=r[s]=new Array(g),d=0;d<g;++d)(o=l[d]||c[d])&&(u[d]=o);for(;s<n;++s)r[s]=e[s];return new $e(r,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,a=t.length;++e<a;)for(var n,A=t[e],i=A.length-1,r=A[i];--i>=0;)(n=A[i])&&(r&&4^n.compareDocumentPosition(r)&&r.parentNode.insertBefore(n,r),r=n);return this},sort:function(t){function e(e,a){return e&&a?t(e.__data__,a.__data__):!e-!a}t||(t=Zt);for(var a=this._groups,n=a.length,A=new Array(n),i=0;i<n;++i){for(var r,s=a[i],o=s.length,l=A[i]=new Array(o),c=0;c<o;++c)(r=s[c])&&(l[c]=r);l.sort(e)}return new $e(A,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var n=t[e],A=0,i=n.length;A<i;++A){var r=n[A];if(r)return r}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,a=0,n=e.length;a<n;++a)for(var A,i=e[a],r=0,s=i.length;r<s;++r)(A=i[r])&&t.call(A,A.__data__,r,i);return this},attr:function(t,e){var a=Mt(t);if(arguments.length<2){var n=this.node();return a.local?n.getAttributeNS(a.space,a.local):n.getAttribute(a)}return this.each((null==e?a.local?Wt:qt:"function"==typeof e?a.local?ae:ee:a.local?te:Vt)(a,e))},style:function(t,e,a){return arguments.length>1?this.each((null==e?Ae:"function"==typeof e?re:ie)(t,e,null==a?"":a)):se(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?oe:"function"==typeof e?ce:le)(t,e)):this.node()[t]},classed:function(t,e){var a=ge(t+"");if(arguments.length<2){for(var n=ue(this.node()),A=-1,i=a.length;++A<i;)if(!n.contains(a[A]))return!1;return!0}return this.each(("function"==typeof e?Ie:e?fe:Ce)(a,e))},text:function(t){return arguments.length?this.each(null==t?Be:("function"==typeof t?me:Ee)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Qe:("function"==typeof t?we:ye)(t)):this.node().innerHTML},raise:function(){return this.each(ve)},lower:function(){return this.each(xe)},append:function(t){var e="function"==typeof t?t:St(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var a="function"==typeof t?t:St(t),n=null==e?be:"function"==typeof e?e:Nt(e);return this.select((function(){return this.insertBefore(a.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(De)},clone:function(t){return this.select(t?ke:Me)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,a){var n,A,i=Le(t+""),r=i.length;if(!(arguments.length<2)){for(s=e?Ge:Se,n=0;n<r;++n)this.each(s(i[n],e,a));return this}var s=this.node().__on;if(s)for(var o,l=0,c=s.length;l<c;++l)for(n=0,o=s[l];n<r;++n)if((A=i[n]).type===o.type&&A.name===o.name)return o.value},dispatch:function(t,e){return this.each(("function"==typeof e?Fe:Re)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,a=t.length;e<a;++e)for(var n,A=t[e],i=0,r=A.length;i<r;++i)(n=A[i])&&(yield n)}};const ze=Te(_e).right;Te((function(t){return null===t?NaN:+t})).center;var Oe=ze;var Pe=Math.sqrt(50),Ke=Math.sqrt(10),Xe=Math.sqrt(2);function Ze(t,e,a){var n=(e-t)/Math.max(0,a),A=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,A);return A>=0?(i>=Pe?10:i>=Ke?5:i>=Xe?2:1)*Math.pow(10,A):-Math.pow(10,-A)/(i>=Pe?10:i>=Ke?5:i>=Xe?2:1)}function qe(t,e,a){t=+t,e=+e,a=(A=arguments.length)<2?(e=t,t=0,1):A<3?1:+a;for(var n=-1,A=0|Math.max(0,Math.ceil((e-t)/a)),i=new Array(A);++n<A;)i[n]=t+n*a;return i}function We(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Ve=Symbol("implicit");function ta(){var t=new Map,e=[],a=[],n=Ve;function A(A){var i=A+"",r=t.get(i);if(!r){if(n!==Ve)return n;t.set(i,r=e.push(A))}return a[(r-1)%a.length]}return A.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Map;for(const n of a){const a=n+"";t.has(a)||t.set(a,e.push(n))}return A},A.range=function(t){return arguments.length?(a=Array.from(t),A):a.slice()},A.unknown=function(t){return arguments.length?(n=t,A):n},A.copy=function(){return ta(e,a).unknown(n)},We.apply(A,arguments),A}function ea(){var t,e,a=ta().unknown(void 0),n=a.domain,A=a.range,i=0,r=1,s=!1,o=0,l=0,c=.5;function g(){var a=n().length,g=r<i,u=g?r:i,d=g?i:r;t=(d-u)/Math.max(1,a-o+2*l),s&&(t=Math.floor(t)),u+=(d-u-t*(a-o))*c,e=t*(1-o),s&&(u=Math.round(u),e=Math.round(e));var h=qe(a).map((function(e){return u+t*e}));return A(g?h.reverse():h)}return delete a.unknown,a.domain=function(t){return arguments.length?(n(t),g()):n()},a.range=function(t){return arguments.length?([i,r]=t,i=+i,r=+r,g()):[i,r]},a.rangeRound=function(t){return[i,r]=t,i=+i,r=+r,s=!0,g()},a.bandwidth=function(){return e},a.step=function(){return t},a.round=function(t){return arguments.length?(s=!!t,g()):s},a.padding=function(t){return arguments.length?(o=Math.min(1,l=+t),g()):o},a.paddingInner=function(t){return arguments.length?(o=Math.min(1,t),g()):o},a.paddingOuter=function(t){return arguments.length?(l=+t,g()):l},a.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),g()):c},a.copy=function(){return ea(n(),[i,r]).round(s).paddingInner(o).paddingOuter(l).align(c)},We.apply(g(),arguments)}function aa(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aa(e())},t}function na(t,e,a){t.prototype=e.prototype=a,a.constructor=t}function Aa(t,e){var a=Object.create(t.prototype);for(var n in e)a[n]=e[n];return a}function ia(){}var ra=.7,sa=1/ra,oa="\\s*([+-]?\\d+)\\s*",la="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ga=/^#([0-9a-f]{3,8})$/,ua=new RegExp("^rgb\\("+[oa,oa,oa]+"\\)$"),da=new RegExp("^rgb\\("+[ca,ca,ca]+"\\)$"),ha=new RegExp("^rgba\\("+[oa,oa,oa,la]+"\\)$"),pa=new RegExp("^rgba\\("+[ca,ca,ca,la]+"\\)$"),fa=new RegExp("^hsl\\("+[la,ca,ca]+"\\)$"),Ca=new RegExp("^hsla\\("+[la,ca,ca,la]+"\\)$"),Ia={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ba(){return this.rgb().formatHex()}function Ea(){return this.rgb().formatRgb()}function ma(t){var e,a;return t=(t+"").trim().toLowerCase(),(e=ga.exec(t))?(a=e[1].length,e=parseInt(e[1],16),6===a?Qa(e):3===a?new xa(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===a?ya(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===a?ya(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ua.exec(t))?new xa(e[1],e[2],e[3],1):(e=da.exec(t))?new xa(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ha.exec(t))?ya(e[1],e[2],e[3],e[4]):(e=pa.exec(t))?ya(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=fa.exec(t))?ka(e[1],e[2]/100,e[3]/100,1):(e=Ca.exec(t))?ka(e[1],e[2]/100,e[3]/100,e[4]):Ia.hasOwnProperty(t)?Qa(Ia[t]):"transparent"===t?new xa(NaN,NaN,NaN,0):null}function Qa(t){return new xa(t>>16&255,t>>8&255,255&t,1)}function ya(t,e,a,n){return n<=0&&(t=e=a=NaN),new xa(t,e,a,n)}function wa(t){return t instanceof ia||(t=ma(t)),t?new xa((t=t.rgb()).r,t.g,t.b,t.opacity):new xa}function va(t,e,a,n){return 1===arguments.length?wa(t):new xa(t,e,a,null==n?1:n)}function xa(t,e,a,n){this.r=+t,this.g=+e,this.b=+a,this.opacity=+n}function ba(){return"#"+Ma(this.r)+Ma(this.g)+Ma(this.b)}function Da(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ma(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ka(t,e,a,n){return n<=0?t=e=a=NaN:a<=0||a>=1?t=e=NaN:e<=0&&(t=NaN),new Sa(t,e,a,n)}function La(t){if(t instanceof Sa)return new Sa(t.h,t.s,t.l,t.opacity);if(t instanceof ia||(t=ma(t)),!t)return new Sa;if(t instanceof Sa)return t;var e=(t=t.rgb()).r/255,a=t.g/255,n=t.b/255,A=Math.min(e,a,n),i=Math.max(e,a,n),r=NaN,s=i-A,o=(i+A)/2;return s?(r=e===i?(a-n)/s+6*(a<n):a===i?(n-e)/s+2:(e-a)/s+4,s/=o<.5?i+A:2-i-A,r*=60):s=o>0&&o<1?0:r,new Sa(r,s,o,t.opacity)}function Sa(t,e,a,n){this.h=+t,this.s=+e,this.l=+a,this.opacity=+n}function Ga(t,e,a){return 255*(t<60?e+(a-e)*t/60:t<180?a:t<240?e+(a-e)*(240-t)/60:e)}na(ia,ma,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ba,formatHex:Ba,formatHsl:function(){return La(this).formatHsl()},formatRgb:Ea,toString:Ea}),na(xa,va,Aa(ia,{brighter:function(t){return t=null==t?sa:Math.pow(sa,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ra:Math.pow(ra,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ba,formatHex:ba,formatRgb:Da,toString:Da})),na(Sa,(function(t,e,a,n){return 1===arguments.length?La(t):new Sa(t,e,a,null==n?1:n)}),Aa(ia,{brighter:function(t){return t=null==t?sa:Math.pow(sa,t),new Sa(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ra:Math.pow(ra,t),new Sa(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,n=a+(a<.5?a:1-a)*e,A=2*a-n;return new xa(Ga(t>=240?t-240:t+120,A,n),Ga(t,A,n),Ga(t<120?t+240:t-120,A,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Na=t=>()=>t;function Ra(t){return 1==(t=+t)?Fa:function(e,a){return a-e?function(t,e,a){return t=Math.pow(t,a),e=Math.pow(e,a)-t,a=1/a,function(n){return Math.pow(t+n*e,a)}}(e,a,t):Na(isNaN(e)?a:e)}}function Fa(t,e){var a=e-t;return a?function(t,e){return function(a){return t+a*e}}(t,a):Na(isNaN(t)?e:t)}var Ya=function t(e){var a=Ra(e);function n(t,e){var n=a((t=va(t)).r,(e=va(e)).r),A=a(t.g,e.g),i=a(t.b,e.b),r=Fa(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=A(e),t.b=i(e),t.opacity=r(e),t+""}}return n.gamma=t,n}(1);function $a(t,e){e||(e=[]);var a,n=t?Math.min(e.length,t.length):0,A=e.slice();return function(i){for(a=0;a<n;++a)A[a]=t[a]*(1-i)+e[a]*i;return A}}function ja(t,e){var a,n=e?e.length:0,A=t?Math.min(n,t.length):0,i=new Array(A),r=new Array(n);for(a=0;a<A;++a)i[a]=Oa(t[a],e[a]);for(;a<n;++a)r[a]=e[a];return function(t){for(a=0;a<A;++a)r[a]=i[a](t);return r}}function Ua(t,e){var a=new Date;return t=+t,e=+e,function(n){return a.setTime(t*(1-n)+e*n),a}}function Ha(t,e){return t=+t,e=+e,function(a){return t*(1-a)+e*a}}function Ja(t,e){var a,n={},A={};for(a in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)a in t?n[a]=Oa(t[a],e[a]):A[a]=e[a];return function(t){for(a in n)A[a]=n[a](t);return A}}var _a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ta=new RegExp(_a.source,"g");function za(t,e){var a,n,A,i=_a.lastIndex=Ta.lastIndex=0,r=-1,s=[],o=[];for(t+="",e+="";(a=_a.exec(t))&&(n=Ta.exec(e));)(A=n.index)>i&&(A=e.slice(i,A),s[r]?s[r]+=A:s[++r]=A),(a=a[0])===(n=n[0])?s[r]?s[r]+=n:s[++r]=n:(s[++r]=null,o.push({i:r,x:Ha(a,n)})),i=Ta.lastIndex;return i<e.length&&(A=e.slice(i),s[r]?s[r]+=A:s[++r]=A),s.length<2?o[0]?function(t){return function(e){return t(e)+""}}(o[0].x):function(t){return function(){return t}}(e):(e=o.length,function(t){for(var a,n=0;n<e;++n)s[(a=o[n]).i]=a.x(t);return s.join("")})}function Oa(t,e){var a,n=typeof e;return null==e||"boolean"===n?Na(e):("number"===n?Ha:"string"===n?(a=ma(e))?(e=a,Ya):za:e instanceof ma?Ya:e instanceof Date?Ua:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?$a:Array.isArray(e)?ja:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ja:Ha)(t,e)}function Pa(t,e){return t=+t,e=+e,function(a){return Math.round(t*(1-a)+e*a)}}var Ka,Xa=180/Math.PI,Za={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qa(t,e,a,n,A,i){var r,s,o;return(r=Math.sqrt(t*t+e*e))&&(t/=r,e/=r),(o=t*a+e*n)&&(a-=t*o,n-=e*o),(s=Math.sqrt(a*a+n*n))&&(a/=s,n/=s,o/=s),t*n<e*a&&(t=-t,e=-e,o=-o,r=-r),{translateX:A,translateY:i,rotate:Math.atan2(e,t)*Xa,skewX:Math.atan(o)*Xa,scaleX:r,scaleY:s}}function Wa(t,e,a,n){function A(t){return t.length?t.pop()+" ":""}return function(i,r){var s=[],o=[];return i=t(i),r=t(r),function(t,n,A,i,r,s){if(t!==A||n!==i){var o=r.push("translate(",null,e,null,a);s.push({i:o-4,x:Ha(t,A)},{i:o-2,x:Ha(n,i)})}else(A||i)&&r.push("translate("+A+e+i+a)}(i.translateX,i.translateY,r.translateX,r.translateY,s,o),function(t,e,a,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:a.push(A(a)+"rotate(",null,n)-2,x:Ha(t,e)})):e&&a.push(A(a)+"rotate("+e+n)}(i.rotate,r.rotate,s,o),function(t,e,a,i){t!==e?i.push({i:a.push(A(a)+"skewX(",null,n)-2,x:Ha(t,e)}):e&&a.push(A(a)+"skewX("+e+n)}(i.skewX,r.skewX,s,o),function(t,e,a,n,i,r){if(t!==a||e!==n){var s=i.push(A(i)+"scale(",null,",",null,")");r.push({i:s-4,x:Ha(t,a)},{i:s-2,x:Ha(e,n)})}else 1===a&&1===n||i.push(A(i)+"scale("+a+","+n+")")}(i.scaleX,i.scaleY,r.scaleX,r.scaleY,s,o),i=r=null,function(t){for(var e,a=-1,n=o.length;++a<n;)s[(e=o[a]).i]=e.x(t);return s.join("")}}}var Va=Wa((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Za:qa(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),tn=Wa((function(t){return null==t?Za:(Ka||(Ka=document.createElementNS("http://www.w3.org/2000/svg","g")),Ka.setAttribute("transform",t),(t=Ka.transform.baseVal.consolidate())?qa((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Za)}),", ",")",")");function en(t){return((t=Math.exp(t))+1/t)/2}var an=function t(e,a,n){function A(t,A){var i,r,s=t[0],o=t[1],l=t[2],c=A[0],g=A[1],u=A[2],d=c-s,h=g-o,p=d*d+h*h;if(p<1e-12)r=Math.log(u/l)/e,i=function(t){return[s+t*d,o+t*h,l*Math.exp(e*t*r)]};else{var f=Math.sqrt(p),C=(u*u-l*l+n*p)/(2*l*a*f),I=(u*u-l*l-n*p)/(2*u*a*f),B=Math.log(Math.sqrt(C*C+1)-C),E=Math.log(Math.sqrt(I*I+1)-I);r=(E-B)/e,i=function(t){var n=t*r,A=en(B),i=l/(a*f)*(A*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*n+B)-function(t){return((t=Math.exp(t))-1/t)/2}(B));return[s+i*d,o+i*h,l*A/en(e*n+B)]}}return i.duration=1e3*r*e/Math.SQRT2,i}return A.rho=function(e){var a=Math.max(.001,+e),n=a*a;return t(a,n,n*n)},A}(Math.SQRT2,2,4);function nn(t){return+t}var An=[0,1];function rn(t){return t}function sn(t,e){return(e-=t=+t)?function(a){return(a-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function on(t,e,a){var n=t[0],A=t[1],i=e[0],r=e[1];return A<n?(n=sn(A,n),i=a(r,i)):(n=sn(n,A),i=a(i,r)),function(t){return i(n(t))}}function ln(t,e,a){var n=Math.min(t.length,e.length)-1,A=new Array(n),i=new Array(n),r=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++r<n;)A[r]=sn(t[r],t[r+1]),i[r]=a(e[r],e[r+1]);return function(e){var a=Oe(t,e,1,n)-1;return i[a](A[a](e))}}function cn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gn(){var t,e,a,n,A,i,r=An,s=An,o=Oa,l=rn;function c(){var t,e,a,o=Math.min(r.length,s.length);return l!==rn&&(t=r[0],e=r[o-1],t>e&&(a=t,t=e,e=a),l=function(a){return Math.max(t,Math.min(e,a))}),n=o>2?ln:on,A=i=null,g}function g(e){return null==e||isNaN(e=+e)?a:(A||(A=n(r.map(t),s,o)))(t(l(e)))}return g.invert=function(a){return l(e((i||(i=n(s,r.map(t),Ha)))(a)))},g.domain=function(t){return arguments.length?(r=Array.from(t,nn),c()):r.slice()},g.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},g.rangeRound=function(t){return s=Array.from(t),o=Pa,c()},g.clamp=function(t){return arguments.length?(l=!!t||rn,c()):l!==rn},g.interpolate=function(t){return arguments.length?(o=t,c()):o},g.unknown=function(t){return arguments.length?(a=t,g):a},function(a,n){return t=a,e=n,c()}}function un(){return gn()(rn,rn)}function dn(t,e){if((a=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var a,n=t.slice(0,a);return[n.length>1?n[0]+n.slice(2):n,+t.slice(a+1)]}function hn(t){return(t=dn(Math.abs(t)))?t[1]:NaN}var pn,fn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cn(t){if(!(e=fn.exec(t)))throw new Error("invalid format: "+t);var e;return new In({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function In(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Bn(t,e){var a=dn(t,e);if(!a)return t+"";var n=a[0],A=a[1];return A<0?"0."+new Array(-A).join("0")+n:n.length>A+1?n.slice(0,A+1)+"."+n.slice(A+1):n+new Array(A-n.length+2).join("0")}Cn.prototype=In.prototype,In.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var En={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Bn(100*t,e),r:Bn,s:function(t,e){var a=dn(t,e);if(!a)return t+"";var n=a[0],A=a[1],i=A-(pn=3*Math.max(-8,Math.min(8,Math.floor(A/3))))+1,r=n.length;return i===r?n:i>r?n+new Array(i-r+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+dn(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mn(t){return t}var Qn,yn,wn,vn=Array.prototype.map,xn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function bn(t){var e,a,n=void 0===t.grouping||void 0===t.thousands?mn:(e=vn.call(t.grouping,Number),a=t.thousands+"",function(t,n){for(var A=t.length,i=[],r=0,s=e[0],o=0;A>0&&s>0&&(o+s+1>n&&(s=Math.max(1,n-o)),i.push(t.substring(A-=s,A+s)),!((o+=s+1)>n));)s=e[r=(r+1)%e.length];return i.reverse().join(a)}),A=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",r=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?mn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(vn.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function g(t){var e=(t=Cn(t)).fill,a=t.align,g=t.sign,u=t.symbol,d=t.zero,h=t.width,p=t.comma,f=t.precision,C=t.trim,I=t.type;"n"===I?(p=!0,I="g"):En[I]||(void 0===f&&(f=12),C=!0,I="g"),(d||"0"===e&&"="===a)&&(d=!0,e="0",a="=");var B="$"===u?A:"#"===u&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",E="$"===u?i:/[%p]/.test(I)?o:"",m=En[I],Q=/[defgprs%]/.test(I);function y(t){var A,i,o,u=B,y=E;if("c"===I)y=m(t)+y,t="";else{var w=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:m(Math.abs(t),f),C&&(t=function(t){t:for(var e,a=t.length,n=1,A=-1;n<a;++n)switch(t[n]){case".":A=e=n;break;case"0":0===A&&(A=n),e=n;break;default:if(!+t[n])break t;A>0&&(A=0)}return A>0?t.slice(0,A)+t.slice(e+1):t}(t)),w&&0==+t&&"+"!==g&&(w=!1),u=(w?"("===g?g:l:"-"===g||"("===g?"":g)+u,y=("s"===I?xn[8+pn/3]:"")+y+(w&&"("===g?")":""),Q)for(A=-1,i=t.length;++A<i;)if(48>(o=t.charCodeAt(A))||o>57){y=(46===o?r+t.slice(A+1):t.slice(A))+y,t=t.slice(0,A);break}}p&&!d&&(t=n(t,1/0));var v=u.length+t.length+y.length,x=v<h?new Array(h-v+1).join(e):"";switch(p&&d&&(t=n(x+t,x.length?h-y.length:1/0),x=""),a){case"<":t=u+t+y+x;break;case"=":t=u+x+t+y;break;case"^":t=x.slice(0,v=x.length>>1)+u+t+y+x.slice(v);break;default:t=x+u+t+y}return s(t)}return f=void 0===f?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),y.toString=function(){return t+""},y}return{format:g,formatPrefix:function(t,e){var a=g(((t=Cn(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(hn(e)/3))),A=Math.pow(10,-n),i=xn[8+n/3];return function(t){return a(A*t)+i}}}}function Dn(t,e,a,n){var A,i=function(t,e,a){var n=Math.abs(e-t)/Math.max(0,a),A=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),i=n/A;return i>=Pe?A*=10:i>=Ke?A*=5:i>=Xe&&(A*=2),e<t?-A:A}(t,e,a);switch((n=Cn(null==n?",f":n)).type){case"s":var r=Math.max(Math.abs(t),Math.abs(e));return null!=n.precision||isNaN(A=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hn(e)/3)))-hn(Math.abs(t)))}(i,r))||(n.precision=A),wn(n,r);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(A=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hn(e)-hn(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(n.precision=A-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(A=function(t){return Math.max(0,-hn(Math.abs(t)))}(i))||(n.precision=A-2*("%"===n.type))}return yn(n)}function Mn(t){var e=t.domain;return t.ticks=function(t){var a=e();return function(t,e,a){var n,A,i,r,s=-1;if(a=+a,(t=+t)==(e=+e)&&a>0)return[t];if((n=e<t)&&(A=t,t=e,e=A),0===(r=Ze(t,e,a))||!isFinite(r))return[];if(r>0){let a=Math.round(t/r),n=Math.round(e/r);for(a*r<t&&++a,n*r>e&&--n,i=new Array(A=n-a+1);++s<A;)i[s]=(a+s)*r}else{r=-r;let a=Math.round(t*r),n=Math.round(e*r);for(a/r<t&&++a,n/r>e&&--n,i=new Array(A=n-a+1);++s<A;)i[s]=(a+s)/r}return n&&i.reverse(),i}(a[0],a[a.length-1],null==t?10:t)},t.tickFormat=function(t,a){var n=e();return Dn(n[0],n[n.length-1],null==t?10:t,a)},t.nice=function(a){null==a&&(a=10);var n,A,i=e(),r=0,s=i.length-1,o=i[r],l=i[s],c=10;for(l<o&&(A=o,o=l,l=A,A=r,r=s,s=A);c-- >0;){if((A=Ze(o,l,a))===n)return i[r]=o,i[s]=l,e(i);if(A>0)o=Math.floor(o/A)*A,l=Math.ceil(l/A)*A;else{if(!(A<0))break;o=Math.ceil(o*A)/A,l=Math.floor(l*A)/A}n=A}return t},t}Qn=bn({thousands:",",grouping:[3],currency:["$",""]}),yn=Qn.format,wn=Qn.formatPrefix;var kn,Ln,Sn=function(t){for(var e=t.length/6|0,a=new Array(e),n=0;n<e;)a[n]="#"+t.slice(6*n,6*++n);return a}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Gn=0,Nn=0,Rn=0,Fn=0,Yn=0,$n=0,jn="object"==typeof performance&&performance.now?performance:Date,Un="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Hn(){return Yn||(Un(Jn),Yn=jn.now()+$n)}function Jn(){Yn=0}function _n(){this._call=this._time=this._next=null}function Tn(t,e,a){var n=new _n;return n.restart(t,e,a),n}function zn(){Yn=(Fn=jn.now())+$n,Gn=Nn=0;try{!function(){Hn(),++Gn;for(var t,e=kn;e;)(t=Yn-e._time)>=0&&e._call.call(null,t),e=e._next;--Gn}()}finally{Gn=0,function(){var t,e,a=kn,n=1/0;for(;a;)a._call?(n>a._time&&(n=a._time),t=a,a=a._next):(e=a._next,a._next=null,a=t?t._next=e:kn=e);Ln=t,Pn(n)}(),Yn=0}}function On(){var t=jn.now(),e=t-Fn;e>1e3&&($n-=e,Fn=t)}function Pn(t){Gn||(Nn&&(Nn=clearTimeout(Nn)),t-Yn>24?(t<1/0&&(Nn=setTimeout(zn,t-jn.now()-$n)),Rn&&(Rn=clearInterval(Rn))):(Rn||(Fn=jn.now(),Rn=setInterval(On,1e3)),Gn=1,Un(zn)))}function Kn(t,e,a){var n=new _n;return e=null==e?0:+e,n.restart((a=>{n.stop(),t(a+e)}),e,a),n}_n.prototype=Tn.prototype={constructor:_n,restart:function(t,e,a){if("function"!=typeof t)throw new TypeError("callback is not a function");a=(null==a?Hn():+a)+(null==e?0:+e),this._next||Ln===this||(Ln?Ln._next=this:kn=this,Ln=this),this._call=t,this._time=a,Pn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pn())}};var Xn={value:()=>{}};function Zn(){for(var t,e=0,a=arguments.length,n={};e<a;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new qn(n)}function qn(t){this._=t}function Wn(t,e){return t.trim().split(/^|\s+/).map((function(t){var a="",n=t.indexOf(".");if(n>=0&&(a=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:a}}))}function Vn(t,e){for(var a,n=0,A=t.length;n<A;++n)if((a=t[n]).name===e)return a.value}function tA(t,e,a){for(var n=0,A=t.length;n<A;++n)if(t[n].name===e){t[n]=Xn,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=a&&t.push({name:e,value:a}),t}qn.prototype=Zn.prototype={constructor:qn,on:function(t,e){var a,n=this._,A=Wn(t+"",n),i=-1,r=A.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<r;)if(a=(t=A[i]).type)n[a]=tA(n[a],t.name,e);else if(null==e)for(a in n)n[a]=tA(n[a],t.name,null);return this}for(;++i<r;)if((a=(t=A[i]).type)&&(a=Vn(n[a],t.name)))return a},copy:function(){var t={},e=this._;for(var a in e)t[a]=e[a].slice();return new qn(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var a,n,A=new Array(a),i=0;i<a;++i)A[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,a=(n=this._[t]).length;i<a;++i)n[i].value.apply(e,A)},apply:function(t,e,a){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],A=0,i=n.length;A<i;++A)n[A].value.apply(e,a)}};var eA=Zn("start","end","cancel","interrupt"),aA=[];function nA(t,e,a,n,A,i){var r=t.__transition;if(r){if(a in r)return}else t.__transition={};!function(t,e,a){var n,A=t.__transition;function i(t){a.state=1,a.timer.restart(r,a.delay,a.time),a.delay<=t&&r(t-a.delay)}function r(i){var l,c,g,u;if(1!==a.state)return o();for(l in A)if((u=A[l]).name===a.name){if(3===u.state)return Kn(r);4===u.state?(u.state=6,u.timer.stop(),u.on.call("interrupt",t,t.__data__,u.index,u.group),delete A[l]):+l<e&&(u.state=6,u.timer.stop(),u.on.call("cancel",t,t.__data__,u.index,u.group),delete A[l])}if(Kn((function(){3===a.state&&(a.state=4,a.timer.restart(s,a.delay,a.time),s(i))})),a.state=2,a.on.call("start",t,t.__data__,a.index,a.group),2===a.state){for(a.state=3,n=new Array(g=a.tween.length),l=0,c=-1;l<g;++l)(u=a.tween[l].value.call(t,t.__data__,a.index,a.group))&&(n[++c]=u);n.length=c+1}}function s(e){for(var A=e<a.duration?a.ease.call(null,e/a.duration):(a.timer.restart(o),a.state=5,1),i=-1,r=n.length;++i<r;)n[i].call(t,A);5===a.state&&(a.on.call("end",t,t.__data__,a.index,a.group),o())}function o(){for(var n in a.state=6,a.timer.stop(),delete A[e],A)return;delete t.__transition}A[e]=a,a.timer=Tn(i,0,a.time)}(t,a,{name:e,index:n,group:A,on:eA,tween:aA,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function AA(t,e){var a=rA(t,e);if(a.state>0)throw new Error("too late; already scheduled");return a}function iA(t,e){var a=rA(t,e);if(a.state>3)throw new Error("too late; already running");return a}function rA(t,e){var a=t.__transition;if(!a||!(a=a[e]))throw new Error("transition not found");return a}function sA(t,e){var a,n,A,i=t.__transition,r=!0;if(i){for(A in e=null==e?null:e+"",i)(a=i[A]).name===e?(n=a.state>2&&a.state<5,a.state=6,a.timer.stop(),a.on.call(n?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete i[A]):r=!1;r&&delete t.__transition}}function oA(t,e){var a,n;return function(){var A=iA(this,t),i=A.tween;if(i!==a)for(var r=0,s=(n=a=i).length;r<s;++r)if(n[r].name===e){(n=n.slice()).splice(r,1);break}A.tween=n}}function lA(t,e,a){var n,A;if("function"!=typeof a)throw new Error;return function(){var i=iA(this,t),r=i.tween;if(r!==n){A=(n=r).slice();for(var s={name:e,value:a},o=0,l=A.length;o<l;++o)if(A[o].name===e){A[o]=s;break}o===l&&A.push(s)}i.tween=A}}function cA(t,e,a){var n=t._id;return t.each((function(){var t=iA(this,n);(t.value||(t.value={}))[e]=a.apply(this,arguments)})),function(t){return rA(t,n).value[e]}}function gA(t,e){var a;return("number"==typeof e?Ha:e instanceof ma?Ya:(a=ma(e))?(e=a,Ya):za)(t,e)}function uA(t){return function(){this.removeAttribute(t)}}function dA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hA(t,e,a){var n,A,i=a+"";return function(){var r=this.getAttribute(t);return r===i?null:r===n?A:A=e(n=r,a)}}function pA(t,e,a){var n,A,i=a+"";return function(){var r=this.getAttributeNS(t.space,t.local);return r===i?null:r===n?A:A=e(n=r,a)}}function fA(t,e,a){var n,A,i;return function(){var r,s,o=a(this);if(null!=o)return(r=this.getAttribute(t))===(s=o+"")?null:r===n&&s===A?i:(A=s,i=e(n=r,o));this.removeAttribute(t)}}function CA(t,e,a){var n,A,i;return function(){var r,s,o=a(this);if(null!=o)return(r=this.getAttributeNS(t.space,t.local))===(s=o+"")?null:r===n&&s===A?i:(A=s,i=e(n=r,o));this.removeAttributeNS(t.space,t.local)}}function IA(t,e){return function(a){this.setAttribute(t,e.call(this,a))}}function BA(t,e){return function(a){this.setAttributeNS(t.space,t.local,e.call(this,a))}}function EA(t,e){var a,n;function A(){var A=e.apply(this,arguments);return A!==n&&(a=(n=A)&&BA(t,A)),a}return A._value=e,A}function mA(t,e){var a,n;function A(){var A=e.apply(this,arguments);return A!==n&&(a=(n=A)&&IA(t,A)),a}return A._value=e,A}function QA(t,e){return function(){AA(this,t).delay=+e.apply(this,arguments)}}function yA(t,e){return e=+e,function(){AA(this,t).delay=e}}function wA(t,e){return function(){iA(this,t).duration=+e.apply(this,arguments)}}function vA(t,e){return e=+e,function(){iA(this,t).duration=e}}function xA(t,e){if("function"!=typeof e)throw new Error;return function(){iA(this,t).ease=e}}function bA(t,e,a){var n,A,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?AA:iA;return function(){var r=i(this,t),s=r.on;s!==n&&(A=(n=s).copy()).on(e,a),r.on=A}}var DA=je.prototype.constructor;function MA(t){return function(){this.style.removeProperty(t)}}function kA(t,e,a){return function(n){this.style.setProperty(t,e.call(this,n),a)}}function LA(t,e,a){var n,A;function i(){var i=e.apply(this,arguments);return i!==A&&(n=(A=i)&&kA(t,i,a)),n}return i._value=e,i}function SA(t){return function(e){this.textContent=t.call(this,e)}}function GA(t){var e,a;function n(){var n=t.apply(this,arguments);return n!==a&&(e=(a=n)&&SA(n)),e}return n._value=t,n}var NA=0;function RA(t,e,a,n){this._groups=t,this._parents=e,this._name=a,this._id=n}function FA(t){return je().transition(t)}function YA(){return++NA}var $A=je.prototype;RA.prototype=FA.prototype={constructor:RA,select:function(t){var e=this._name,a=this._id;"function"!=typeof t&&(t=Nt(t));for(var n=this._groups,A=n.length,i=new Array(A),r=0;r<A;++r)for(var s,o,l=n[r],c=l.length,g=i[r]=new Array(c),u=0;u<c;++u)(s=l[u])&&(o=t.call(s,s.__data__,u,l))&&("__data__"in s&&(o.__data__=s.__data__),g[u]=o,nA(g[u],e,a,u,g,rA(s,a)));return new RA(i,this._parents,e,a)},selectAll:function(t){var e=this._name,a=this._id;"function"!=typeof t&&(t=Yt(t));for(var n=this._groups,A=n.length,i=[],r=[],s=0;s<A;++s)for(var o,l=n[s],c=l.length,g=0;g<c;++g)if(o=l[g]){for(var u,d=t.call(o,o.__data__,g,l),h=rA(o,a),p=0,f=d.length;p<f;++p)(u=d[p])&&nA(u,e,a,p,d,h);i.push(d),r.push(o)}return new RA(i,r,e,a)},filter:function(t){"function"!=typeof t&&(t=$t(t));for(var e=this._groups,a=e.length,n=new Array(a),A=0;A<a;++A)for(var i,r=e[A],s=r.length,o=n[A]=[],l=0;l<s;++l)(i=r[l])&&t.call(i,i.__data__,l,r)&&o.push(i);return new RA(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,a=t._groups,n=e.length,A=a.length,i=Math.min(n,A),r=new Array(n),s=0;s<i;++s)for(var o,l=e[s],c=a[s],g=l.length,u=r[s]=new Array(g),d=0;d<g;++d)(o=l[d]||c[d])&&(u[d]=o);for(;s<n;++s)r[s]=e[s];return new RA(r,this._parents,this._name,this._id)},selection:function(){return new DA(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,a=YA(),n=this._groups,A=n.length,i=0;i<A;++i)for(var r,s=n[i],o=s.length,l=0;l<o;++l)if(r=s[l]){var c=rA(r,e);nA(r,t,a,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new RA(n,this._parents,t,a)},call:$A.call,nodes:$A.nodes,node:$A.node,size:$A.size,empty:$A.empty,each:$A.each,on:function(t,e){var a=this._id;return arguments.length<2?rA(this.node(),a).on.on(t):this.each(bA(a,t,e))},attr:function(t,e){var a=Mt(t),n="transform"===a?tn:gA;return this.attrTween(t,"function"==typeof e?(a.local?CA:fA)(a,n,cA(this,"attr."+t,e)):null==e?(a.local?dA:uA)(a):(a.local?pA:hA)(a,n,e))},attrTween:function(t,e){var a="attr."+t;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==e)return this.tween(a,null);if("function"!=typeof e)throw new Error;var n=Mt(t);return this.tween(a,(n.local?EA:mA)(n,e))},style:function(t,e,a){var n="transform"==(t+="")?Va:gA;return null==e?this.styleTween(t,function(t,e){var a,n,A;return function(){var i=se(this,t),r=(this.style.removeProperty(t),se(this,t));return i===r?null:i===a&&r===n?A:A=e(a=i,n=r)}}(t,n)).on("end.style."+t,MA(t)):"function"==typeof e?this.styleTween(t,function(t,e,a){var n,A,i;return function(){var r=se(this,t),s=a(this),o=s+"";return null==s&&(this.style.removeProperty(t),o=s=se(this,t)),r===o?null:r===n&&o===A?i:(A=o,i=e(n=r,s))}}(t,n,cA(this,"style."+t,e))).each(function(t,e){var a,n,A,i,r="style."+e,s="end."+r;return function(){var o=iA(this,t),l=o.on,c=null==o.value[r]?i||(i=MA(e)):void 0;l===a&&A===c||(n=(a=l).copy()).on(s,A=c),o.on=n}}(this._id,t)):this.styleTween(t,function(t,e,a){var n,A,i=a+"";return function(){var r=se(this,t);return r===i?null:r===n?A:A=e(n=r,a)}}(t,n,e),a).on("end.style."+t,null)},styleTween:function(t,e,a){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,LA(t,e,null==a?"":a))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(cA(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,GA(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var a in this.__transition)if(+a!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var a=this._id;if(t+="",arguments.length<2){for(var n,A=rA(this.node(),a).tween,i=0,r=A.length;i<r;++i)if((n=A[i]).name===t)return n.value;return null}return this.each((null==e?oA:lA)(a,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?QA:yA)(e,t)):rA(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?wA:vA)(e,t)):rA(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(xA(e,t)):rA(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var a=e.apply(this,arguments);if("function"!=typeof a)throw new Error;iA(this,t).ease=a}}(this._id,t))},end:function(){var t,e,a=this,n=a._id,A=a.size();return new Promise((function(i,r){var s={value:r},o={value:function(){0==--A&&i()}};a.each((function(){var a=iA(this,n),A=a.on;A!==t&&((e=(t=A).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(o)),a.on=e})),0===A&&i()}))},[Symbol.iterator]:$A[Symbol.iterator]};function jA(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var UA=function t(e){function a(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,a.exponent=t,a}(3);var HA=2*Math.PI,JA=function t(e,a){var n=Math.asin(1/(e=Math.max(1,e)))*(a/=HA);function A(t){return 1-e*function(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}(t=+t)*Math.sin((t+n)/a)}return A.amplitude=function(e){return t(e,a*HA)},A.period=function(a){return t(e,a)},A}(1,.3),_A={time:null,delay:0,duration:250,ease:jA};function TA(t,e){for(var a;!(a=t.__transition)||!(a=a[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return a}je.prototype.interrupt=function(t){return this.each((function(){sA(this,t)}))},je.prototype.transition=function(t){var e,a;t instanceof RA?(e=t._id,t=t._name):(e=YA(),(a=_A).time=Hn(),t=null==t?null:t+"");for(var n=this._groups,A=n.length,i=0;i<A;++i)for(var r,s=n[i],o=s.length,l=0;l<o;++l)(r=s[l])&&nA(r,t,e,l,s,a||TA(r,e));return new RA(n,this._parents,t,e)};var zA=Array.prototype.slice;function OA(t){return t}var PA=1e-6;function KA(t){return"translate("+t+",0)"}function XA(t){return"translate(0,"+t+")"}function ZA(t){return e=>+t(e)}function qA(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),a=>+t(a)+e}function WA(){return!this.__axis}function VA(t,e){var a=[],n=null,A=null,i=6,r=6,s=3,o="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",g=1===t||3===t?KA:XA;function u(u){var d=null==n?e.ticks?e.ticks.apply(e,a):e.domain():n,h=null==A?e.tickFormat?e.tickFormat.apply(e,a):OA:A,p=Math.max(i,0)+s,f=e.range(),C=+f[0]+o,I=+f[f.length-1]+o,B=(e.bandwidth?qA:ZA)(e.copy(),o),E=u.selection?u.selection():u,m=E.selectAll(".domain").data([null]),Q=E.selectAll(".tick").data(d,e).order(),y=Q.exit(),w=Q.enter().append("g").attr("class","tick"),v=Q.select("line"),x=Q.select("text");m=m.merge(m.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Q=Q.merge(w),v=v.merge(w.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),x=x.merge(w.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),u!==E&&(m=m.transition(u),Q=Q.transition(u),v=v.transition(u),x=x.transition(u),y=y.transition(u).attr("opacity",PA).attr("transform",(function(t){return isFinite(t=B(t))?g(t+o):this.getAttribute("transform")})),w.attr("opacity",PA).attr("transform",(function(t){var e=this.parentNode.__axis;return g((e&&isFinite(e=e(t))?e:B(t))+o)}))),y.remove(),m.attr("d",4===t||2===t?r?"M"+l*r+","+C+"H"+o+"V"+I+"H"+l*r:"M"+o+","+C+"V"+I:r?"M"+C+","+l*r+"V"+o+"H"+I+"V"+l*r:"M"+C+","+o+"H"+I),Q.attr("opacity",1).attr("transform",(function(t){return g(B(t)+o)})),v.attr(c+"2",l*i),x.attr(c,l*p).text(h),E.filter(WA).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),E.each((function(){this.__axis=B}))}return u.scale=function(t){return arguments.length?(e=t,u):e},u.ticks=function(){return a=zA.call(arguments),u},u.tickArguments=function(t){return arguments.length?(a=null==t?[]:zA.call(t),u):a.slice()},u.tickValues=function(t){return arguments.length?(n=null==t?null:zA.call(t),u):n&&n.slice()},u.tickFormat=function(t){return arguments.length?(A=t,u):A},u.tickSize=function(t){return arguments.length?(i=r=+t,u):i},u.tickSizeInner=function(t){return arguments.length?(i=+t,u):i},u.tickSizeOuter=function(t){return arguments.length?(r=+t,u):r},u.tickPadding=function(t){return arguments.length?(s=+t,u):s},u.offset=function(t){return arguments.length?(o=+t,u):o},u}const ti=Math.PI,ei=2*ti,ai=1e-6,ni=ei-ai;function Ai(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ii(){return new Ai}function ri(t){return function(){return t}}function si(t){this._context=t}function oi(t){return new si(t)}function li(t){return t[0]}function ci(t){return t[1]}function gi(t,e){this._context=t,this._t=e}function ui(t){t.stopImmediatePropagation()}function di(t){t.preventDefault(),t.stopImmediatePropagation()}function hi(t){var e=t.document.documentElement,a=Ue(t).on("dragstart.drag",di,!0);"onselectstart"in e?a.on("selectstart.drag",di,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function pi(t,e){var a=t.document.documentElement,n=Ue(t).on("dragstart.drag",null);e&&(n.on("click.drag",di,!0),setTimeout((function(){n.on("click.drag",null)}),0)),"onselectstart"in a?n.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}Ai.prototype=ii.prototype={constructor:Ai,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,a,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+a)+","+(this._y1=+n)},bezierCurveTo:function(t,e,a,n,A,i){this._+="C"+ +t+","+ +e+","+ +a+","+ +n+","+(this._x1=+A)+","+(this._y1=+i)},arcTo:function(t,e,a,n,A){t=+t,e=+e,a=+a,n=+n,A=+A;var i=this._x1,r=this._y1,s=a-t,o=n-e,l=i-t,c=r-e,g=l*l+c*c;if(A<0)throw new Error("negative radius: "+A);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(g>ai)if(Math.abs(c*s-o*l)>ai&&A){var u=a-i,d=n-r,h=s*s+o*o,p=u*u+d*d,f=Math.sqrt(h),C=Math.sqrt(g),I=A*Math.tan((ti-Math.acos((h+g-p)/(2*f*C)))/2),B=I/C,E=I/f;Math.abs(B-1)>ai&&(this._+="L"+(t+B*l)+","+(e+B*c)),this._+="A"+A+","+A+",0,0,"+ +(c*u>l*d)+","+(this._x1=t+E*s)+","+(this._y1=e+E*o)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,a,n,A,i){t=+t,e=+e,i=!!i;var r=(a=+a)*Math.cos(n),s=a*Math.sin(n),o=t+r,l=e+s,c=1^i,g=i?n-A:A-n;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+o+","+l:(Math.abs(this._x1-o)>ai||Math.abs(this._y1-l)>ai)&&(this._+="L"+o+","+l),a&&(g<0&&(g=g%ei+ei),g>ni?this._+="A"+a+","+a+",0,1,"+c+","+(t-r)+","+(e-s)+"A"+a+","+a+",0,1,"+c+","+(this._x1=o)+","+(this._y1=l):g>ai&&(this._+="A"+a+","+a+",0,"+ +(g>=ti)+","+c+","+(this._x1=t+a*Math.cos(A))+","+(this._y1=e+a*Math.sin(A))))},rect:function(t,e,a,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +a+"v"+ +n+"h"+-a+"Z"},toString:function(){return this._}},si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,e)}}this._x=t,this._y=e}};var fi=t=>()=>t;function Ci(t,{sourceEvent:e,subject:a,target:n,identifier:A,active:i,x:r,y:s,dx:o,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:A,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:o,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}function Ii(t){return!t.ctrlKey&&!t.button}function Bi(){return this.parentNode}function Ei(t,e){return null==e?{x:t.x,y:t.y}:e}function mi(){return navigator.maxTouchPoints||"ontouchstart"in this}Ci.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Qi=t=>()=>t;function yi(t,{sourceEvent:e,target:a,selection:n,mode:A,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:A,enumerable:!0,configurable:!0},_:{value:i}})}function wi(t){t.stopImmediatePropagation()}function vi(t){t.preventDefault(),t.stopImmediatePropagation()}var xi={name:"drag"},bi={name:"space"},Di={name:"handle"},Mi={name:"center"};const{abs:ki,max:Li,min:Si}=Math;function Gi(t){return[+t[0],+t[1]]}function Ni(t){return[Gi(t[0]),Gi(t[1])]}var Ri={name:"x",handles:["w","e"].map(_i),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Fi={name:"y",handles:["n","s"].map(_i),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Yi={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(_i),input:function(t){return null==t?null:Ni(t)},output:function(t){return t}},$i={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ji={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ui={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Hi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ji={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function _i(t){return{type:t}}function Ti(t){return!t.ctrlKey&&!t.button}function zi(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Oi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ki(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}var Xi=t=>()=>t;function Zi(t,{sourceEvent:e,target:a,transform:n,dispatch:A}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:A}})}function qi(t,e,a){this.k=t,this.x=e,this.y=a}qi.prototype={constructor:qi,scale:function(t){return 1===t?this:new qi(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new qi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wi=new qi(1,0,0);function Vi(t){t.stopImmediatePropagation()}function tr(t){t.preventDefault(),t.stopImmediatePropagation()}function er(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function ar(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function nr(){return this.__zoom||Wi}function Ar(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ir(){return navigator.maxTouchPoints||"ontouchstart"in this}function rr(t,e,a){var n=t.invertX(e[0][0])-a[0][0],A=t.invertX(e[1][0])-a[1][0],i=t.invertY(e[0][1])-a[0][1],r=t.invertY(e[1][1])-a[1][1];return t.translate(A>n?(n+A)/2:Math.min(0,n)||Math.max(0,A),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}var sr={select:Ue,selectAll:function(t){return"string"==typeof t?new $e([document.querySelectorAll(t)],[document.documentElement]):new $e([null==t?[]:Rt(t)],Ye)},json:function(t,e){return fetch(t,e).then(Je)},scaleLinear:function t(){var e=un();return e.copy=function(){return cn(e,t())},We.apply(e,arguments),Mn(e)},scalePoint:function(){return aa(ea.apply(null,arguments).paddingInner(1))},scaleBand:ea,schemeTableau10:Sn,max:function(t,e){let a;if(void 0===e)for(const e of t)null!=e&&(a<e||void 0===a&&e>=e)&&(a=e);else{let n=-1;for(let A of t)null!=(A=e(A,++n,t))&&(a<A||void 0===a&&A>=A)&&(a=A)}return a},maxIndex:function(t,e){let a,n=-1,A=-1;if(void 0===e)for(const e of t)++A,null!=e&&(a<e||void 0===a&&e>=e)&&(a=e,n=A);else for(let i of t)null!=(i=e(i,++A,t))&&(a<i||void 0===a&&i>=i)&&(a=i,n=A);return n},min:function(t,e){let a;if(void 0===e)for(const e of t)null!=e&&(a>e||void 0===a&&e>=e)&&(a=e);else{let n=-1;for(let A of t)null!=(A=e(A,++n,t))&&(a>A||void 0===a&&A>=A)&&(a=A)}return a},minIndex:function(t,e){let a,n=-1,A=-1;if(void 0===e)for(const e of t)++A,null!=e&&(a>e||void 0===a&&e>=e)&&(a=e,n=A);else for(let i of t)null!=(i=e(i,++A,t))&&(a>i||void 0===a&&i>=i)&&(a=i,n=A);return n},extent:function(t,e){let a,n;if(void 0===e)for(const e of t)null!=e&&(void 0===a?e>=e&&(a=n=e):(a>e&&(a=e),n<e&&(n=e)));else{let A=-1;for(let i of t)null!=(i=e(i,++A,t))&&(void 0===a?i>=i&&(a=n=i):(a>i&&(a=i),n<i&&(n=i)))}return[a,n]},sum:function(t,e){let a=0;if(void 0===e)for(let e of t)(e=+e)&&(a+=e);else{let n=-1;for(let A of t)(A=+e(A,++n,t))&&(a+=A)}return a},timeout:Kn,transition:FA,easeLinear:t=>+t,easePolyInOut:UA,easeQuadInOut:function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2},easeCubicInOut:jA,easeElasticOut:JA,axisLeft:function(t){return VA(4,t)},axisBottom:function(t){return VA(3,t)},line:function(t,e){var a=ri(!0),n=null,A=oi,i=null;function r(r){var s,o,l,c=(r=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(r)).length,g=!1;for(null==n&&(i=A(l=ii())),s=0;s<=c;++s)!(s<c&&a(o=r[s],s,r))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(o,s,r),+e(o,s,r));if(l)return i=null,l+""||null}return t="function"==typeof t?t:void 0===t?li:ri(t),e="function"==typeof e?e:void 0===e?ci:ri(e),r.x=function(e){return arguments.length?(t="function"==typeof e?e:ri(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:ri(+t),r):e},r.defined=function(t){return arguments.length?(a="function"==typeof t?t:ri(!!t),r):a},r.curve=function(t){return arguments.length?(A=t,null!=n&&(i=A(n)),r):A},r.context=function(t){return arguments.length?(null==t?n=i=null:i=A(n=t),r):n},r},curveStepAfter:function(t){return new gi(t,1)},brush:function(){return function(t){var e,a=zi,n=Ti,A=Oi,i=!0,r=Zn("start","brush","end"),s=6;function o(e){var a=e.property("__brush",p).selectAll(".overlay").data([_i("overlay")]);a.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",$i.overlay).merge(a).each((function(){var t=Pi(this).extent;Ue(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([_i("selection")]).enter().append("rect").attr("class","selection").attr("cursor",$i.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));n.exit().remove(),n.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return $i[t.type]})),e.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",u).filter(A).on("touchstart.brush",u).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=Ue(this),e=Pi(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e,a){var n=t.__brush.emitter;return!n||a&&n.clean?new g(t,e,a):n}function g(t,e,a){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=a}function u(a){if((!e||a.touches)&&n.apply(this,arguments)){var A,r,s,o,g,u,d,h,p,f,C,I=this,B=a.target.__data__.type,E="selection"===(i&&a.metaKey?B="overlay":B)?xi:i&&a.altKey?Mi:Di,m=t===Fi?null:Hi[B],Q=t===Ri?null:Ji[B],y=Pi(I),w=y.extent,v=y.selection,x=w[0][0],b=w[0][1],D=w[1][0],M=w[1][1],k=0,L=0,S=m&&Q&&i&&a.shiftKey,G=Array.from(a.touches||[a],(t=>{const e=t.identifier;return(t=He(t,I)).point0=t.slice(),t.identifier=e,t}));if("overlay"===B){v&&(p=!0);const e=[G[0],G[1]||G[0]];y.selection=v=[[A=t===Fi?x:Si(e[0][0],e[1][0]),s=t===Ri?b:Si(e[0][1],e[1][1])],[g=t===Fi?D:Li(e[0][0],e[1][0]),d=t===Ri?M:Li(e[0][1],e[1][1])]],G.length>1&&j()}else A=v[0][0],s=v[0][1],g=v[1][0],d=v[1][1];r=A,o=s,u=g,h=d;var N=Ue(I).attr("pointer-events","none"),R=N.selectAll(".overlay").attr("cursor",$i[B]);sA(I);var F=c(I,arguments,!0).beforestart();if(a.touches)F.moved=$,F.ended=U;else{var Y=Ue(a.view).on("mousemove.brush",$,!0).on("mouseup.brush",U,!0);i&&Y.on("keydown.brush",H,!0).on("keyup.brush",J,!0),hi(a.view)}l.call(I),F.start(a,E.name)}function $(t){for(const e of t.changedTouches||[t])for(const t of G)t.identifier===e.identifier&&(t.cur=He(e,I));if(S&&!f&&!C&&1===G.length){const t=G[0];ki(t.cur[0]-t[0])>ki(t.cur[1]-t[1])?C=!0:f=!0}for(const t of G)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);p=!0,vi(t),j(t)}function j(t){const e=G[0],a=e.point0;var n;switch(k=e[0]-a[0],L=e[1]-a[1],E){case bi:case xi:m&&(k=Li(x-A,Si(D-g,k)),r=A+k,u=g+k),Q&&(L=Li(b-s,Si(M-d,L)),o=s+L,h=d+L);break;case Di:G[1]?(m&&(r=Li(x,Si(D,G[0][0])),u=Li(x,Si(D,G[1][0])),m=1),Q&&(o=Li(b,Si(M,G[0][1])),h=Li(b,Si(M,G[1][1])),Q=1)):(m<0?(k=Li(x-A,Si(D-A,k)),r=A+k,u=g):m>0&&(k=Li(x-g,Si(D-g,k)),r=A,u=g+k),Q<0?(L=Li(b-s,Si(M-s,L)),o=s+L,h=d):Q>0&&(L=Li(b-d,Si(M-d,L)),o=s,h=d+L));break;case Mi:m&&(r=Li(x,Si(D,A-k*m)),u=Li(x,Si(D,g+k*m))),Q&&(o=Li(b,Si(M,s-L*Q)),h=Li(b,Si(M,d+L*Q)))}u<r&&(m*=-1,n=A,A=g,g=n,n=r,r=u,u=n,B in ji&&R.attr("cursor",$i[B=ji[B]])),h<o&&(Q*=-1,n=s,s=d,d=n,n=o,o=h,h=n,B in Ui&&R.attr("cursor",$i[B=Ui[B]])),y.selection&&(v=y.selection),f&&(r=v[0][0],u=v[1][0]),C&&(o=v[0][1],h=v[1][1]),v[0][0]===r&&v[0][1]===o&&v[1][0]===u&&v[1][1]===h||(y.selection=[[r,o],[u,h]],l.call(I),F.brush(t,E.name))}function U(t){if(wi(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else pi(t.view,p),Y.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),R.attr("cursor",$i.overlay),y.selection&&(v=y.selection),Ki(v)&&(y.selection=null,l.call(I)),F.end(t,E.name)}function H(t){switch(t.keyCode){case 16:S=m&&Q;break;case 18:E===Di&&(m&&(g=u-k*m,A=r+k*m),Q&&(d=h-L*Q,s=o+L*Q),E=Mi,j());break;case 32:E!==Di&&E!==Mi||(m<0?g=u-k:m>0&&(A=r-k),Q<0?d=h-L:Q>0&&(s=o-L),E=bi,R.attr("cursor",$i.selection),j());break;default:return}vi(t)}function J(t){switch(t.keyCode){case 16:S&&(f=C=S=!1,j());break;case 18:E===Mi&&(m<0?g=u:m>0&&(A=r),Q<0?d=h:Q>0&&(s=o),E=Di,j());break;case 32:E===bi&&(t.altKey?(m&&(g=u-k*m,A=r+k*m),Q&&(d=h-L*Q,s=o+L*Q),E=Mi):(m<0?g=u:m>0&&(A=r),Q<0?d=h:Q>0&&(s=o),E=Di),R.attr("cursor",$i[B]),j());break;default:return}vi(t)}}function d(t){c(this,arguments).moved(t)}function h(t){c(this,arguments).ended(t)}function p(){var e=this.__brush||{selection:null};return e.extent=Ni(a.apply(this,arguments)),e.dim=t,e}return o.move=function(e,a){e.tween?e.on("start.brush",(function(t){c(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){c(this,arguments).end(t)})).tween("brush",(function(){var e=this,n=e.__brush,A=c(e,arguments),i=n.selection,r=t.input("function"==typeof a?a.apply(this,arguments):a,n.extent),s=Oa(i,r);function o(t){n.selection=1===t&&null===r?null:s(t),l.call(e),A.brush()}return null!==i&&null!==r?o:o(1)})):e.each((function(){var e=this,n=arguments,A=e.__brush,i=t.input("function"==typeof a?a.apply(e,n):a,A.extent),r=c(e,n).beforestart();sA(e),A.selection=null===i?null:i,l.call(e),r.start().brush().end()}))},o.clear=function(t){o.move(t,null)},g.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,a,n){var A=Ue(this.that).datum();r.call(e,this.that,new yi(e,{sourceEvent:a,target:o,selection:t.output(this.state.selection),mode:n,dispatch:r}),A)}},o.extent=function(t){return arguments.length?(a="function"==typeof t?t:Qi(Ni(t)),o):a},o.filter=function(t){return arguments.length?(n="function"==typeof t?t:Qi(!!t),o):n},o.touchable=function(t){return arguments.length?(A="function"==typeof t?t:Qi(!!t),o):A},o.handleSize=function(t){return arguments.length?(s=+t,o):s},o.keyModifiers=function(t){return arguments.length?(i=!!t,o):i},o.on=function(){var t=r.on.apply(r,arguments);return t===r?o:t},o}(Yi)},zoom:function(){var t,e,a,n=er,A=ar,i=rr,r=Ar,s=ir,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,g=an,u=Zn("start","zoom","end"),d=500,h=0,p=10;function f(t){t.property("__zoom",nr).on("wheel.zoom",y).on("mousedown.zoom",w).on("dblclick.zoom",v).filter(s).on("touchstart.zoom",x).on("touchmove.zoom",b).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function C(t,e){return(e=Math.max(o[0],Math.min(o[1],e)))===t.k?t:new qi(e,t.x,t.y)}function I(t,e,a){var n=e[0]-a[0]*t.k,A=e[1]-a[1]*t.k;return n===t.x&&A===t.y?t:new qi(t.k,n,A)}function B(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function E(t,e,a,n){t.on("start.zoom",(function(){m(this,arguments).event(n).start()})).on("interrupt.zoom end.zoom",(function(){m(this,arguments).event(n).end()})).tween("zoom",(function(){var t=this,i=arguments,r=m(t,i).event(n),s=A.apply(t,i),o=null==a?B(s):"function"==typeof a?a.apply(t,i):a,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=t.__zoom,u="function"==typeof e?e.apply(t,i):e,d=g(c.invert(o).concat(l/c.k),u.invert(o).concat(l/u.k));return function(t){if(1===t)t=u;else{var e=d(t),a=l/e[2];t=new qi(a,o[0]-e[0]*a,o[1]-e[1]*a)}r.zoom(null,t)}}))}function m(t,e,a){return!a&&t.__zooming||new Q(t,e)}function Q(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=A.apply(t,e),this.taps=0}function y(t,...e){if(n.apply(this,arguments)){var a=m(this,e).event(t),A=this.__zoom,s=Math.max(o[0],Math.min(o[1],A.k*Math.pow(2,r.apply(this,arguments)))),c=He(t);if(a.wheel)a.mouse[0][0]===c[0]&&a.mouse[0][1]===c[1]||(a.mouse[1]=A.invert(a.mouse[0]=c)),clearTimeout(a.wheel);else{if(A.k===s)return;a.mouse=[c,A.invert(c)],sA(this),a.start()}tr(t),a.wheel=setTimeout(g,150),a.zoom("mouse",i(I(C(A,s),a.mouse[0],a.mouse[1]),a.extent,l))}function g(){a.wheel=null,a.end()}}function w(t,...e){if(!a&&n.apply(this,arguments)){var A=m(this,e,!0).event(t),r=Ue(t.view).on("mousemove.zoom",u,!0).on("mouseup.zoom",d,!0),s=He(t,o),o=t.currentTarget,c=t.clientX,g=t.clientY;hi(t.view),Vi(t),A.mouse=[s,this.__zoom.invert(s)],sA(this),A.start()}function u(t){if(tr(t),!A.moved){var e=t.clientX-c,a=t.clientY-g;A.moved=e*e+a*a>h}A.event(t).zoom("mouse",i(I(A.that.__zoom,A.mouse[0]=He(t,o),A.mouse[1]),A.extent,l))}function d(t){r.on("mousemove.zoom mouseup.zoom",null),pi(t.view,A.moved),tr(t),A.event(t).end()}}function v(t,...e){if(n.apply(this,arguments)){var a=this.__zoom,r=He(t.changedTouches?t.changedTouches[0]:t,this),s=a.invert(r),o=a.k*(t.shiftKey?.5:2),g=i(I(C(a,o),r,s),A.apply(this,e),l);tr(t),c>0?Ue(this).transition().duration(c).call(E,g,r,t):Ue(this).call(f.transform,g,r,t)}}function x(a,...A){if(n.apply(this,arguments)){var i,r,s,o,l=a.touches,c=l.length,g=m(this,A,a.changedTouches.length===c).event(a);for(Vi(a),r=0;r<c;++r)o=[o=He(s=l[r],this),this.__zoom.invert(o),s.identifier],g.touch0?g.touch1||g.touch0[2]===o[2]||(g.touch1=o,g.taps=0):(g.touch0=o,i=!0,g.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(g.taps<2&&(e=o[0],t=setTimeout((function(){t=null}),d)),sA(this),g.start())}}function b(t,...e){if(this.__zooming){var a,n,A,r,s=m(this,e).event(t),o=t.changedTouches,c=o.length;for(tr(t),a=0;a<c;++a)A=He(n=o[a],this),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=A:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=A);if(n=s.that.__zoom,s.touch1){var g=s.touch0[0],u=s.touch0[1],d=s.touch1[0],h=s.touch1[1],p=(p=d[0]-g[0])*p+(p=d[1]-g[1])*p,f=(f=h[0]-u[0])*f+(f=h[1]-u[1])*f;n=C(n,Math.sqrt(p/f)),A=[(g[0]+d[0])/2,(g[1]+d[1])/2],r=[(u[0]+h[0])/2,(u[1]+h[1])/2]}else{if(!s.touch0)return;A=s.touch0[0],r=s.touch0[1]}s.zoom("touch",i(I(n,A,r),s.extent,l))}}function D(t,...n){if(this.__zooming){var A,i,r=m(this,n).event(t),s=t.changedTouches,o=s.length;for(Vi(t),a&&clearTimeout(a),a=setTimeout((function(){a=null}),d),A=0;A<o;++A)i=s[A],r.touch0&&r.touch0[2]===i.identifier?delete r.touch0:r.touch1&&r.touch1[2]===i.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps&&(i=He(i,this),Math.hypot(e[0]-i[0],e[1]-i[1])<p)){var l=Ue(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return f.transform=function(t,e,a,n){var A=t.selection?t.selection():t;A.property("__zoom",nr),t!==A?E(t,e,a,n):A.interrupt().each((function(){m(this,arguments).event(n).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},f.scaleBy=function(t,e,a,n){f.scaleTo(t,(function(){var t=this.__zoom.k,a="function"==typeof e?e.apply(this,arguments):e;return t*a}),a,n)},f.scaleTo=function(t,e,a,n){f.transform(t,(function(){var t=A.apply(this,arguments),n=this.__zoom,r=null==a?B(t):"function"==typeof a?a.apply(this,arguments):a,s=n.invert(r),o="function"==typeof e?e.apply(this,arguments):e;return i(I(C(n,o),r,s),t,l)}),a,n)},f.translateBy=function(t,e,a,n){f.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof a?a.apply(this,arguments):a),A.apply(this,arguments),l)}),null,n)},f.translateTo=function(t,e,a,n,r){f.transform(t,(function(){var t=A.apply(this,arguments),r=this.__zoom,s=null==n?B(t):"function"==typeof n?n.apply(this,arguments):n;return i(Wi.translate(s[0],s[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof a?-a.apply(this,arguments):-a),t,l)}),n,r)},Q.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Ue(this.that).datum();u.call(t,this.that,new Zi(t,{sourceEvent:this.sourceEvent,target:f,type:t,transform:this.that.__zoom,dispatch:u}),e)}},f.wheelDelta=function(t){return arguments.length?(r="function"==typeof t?t:Xi(+t),f):r},f.filter=function(t){return arguments.length?(n="function"==typeof t?t:Xi(!!t),f):n},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Xi(!!t),f):s},f.extent=function(t){return arguments.length?(A="function"==typeof t?t:Xi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),f):A},f.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],f):[o[0],o[1]]},f.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],f):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},f.constrain=function(t){return arguments.length?(i=t,f):i},f.duration=function(t){return arguments.length?(c=+t,f):c},f.interpolate=function(t){return arguments.length?(g=t,f):g},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f.tapDistance=function(t){return arguments.length?(p=+t,f):p},f},zoomIdentity:Wi,drag:function(){var t,e,a,n,A=Ii,i=Bi,r=Ei,s=mi,o={},l=Zn("start","drag","end"),c=0,g=0;function u(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",f).on("touchmove.drag",C).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(r,s){if(!n&&A.call(this,r,s)){var o=B(this,i.call(this,r,s),r,s,"mouse");o&&(Ue(r.view).on("mousemove.drag",h,!0).on("mouseup.drag",p,!0),hi(r.view),ui(r),a=!1,t=r.clientX,e=r.clientY,o("start",r))}}function h(n){if(di(n),!a){var A=n.clientX-t,i=n.clientY-e;a=A*A+i*i>g}o.mouse("drag",n)}function p(t){Ue(t.view).on("mousemove.drag mouseup.drag",null),pi(t.view,a),di(t),o.mouse("end",t)}function f(t,e){if(A.call(this,t,e)){var a,n,r=t.changedTouches,s=i.call(this,t,e),o=r.length;for(a=0;a<o;++a)(n=B(this,s,t,e,r[a].identifier,r[a]))&&(ui(t),n("start",t,r[a]))}}function C(t){var e,a,n=t.changedTouches,A=n.length;for(e=0;e<A;++e)(a=o[n[e].identifier])&&(di(t),a("drag",t,n[e]))}function I(t){var e,a,A=t.changedTouches,i=A.length;for(n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),e=0;e<i;++e)(a=o[A[e].identifier])&&(ui(t),a("end",t,A[e]))}function B(t,e,a,n,A,i){var s,g,d,h=l.copy(),p=He(i||a,e);if(null!=(d=r.call(t,new Ci("beforestart",{sourceEvent:a,target:u,identifier:A,active:c,x:p[0],y:p[1],dx:0,dy:0,dispatch:h}),n)))return s=d.x-p[0]||0,g=d.y-p[1]||0,function a(i,r,l){var f,C=p;switch(i){case"start":o[A]=a,f=c++;break;case"end":delete o[A],--c;case"drag":p=He(l||r,e),f=c}h.call(i,t,new Ci(i,{sourceEvent:r,subject:d,target:u,identifier:A,active:f,x:p[0]+s,y:p[1]+g,dx:p[0]-C[0],dy:p[1]-C[1],dispatch:h}),n)}}return u.filter=function(t){return arguments.length?(A="function"==typeof t?t:fi(!!t),u):A},u.container=function(t){return arguments.length?(i="function"==typeof t?t:fi(t),u):i},u.subject=function(t){return arguments.length?(r="function"==typeof t?t:fi(t),u):r},u.touchable=function(t){return arguments.length?(s="function"==typeof t?t:fi(!!t),u):s},u.on=function(){var t=l.on.apply(l,arguments);return t===l?u:t},u.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,u):Math.sqrt(g)},u},format:yn};const or="undefined"!=typeof BigUint64Array,lr=Symbol(),cr=new TextDecoder("utf-16le");function gr(t,e){const a=new Uint32Array(t)[e+-4>>>2]>>>1,n=new Uint16Array(t,e,a);return a<=32?String.fromCharCode.apply(String,n):cr.decode(n)}function ur(t){const e={};function a(t,e){return t?gr(t.buffer,e):"<yet unknown>"}const n=t.env=t.env||{};return n.abort=n.abort||function(t,A,i,r){const s=e.memory||n.memory;throw Error(`abort: ${a(s,t)} at ${a(s,A)}:${i}:${r}`)},n.trace=n.trace||function(t,A,...i){const r=e.memory||n.memory;console.log(`trace: ${a(r,t)}${A?" ":""}${i.slice(0,A).join(", ")}`)},n.seed=n.seed||Date.now,t.Math=t.Math||Math,t.Date=t.Date||Date,e}const dr=function(){throw Error("Operation requires compiling with --exportRuntime")};function hr(t,e){const a=e.exports,n=a.memory,A=a.table,i=a.__new||dr,r=a.__pin||dr,s=a.__unpin||dr,o=a.__collect||dr,l=a.__rtti_base,c=l?function(t){return t[l>>>2]}:dr;function g(t){const e=function(t){const e=new Uint32Array(n.buffer);if((t>>>=0)>=c(e))throw Error(`invalid id: ${t}`);return e[(l+4>>>2)+2*t]}(t);if(!(7&e))throw Error(`not an array: ${t}, flags=${e}`);return e}function u(t){const e=new Uint32Array(n.buffer);if((t>>>=0)>=c(e))throw Error(`invalid id: ${t}`);return e[(l+4>>>2)+2*t+1]}function d(t){return 31-Math.clz32(t>>>6&31)}function h(t,e,a){const A=n.buffer;if(a)switch(t){case 2:return new Float32Array(A);case 3:return new Float64Array(A)}else switch(t){case 0:return new(e?Int8Array:Uint8Array)(A);case 1:return new(e?Int16Array:Uint16Array)(A);case 2:return new(e?Int32Array:Uint32Array)(A);case 3:return new(e?BigInt64Array:BigUint64Array)(A)}throw Error(`unsupported align: ${t}`)}function p(t){const e=new Uint32Array(n.buffer),a=g(e[t+-8>>>2]),A=d(a);let i=4&a?t:e[t+4>>>2];const r=2&a?e[t+12>>>2]:e[i+-4>>>2]>>>A;return h(A,2048&a,4096&a).subarray(i>>>=A,i+r)}function f(t,e,a){return new t(C(t,e,a))}function C(t,e,a){const A=n.buffer,i=new Uint32Array(A),r=i[a+4>>>2];return new t(A,r,i[r+-4>>>2]>>>e)}function I(e,a,n){t[`__get${a}`]=f.bind(null,e,n),t[`__get${a}View`]=C.bind(null,e,n)}return t.__new=i,t.__pin=r,t.__unpin=s,t.__collect=o,t.__newString=function(t){if(null==t)return 0;const e=t.length,a=i(e<<1,1),A=new Uint16Array(n.buffer);for(var r=0,s=a>>>1;r<e;++r)A[s+r]=t.charCodeAt(r);return a},t.__getString=function(t){if(!t)return null;const e=n.buffer;if(1!==new Uint32Array(e)[t+-8>>>2])throw Error(`not a string: ${t}`);return gr(e,t)},t.__newArray=function(t,e){const a=g(t),A=d(a),o=e.length,l=i(o<<A,4&a?t:0);let c;if(4&a)c=l;else{r(l);const e=i(2&a?16:12,t);s(l);const g=new Uint32Array(n.buffer);g[e+0>>>2]=l,g[e+4>>>2]=l,g[e+8>>>2]=o<<A,2&a&&(g[e+12>>>2]=o),c=e}const u=h(A,2048&a,4096&a);if(16384&a)for(let t=0;t<o;++t){const a=e[t];u[(l>>>A)+t]=a}else u.set(e,l>>>A);return c},t.__getArrayView=p,t.__getArray=function(t){const e=p(t),a=e.length,n=new Array(a);for(let t=0;t<a;t++)n[t]=e[t];return n},t.__getArrayBuffer=function(t){const e=n.buffer,a=new Uint32Array(e)[t+-4>>>2];return e.slice(t,t+a)},[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach((t=>{I(t,t.name,31-Math.clz32(t.BYTES_PER_ELEMENT))})),or&&[BigUint64Array,BigInt64Array].forEach((t=>{I(t,t.name.slice(3),3)})),t.__instanceof=function(t,e){const a=new Uint32Array(n.buffer);let A=a[t+-8>>>2];if(A<=c(a))do{if(A==e)return!0;A=u(A)}while(A);return!1},t.memory=t.memory||n,t.table=t.table||A,Br(a,t)}function pr(t){return"undefined"!=typeof Response&&t instanceof Response}function fr(t){return t instanceof WebAssembly.Module}async function Cr(t,e={}){if(pr(t=await t))return Ir(t,e);const a=fr(t)?t:await WebAssembly.compile(t),n=ur(e),A=await WebAssembly.instantiate(a,e);return{module:a,instance:A,exports:hr(n,A)}}async function Ir(t,e={}){if(!WebAssembly.instantiateStreaming)return Cr(pr(t=await t)?t.arrayBuffer():t,e);const a=ur(e),n=await WebAssembly.instantiateStreaming(t,e),A=hr(a,n.instance);return{...n,exports:A}}function Br(t,e={}){const a=t.__argumentsLength?e=>{t.__argumentsLength.value=e}:t.__setArgumentsLength||t.__setargc||(()=>{});for(let n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const A=t[n];let i=n.split("."),r=e;for(;i.length>1;){let t=i.shift();Object.prototype.hasOwnProperty.call(r,t)||(r[t]={}),r=r[t]}let s=i[0],o=s.indexOf("#");if(o>=0){const e=s.substring(0,o),i=r[e];if(void 0===i||!i.prototype){const t=function(...e){return t.wrap(t.prototype.constructor(0,...e))};t.prototype={valueOf(){return this[lr]}},t.wrap=function(e){return Object.create(t.prototype,{[lr]:{value:e,writable:!1}})},i&&Object.getOwnPropertyNames(i).forEach((e=>Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e)))),r[e]=t}if(s=s.substring(o+1),r=r[e].prototype,/^(get|set):/.test(s)){if(!Object.prototype.hasOwnProperty.call(r,s=s.substring(4))){let e=t[n.replace("set:","get:")],a=t[n.replace("get:","set:")];Object.defineProperty(r,s,{get(){return e(this[lr])},set(t){a(this[lr],t)},enumerable:!0})}}else"constructor"===s?(r[s]=(...t)=>(a(t.length),A(...t))).original=A:(r[s]=function(...t){return a(t.length),A(this[lr],...t)}).original=A}else/^(get|set):/.test(s)?Object.prototype.hasOwnProperty.call(r,s=s.substring(4))||Object.defineProperty(r,s,{get:t[n.replace("set:","get:")],set:t[n.replace("get:","set:")],enumerable:!0}):"function"==typeof A&&A!==a?(r[s]=(...t)=>(a(t.length),A(...t))).original=A:r[s]=A}return e}var Er={instantiate:Cr,instantiateSync:function(t,e={}){const a=fr(t)?t:new WebAssembly.Module(t),n=ur(e),A=new WebAssembly.Instance(a,e);return{module:a,instance:A,exports:hr(n,A)}},instantiateStreaming:Ir,demangle:Br};const mr=t=>Er.instantiate(fetch("data:application/octet-binary;base64,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AUECdGooAgQiAkUEQEEAQdALQdcCQRIQAAALIAAgAmggAUEEdGpBAnRqKAJgBUEACwsL6QIBA38gAUH8////A0sEQEGACUHQC0HKA0EdEAAACyAAQQwgAUETakFwcUEEayABQQxNGyICEA4iAUUEQEEEPwAiAUEQdEEEayAAKAKgDEd0IAJBAUEbIAJna3RBAWtqIAIgAkH+////AUkbakH//wNqQYCAfHFBEHYhAyABIAMgASADShtAAEEASARAIANAAEEASARAAAsLIAAgAUEQdD8AQRB0EAsgACACEA4iAUUEQEEAQdALQfADQRAQAAALCyACIAEoAgBBfHFLBEBBAEHQC0HyA0EOEAAACyAAIAEQCSABKAIAIQMgAkEEakEPcQRAQQBB0AtB5QJBDhAAAAsgA0F8cSACayIEQRBPBEAgASACIANBAnFyNgIAIAIgAUEEamoiAiAEQQRrQQFyNgIAIAAgAhAKBSABIANBfnE2AgAgAUEEaiIAIAEoAgBBfHFqIAAgASgCAEF8cWooAgBBfXE2AgALIAEL1gIBAX8CQCABRQ0AIABBADoAACAAIAFqIgJBAWtBADoAACABQQJNDQAgAEEAOgABIABBADoAAiACQQJrQQA6AAAgAkEDa0EAOgAAIAFBBk0NACAAQQA6AAMgAkEEa0EAOgAAIAFBCE0NACAAQQAgAGtBA3EiAmoiAEEANgIAIAAgASACa0F8cSICaiIBQQRrQQA2AgAgAkEITQ0AIABBADYCBCAAQQA2AgggAUEMa0EANgIAIAFBCGtBADYCACACQRhNDQAgAEEANgIMIABBADYCECAAQQA2AhQgAEEANgIYIAFBHGtBADYCACABQRhrQQA2AgAgAUEUa0EANgIAIAFBEGtBADYCACAAIABBBHFBGGoiAWohACACIAFrIQEDQCABQSBPBEAgAEIANwMAIABCADcDCCAAQgA3AxAgAEIANwMYIAFBIGshASAAQSBqIQAMAQsLCwuyAQEBfyAAQez///8DTwRAQYAJQcAJQYQCQR8QAAALIwQjBU8EQAJAQYAQIQIDQCACEA1rIQIjBkUEQCMErULIAX5C5ACAp0GACGokBQwCCyACQQBKDQALIwQjBCMFa0GACElBCnRqJAULCyAAQRBqIQIjDUUEQBAMCyMNIAIQDyICIAE2AgwgAiAANgIQ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aiACNgIAC3UBA38gACgCDEEBayEDA0AgAyAEa0EBSgRAIAAgBLcgAyAEa0ECbbecoKoiAhAUIAFjBEAgAiEEBSAAIAIQFCABZEUEQCACDwsgAiEDCwwBCwsgACADEBQgAWMEQCADQQFqDwsgACAEEBQgAWQEQCAEDwsgAwsRACAAIAE2AiQgACABQQAQEgsRACAAIAE2AiggACABQQAQEgsRACAAIAE2AiwgACABQQAQEgsEACAACxEAIAAgATYCMCAAIAFBABASC1oCAn8BfCAAKAIMIgIEQCAAKAIEIQEgACgCBCACQQFrQQN0aiEAA0AgACABSwRAIAErAwAhAyABIAArAwA5AwAgACADOQMAIAFBCGohASAAQQhrIQAMAQsLCwstAQJ/IAAgACgCDCICQQFqIgNBAxAXIAAoAgQgAkEDdGogATkDACAAIAM2AgwL7gMBAn8jEUEYayQREDQjEUIANwMAIxFCADcDCCMRQgA3AxAgASACIANBARA1IxEgASACIAMQPSIDNgIAIxEgA0EAEDoiAjYCBCMRIANBARA6IgE2AggjESADQQIQOiIDNgIMIAAtACBFBEAgARAqIAMQKgsgASADEDYDQCAEIAEoAgxIBEAgASAEEBQgACsDAGMEQCABIAQgACsDABAcCyABIAQQFCAAKwMIZARAIAEgBCAAKwMIEBwLIARBAWohBAwBCwsgAC0AIEUEQCABECoLQQAhBANAIAQgAigCDEgEQCACIAQQFCAAKwMYZARAIAAgAiAEEBQ5AxgLIAIgBBAUIAArAxBjBEAgACACIAQQFDkDEAsgBEEBaiEEDAELCyMRQQAQPCIENgIQIxFBABA8IgU2AhQgBCACQQAQFBArIAUgAUEAEBQQK0EBIQMDQCADIAEoAgxBAWtIBEAgASADEBQgASADQQFrEBShmUSN7bWg98awPmQEf0EBBSABIAMQFCABIANBAWoQFKGZRI3ttaD3xrA+ZAsEQCAEIAIgAxAUECsgBSABIAMQFBArCyADQQFqIQMMAQsLIAQgAiACKAIMQQFrEBQQKyAFIAEgASgCDEEBaxAUECsgACAEECUgACAFECYjEUEYaiQRCy8AIAEgACgCCEEDdk8EQEHACkHwD0HpCkHAABAAAAsgACgCBCABQQN0aiACOQMACzgBAX8gAARAIABBFGsiASgC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ACMRQQRrJBEQNCMRIAA2AgAgACABECQhACMRQQRqJBEgAAskAQF8IxFBBGskERA0IxEgADYCACAAKwMAIQEjEUEEaiQRIAELIAAjEUEEayQREDQjESAANgIAIAAgATkDACMRQQRqJBELJAEBfCMRQQRrJBEQNCMRIAA2AgAgACsDCCEBIxFBBGokESABCyAAIxFBBGskERA0IxEgADYCACAAIAE5AwgjEUEEaiQRCyQBAXwjEUEEayQREDQjESAANgIAIAArAxAhASMRQQRqJBEgAQsgACMRQQRrJBEQNCMRIAA2AgAgACABOQMQIxFBBGokEQskAQF8IxFBBGskERA0IxEgADYCACAAKwMYIQEjEUEEaiQRIAELIAAjEUEEayQREDQjESAANgIAIAAgATkDGCMRQQRqJBELIgAjEUEEayQREDQjESAANgIAIAAtACAhACMRQQRqJBEgAAsgACMRQQRrJBEQNCMRIAA2AgAgACABOgAgIxFBBGokEQsiACMRQQRrJBEQNCMRIAA2AgAgAC0AISEAIxFBBGokESAACyAAIxFBBGskERA0IxEgADYCACAAIAE6ACEjEUEEaiQRCyIAIxFBBGskERA0IxEgADYCACAAKAIkIQAjEUEEaiQRIAALJgAjEUEIayQREDQjESAANgIAIxEgATYCBCAAIAEQJSMRQQhqJBELIgAjEUEEayQREDQjESAANgIAIAAoAighACMRQQRqJBEgAAsmACMRQQhrJBEQNCMRIAA2AgAjESABNgIEIAAgARAmIxFBCGokEQsiACMRQQRrJBEQNCMRIAA2AgAgACgCLCEAIxFBBGokESAACyYAIxFBCGskERA0IxEgADYCACMRIAE2AgQgACABECcjEUEIaiQRCyIAIxFBBGskERA0IxEgADYCACAAKAIwIQAjEUEEaiQRIAALJgAjEUEIayQREDQjESAANgIAIxEgATYCBCAAIAEQKSMRQQhqJBELKQAjEUEEayQREDQjESAANgIAIAAgASACIAMgBBA+IQAjEUEEaiQRIAALOAAjEUEQayQREDQjESAANgIAIxEgATYCBCMRIAI2AggjESADNgIMIAAgASACIAMQLCMRQRBqJBELKgAjEUEIayQREDQjESAANgIAIxEgATYCBCAAIAEQNyEAIxFBCGokESAAC2kAIxFBBGskERA0IxEgADYCACAAQQBBA0EDQbAQEDgQJSAAQQBBA0EDQdAQEDgQJiAAQQBBA0EDQfAQEDgQJyAAQZARECkgAEQAAAAAAADwfzkDECAARAAAAAAAAPD/OQMYIxFBBGokEQsL0QcuAEGMCAsBLABBmAgLIwEAAAAcAAAASQBuAHYAYQBsAGkAZAAgAGwAZQBuAGcAdABoAEG8CAsBLABByAgLIQEAAAAaAAAAfgBsAGkAYgAvAGEAcgByAGEAeQAuAHQAcwBB7AgLATwAQfgICy8BAAAAKAAAAEEAbABsAG8AYwBhAHQAaQBvAG4AIAB0AG8AbwAgAGwAYQByAGcAZQBBrAkLATwAQbgJCycBAAAAIAAAAH4AbABpAGIALwByAHQALwBpAHQAYwBtAHMALgB0AHMAQawKCwE8AEG4CgsrAQAAACQAAABJAG4AZABlAHgAIABvAHUAdAAgAG8AZgAgAHIAYQBuAGcAZQBB7AoLASwAQfgKCxsBAAAAFAAAAH4AbABpAGIALwByAHQALgB0AHMAQbwLCwE8AEHICwslAQAAAB4AAAB+AGwAaQBiAC8AcgB0AC8AdABsAHMAZgAuAHQAcwBB/AsLARwAQYgMCwkGAAAACAAAAAEAQZwMCwEcAEGoDAsJBgAAAAgAAAACAEG8DAsBfABByAwLZQEAAABeAAAARQBsAGUAbQBlAG4AdAAgAHQAeQBwAGUAIABtAHUAcwB0ACAAYgBlACAAbgB1AGwAbABhAGIAbABlACAAaQBmACAAYQByAHIAYQB5ACAAaQBzACAAaABvAGwAZQB5AEG8DQsBPABByA0LLQEAAAAmAAAAfgBsAGkAYgAvAGEAcgByAGEAeQBiAHUAZgBmAGUAcgAuAHQAcwBB/A0LATwAQYgOCy8BAAAAKAAAAGEAcwBzAGUAbQBiAGwAeQAvAGkAcwBvAHQAbwBuAGkAYwAuAHQAcwBBvA4LARwAQcgOCwkIAAAACAAAAAMAQdwOCwEcAEH8DgsBHABBnA8LARwAQbwPCwEcAEHIDwsJCgAAAAgAAAAEAEHcDwsBPABB6A8LKwEAAAAkAAAAfgBsAGkAYgAvAHQAeQBwAGUAZABhAHIAcgBhAHkALgB0AHMAQZwQCwEcAEG8EAsBHABB3BALARwAQfwQCwEcAEGIEQsJCgAAAAgAAAAFAEGcEQsBPABBqBELMQEAAAAqAAAATwBiAGoAZQBjAHQAIABhAGwAcgBlAGEAZAB5ACAAcABpAG4AbgBlAGQAQdwRCwE8AEHoEQsvAQAAACgAAABPAGIAagBlAGMAdAAgAGkAcwAgAG4AbwB0ACAAcABpAG4AbgBlAGQAQaASCw0MAAAAIAAAAAAAAAAgAEG8EgsSAhoAAAAAAAACQQAAAAAAAAIJAEHcEgsCCBoAQfwSCwUBGgAAAg==").then((t=>t.arrayBuffer())),{}).then((({exports:e})=>{const a=e,n=a.__pin,A=a.__unpin,i=a.__newArray,r=a.__getArray;return new class{iso;constructor({yMin:t=-1/0,yMax:e=1/0,increasing:A=!0,clipOutOfBound:i=!0}={}){this.iso=new a.__IsotonicRegression(t,e,A,i),n(this.iso)}fit(t,e,r){let s=r;void 0===r&&(s=new Array(t.length).fill(1)),this.__checkFitParam(t,e,s);let o=n(i(a.xArrayID,t)),l=n(i(a.yArrayID,e)),c=n(i(a.wArrayID,s));this.iso.fit(o,l,c),A(o),A(l),A(c)}predict(t){let e=n(i(a.newXArrayID,t)),s=this.iso.predict(e),o=r(s);return A(e),o}reset(){this.iso.reset()}destroy(){A(this.iso)}get xThresholds(){return r(this.iso.xThresholds)}get yThresholds(){return r(this.iso.yThresholds)}get xMin(){return this.iso.xMin}get xMax(){return this.iso.xMax}__checkFitParam(t,e,a){if(t.length<=1||e.length<=1||a.length<=1)throw new Error("The length of input arrays should be greater than 1.");if(t.length!==e.length)throw new Error("The x array and y array should have the same length.")}}({increasing:t})})),Qr=(t,e)=>Math.round((t+Number.EPSILON)*10**e)/10**e,yr=(t,e)=>{let a=0;for(let n=0;n<t.length;n++)a+=Math.abs(t[n]-e[n]);return a},wr=t=>{let e=t.name,a=e.lastIndexOf(".");return[e.slice(0,a),e.slice(a+1)]},vr={top:30,right:15,bottom:10,left:5},xr='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;',br=.7,Dr=8,Mr={line:"hsl(222, 80%, 30%)",lineConfidence:"hsl(222, 60%, 50%)",bar:"hsl(223, 55%, 54%)",dot:"hsla(222, 80%, 30%, 100%)",dotConfidence:"hsl(222, 100%, 79%)",hist:"hsl(222, 10%, 93%)",histAxis:"hsl(222, 10%, 70%)",line0:"hsla(222, 0%, 0%, 5%)",background:"hsl(20, 16%, 99%)"},kr=(t,e,a)=>{let n=t.append("defs").append("linearGradient").attr("x1",0).attr("y1",0).attr("x2",1).attr("y2",0).attr("id","legend-gradient");n.append("stop").attr("stop-color",e.startColor).attr("offset",0),n.append("stop").attr("stop-color","#ffffff").attr("offset",.5),n.append("stop").attr("stop-color",e.endColor).attr("offset",1),t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).style("fill","url(#legend-gradient)").style("stroke","hsla(0, 0%, 0%, 0.5)").style("stroke-width",.3);let A=sr.scaleLinear().domain([-a,a]).range([0,e.width]);t.append("g").attr("transform",`translate(0, ${e.height})`).call(sr.axisBottom(A).ticks(5).tickFormat((t=>Math.abs(t)>=1e3?t/1e3+"K":t))).attr("font-family",xr).style("stroke-width",.5),t.append("text").attr("class","legend-title").attr("x",-10).attr("y",0).style("dominant-baseline","hanging").style("text-anchor","end").style("font-weight",300).text("Score")},Lr=(t,e,a,n=!1)=>{let A=sr.select(t).append("g").attr("transform","translate(200, 50)").attr("class","temp-group").style("visibility","hidden");A.call(sr.axisLeft(e).tickFormat((t=>Math.abs(t)>=1e3&&n?t/1e3+"K":t))),A.attr("font-family",a);return A.node().getBoundingClientRect().width};class Sr{constructor(){this.hasSelected=!1,this.nodeData=[],this.boundingBox=[],this.nodeDataBuffer=null}computeBBox(t){if(this.nodeData.length>0){let e=t[this.nodeData.reduce(((t,e)=>t.x>e.x?t:e)).id],a=null===e.rightPointID?e.maxX:t[e.rightPointID].x;this.boundingBox=[{x1:sr.min(this.nodeData.map((t=>t.x))),y1:sr.max(this.nodeData.map((t=>t.y))),x2:a,y2:sr.min(this.nodeData.map((t=>t.y)))}]}else this.boundingBox=[]}computeBBoxBuffer(){this.nodeDataBuffer.length>0?this.boundingBox=[{x1:sr.min(this.nodeDataBuffer.map((t=>t.x))),y1:sr.max(this.nodeDataBuffer.map((t=>t.y))),x2:sr.max(this.nodeDataBuffer.map((t=>t.x))),y2:sr.min(this.nodeDataBuffer.map((t=>t.y)))}]:this.boundingBox=[]}updateNodeData(t){for(let e=0;e<this.nodeData.length;e++)this.nodeData[e].x=t[this.nodeData[e].id].x,this.nodeData[e].y=t[this.nodeData[e].id].y}}const Gr=t=>{let e=[],a=t.pointDataBuffer[Object.keys(t.pointDataBuffer)[0]];for(;null!==a.leftPointID;)a=t.pointDataBuffer[a.leftPointID];let n=0,A=t.pointDataBuffer[a.rightPointID];for(;null!==a.rightPointID;)e.push({x1:a.x,y1:a.y,x2:A.x,y2:a.y,id:`path-${a.id}-${A.id}-r`,pos:"r",sx:a.x,sy:a.y,tx:A.x,ty:A.y}),a.rightLineIndex=n,n++,e.push({x1:A.x,y1:a.y,x2:A.x,y2:A.y,id:`path-${a.id}-${A.id}-l`,pos:"l",sx:a.x,sy:a.y,tx:A.x,ty:A.y}),A.leftLineIndex=n,n++,a=A,A=t.pointDataBuffer[a.rightPointID];e.push({x1:a.x,y1:a.y,x2:t.oriXScale.domain()[1],y2:a.y,id:`path-${a.id}-${a.id}-r`,pos:"r",sx:a.x,sy:a.y,tx:t.oriXScale.domain()[1],ty:a.y}),a.rightLineIndex=n,t.additiveDataBuffer=e},Nr=(t,e,a)=>{const n=sr.select(e).select("g.select-bbox-group rect.select-bbox");if(null===n.node())return;const A=n.node().getBoundingClientRect(),i=a.getBoundingClientRect(),r=t.node().getBoundingClientRect(),s=+t.select(".menu-wrapper").attr("data-max-width"),o=r.height;let l=A.x-i.x+A.width/2-s/2,c=A.y-i.y-o-40;l=Math.max(0,l),l=Math.min(i.width-s,l),c=Math.max(0,c),t.style("left",`${l}px`).style("top",`${c}px`)},Rr=[2,16],Fr=[.95,30],Yr=t=>{let e=(t-Fr[0])/(Fr[1]-Fr[0]);return e=sr.easeLinear(e),(e*(Rr[1]-Rr[0])+Rr[0])/t},$r=(t,e,a,n,A)=>(t.style("stroke","black").style("stroke-opacity",.08),t.call((t=>t.selectAll("line.grid-line-x").data(e.ticks(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-x").attr("y2",A)),(t=>t),(t=>t.remove())).attr("x1",(t=>.5+e(t))).attr("x2",(t=>.5+e(t))))),t.call((t=>t.selectAll("line.grid-line-y").data(a.ticks(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-y").classed("grid-line-y-0",(t=>0===t)).attr("x2",n)),(t=>t),(t=>t.remove())).attr("y1",(t=>a(t))).attr("y2",(t=>a(t))))));class jr{constructor(){this.b0=0,this.b1=0,this.trained=!1}fit(t,e,a){void 0===a&&(a=new Array(t.length).fill(1));let n=0,A=0,i=0;for(let r=0;r<t.length;r++)n+=a[r]*t[r],A+=a[r]*e[r],i+=a[r];let r=n/i,s=A/i,o=0,l=0;for(let n=0;n<t.length;n++)o+=a[n]*(t[n]-r)*(e[n]-s),l+=a[n]*(t[n]-r)**2;this.b1=o/l,this.b0=s-this.b1*r,this.trained=!0}predict(t){if(this.trained)return t.map((t=>this.b0+this.b1*t));console.error("This model is not trained yet.")}reset(){this.b0=0,this.b1=0,this.trained=!1}}let Ur=null;const Hr=(t,e,a=!0,n)=>{const A=sr.select(e);let i=sr.transition("restore").duration(500).ease(sr.easeElasticOut.period(.35)),r=sr.transition("restoreNo").duration(500).ease(sr.easeLinear);a||(i=r),void 0!==n&&i.on("end",n),t.selectedInfo.updateNodeData(t.pointData),t.selectedInfo.computeBBox(t.pointData),A.select("g.line-chart-node-group").selectAll("circle.node").data(Object.values(t.pointData),(t=>t.id)).join((e=>e.append("circle").attr("class","node").classed("selected",t.selectedInfo.hasSelected).attr("id",(t=>`node-${t.id}`)).attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y))).attr("r",Yr(t.curTransform.k)).style("opacity",0).style("stroke-width",1/t.curTransform.k).call((t=>t.transition(r).style("opacity",1)))),(e=>e.call((e=>e.transition(i).attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y)))))),(t=>t.remove())),A.select("g.line-chart-line-group.real").selectAll("path.additive-line-segment").data(t.additiveData,(t=>`${t.id}-${t.pos}`)).join((e=>e.append("path").attr("class","additive-line-segment").classed("selected",t.selectedInfo.hasSelected).attr("id",(t=>t.id)).attr("d",(e=>`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n          L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`)).style("opacity",.2).call((t=>t.transition(r).delay(300).style("opacity",1)))),(e=>e.call((e=>e.transition(i).attr("d",(e=>`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n              L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`))))),(t=>t.call((t=>t.style("opacity",1).transition("pre").duration(300).style("opacity",0).remove()))));let s=Yr(t.curTransform.k)+t.bboxPadding*t.curTransform.k;A.select("g.line-chart-content-group g.select-bbox-group").selectAll("rect.select-bbox").datum(t.selectedInfo.boundingBox[0]).transition(i).attr("y",(e=>t.curYScale(e.y1)-s)).attr("height",(e=>t.curYScale(e.y2)-t.curYScale(e.y1)+2*s))},Jr=(t,e,a,n)=>{t.selectedInfo.nodeData.forEach(((e,n)=>{const A=e.id,i=t.pointDataBuffer[A];t.pointDataBuffer[A].y=a[n];const r=i.leftLineIndex;null!==r&&(t.additiveDataBuffer[r].y2=a[n]);const s=i.rightLineIndex;if(t.additiveDataBuffer[s].y1=a[n],t.additiveDataBuffer[s].y2=a[n],t.additiveDataBuffer[s].sy=a[n],null!==i.rightPointID){const e=t.pointDataBuffer[i.rightPointID].leftLineIndex;t.additiveDataBuffer[e].y1=a[n],t.additiveDataBuffer[e].sy=a[n]}})),t.selectedInfo.updateNodeData(t.pointDataBuffer),t.selectedInfo.computeBBox(t.pointDataBuffer),Or(t,e,!0,400,n)},_r=(t,e,a)=>{let n={x:1/0,y:null,id:null},A={x:-1/0,y:null,id:null};t.selectedInfo.nodeDataBuffer.forEach((e=>{e.x<n.x&&(n=t.pointDataBuffer[e.id]),e.x>A.x&&(A=t.pointDataBuffer[e.id])}));const i=A.x-n.x,r=A.y-n.y;let s=t.pointDataBuffer[n.rightPointID];for(;s.id!==A.id;){let e=(s.x-n.x)/i,a=n.y+r*e;s.y=a,s=t.pointDataBuffer[s.rightPointID]}Gr(t),t.selectedInfo.updateNodeData(t.pointDataBuffer),t.selectedInfo.computeBBox(t.pointDataBuffer),Or(t,e,!0,800,a)},Tr=(t,e,a,n)=>{let A={x:1/0,y:null,id:null},i={x:-1/0,y:null,id:null},r=0;t.selectedInfo.nodeDataBuffer.forEach((e=>{e.x<A.x&&(A=t.pointDataBuffer[e.id]),e.x>i.x&&(i=t.pointDataBuffer[e.id])}));const s=i.x-A.x,o=i.y-A.y;let l=t.pointDataBuffer[A.rightPointID];for(;l.id!==i.id;){r+=l.count;const e=l.rightPointID;delete t.pointDataBuffer[l.id],l=t.pointDataBuffer[e]}for(let e=1;e<a+1;e++){const n=e/(a+1),l={x:A.x+n*s,y:A.y+n*o,count:r/a,id:`q${A.id}pxq${i.id}p-${e}`,ebmID:A.id+e,leftPointID:1==e?A.id:`q${A.id}pxq${i.id}p-${e-1}`,rightPointID:e==a?i.id:`q${A.id}pxq${i.id}p-${e+1}`,leftLineIndex:null,rightLineIndex:null};t.pointDataBuffer[`q${A.id}pxq${i.id}p-${e}`]=l}A.rightPointID=`q${A.id}pxq${i.id}p-1`,i.leftPointID=`q${A.id}pxq${i.id}p-${a}`;let c=t.pointDataBuffer[0],g=0;for(;null!==c.rightPointID;)t.pointDataBuffer[c.id].ebmID=g++,c=t.pointDataBuffer[c.rightPointID];for(t.pointDataBuffer[c.id].ebmID=g++,Gr(t),l=A,t.selectedInfo.nodeDataBuffer=[];l.id!==i.id;){const e=l.rightPointID;t.selectedInfo.nodeDataBuffer.push({x:l.x,y:l.y,id:l.id,ebmID:l.ebmID}),l=t.pointDataBuffer[e]}t.selectedInfo.nodeDataBuffer.push({x:l.x,y:l.y,id:l.id,ebmID:l.ebmID}),t.selectedInfo.computeBBoxBuffer(t.pointDataBuffer),Or(t,e,!0,800,n)},zr=(t,e,a,n)=>{let A={x:1/0,y:null,id:null},i={x:-1/0,y:null,id:null},r=0,s=0;t.selectedInfo.nodeData.forEach((e=>{e.x<A.x&&(A=t.pointDataBuffer[e.id]),e.x>i.x&&(i=t.pointDataBuffer[e.id]),r+=t.pointDataBuffer[e.id].y*t.pointDataBuffer[e.id].count,s+=t.pointDataBuffer[e.id].count}));const o=r/s;let l=t.pointDataBuffer[A.id],c=0;for(c="left"===a?A.y:"right"===a?i.y:"average"===a?o:a;l.id!==i.rightPointID;){const e=l.rightPointID;if(t.pointDataBuffer[l.id].y=c,null===e)break;l=t.pointDataBuffer[e]}return Gr(t),t.selectedInfo.updateNodeData(t.pointDataBuffer),t.selectedInfo.computeBBox(t.pointDataBuffer),Or(t,e,!0,500,n),c},Or=(t,e,a,n,A=(()=>{}))=>{const i=sr.select(e);let r=sr.transition("buffer").duration(n).ease(sr.easeCubicInOut).on("end",(()=>{A()})),s=i.select("g.line-chart-node-group").selectAll("circle.node");a?s.data(Object.values(t.pointDataBuffer),(t=>t.id)).join((e=>e.append("circle").attr("class","node selected").attr("id",(t=>`node-${t.id}`)).attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y))).attr("r",Yr(t.curTransform.k)).style("opacity",0).style("stroke-width",1/t.curTransform.k).call((t=>t.transition(r).style("opacity",1)))),(e=>e.call((e=>e.transition(r).attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y)))))),(t=>t.remove())):s.data(Object.values(t.pointDataBuffer),(t=>t.id)).join((e=>e.append("circle").attr("class","node selected").attr("id",(t=>`node-${t.id}`)).attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y))).attr("r",Yr(t.curTransform.k)).style("stroke-width",1/t.curTransform.k)),(e=>e.attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y)))),(t=>t.remove()));let o=i.select("g.line-chart-line-group.real").selectAll("path.additive-line-segment");a?o.data(t.additiveDataBuffer,(t=>`${t.id}-${t.pos}`)).join((e=>e.append("path").attr("class","additive-line-segment selected").attr("id",(t=>t.id)).attr("d",(e=>{let a=Kr(e),n="";return n="r"==e.pos?`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n                L ${t.oriXScale(a.x)} ${t.oriYScale(a.y)}`:`M ${t.oriXScale(a.x)}, ${t.oriYScale(a.y)}\n                L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`,n})).style("opacity",0).call((t=>t.transition("pre").duration(n/2).style("opacity",1))).call((e=>e.transition(r).attr("d",(e=>`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n                L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`))))),(e=>e.call((e=>e.transition(r).attr("d",(e=>`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n              L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`))))),(t=>t.call((t=>t.style("opacity",1).transition("pre").duration(n/2).style("opacity",0).remove())))):o.data(t.additiveDataBuffer,(t=>`${t.id}-${t.pos}`)).join((e=>e.append("path").attr("class","additive-line-segment selected").attr("id",(t=>t.id)).attr("d",(e=>`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n                  L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`))),(e=>e.attr("d",(e=>`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n          L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`))),(t=>t.remove()));let l=Yr(t.curTransform.k)+t.bboxPadding*t.curTransform.k;a?i.select("g.line-chart-content-group g.select-bbox-group").selectAll("rect.select-bbox").datum(t.selectedInfo.boundingBox[0]).transition(r).attr("y",(e=>t.curYScale(e.y1)-l)).attr("height",(e=>t.curYScale(e.y2)-t.curYScale(e.y1)+2*l)):i.select("g.line-chart-content-group g.select-bbox-group").selectAll("rect.select-bbox").datum(t.selectedInfo.boundingBox[0]).attr("y",(e=>t.curYScale(e.y1)-l)).attr("height",(e=>t.curYScale(e.y2)-t.curYScale(e.y1)+2*l))},Pr=(t,e)=>{if(void 0===t.additiveDataLastEdit)return;const a=sr.select(e);let n=sr.transition("lastEdit").duration(400).ease(sr.easeCubicInOut);a.select("g.line-chart-line-group.last-edit").selectAll("path.additive-line-segment").data(t.additiveDataLastEdit,(t=>`${t.id}-${t.pos}`)).join((e=>e.append("path").attr("class","additive-line-segment").attr("id",(t=>t.id)).attr("d",(e=>`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n                L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`))),(e=>e.call((e=>e.transition(n).attr("d",(e=>`M ${t.oriXScale(e.x1)}, ${t.oriYScale(e.y1)}\n              L ${t.oriXScale(e.x2)} ${t.oriYScale(e.y2)}`))))),(t=>t.remove()))},Kr=t=>{const e=Math.atan2(t.ty,t.tx);let a=(t.tx-t.sx)*Math.cos(e)/Math.sqrt((t.ty-t.sy)**2+(t.tx-t.sx)**2);return{x:t.sx+a*(t.tx-t.sx),y:t.sy+a*(t.ty-t.sy)}};let Xr=null;const Zr=()=>{Xr=null},qr=(t,e,a,n,A)=>{let i=sr.select(t);e.selectedInfo=new Sr,i.select("g.line-chart-node-group").selectAll("circle.node").classed("selected",!1),i.select("g.line-chart-line-group.real").selectAll("path.additive-line-segment").classed("selected",!1),i.select("g.line-chart-content-group g.brush rect.overlay").attr("cursor",null),sr.select(a).classed("hidden",!0),n(),i.selectAll("g.line-chart-content-group g.select-bbox-group").remove(),A()};function Wr(t){for(let e=0;e<t;e++)this[e]=0;this.length=t}function Vr(t){return t%4294967296}function ts(t,e){return t=Vr(t),e=Vr(e),t-2147483648>=0?(t%=2147483648,t>>=e,t+=1073741824>>e-1):t>>=e,t}function es(t){return!0&(t%=2147483648)?(t-=1073741824,t*=2,t+=2147483648):t*=2,t}function as(t,e){t=Vr(t),e=Vr(e);for(var a=0;a<e;a++)t=es(t);return t}function ns(t,e){var a=(t=Vr(t))-2147483648,n=(e=Vr(e))-2147483648;return a>=0?n>=0?2147483648+(a&n):a&e:n>=0?t&n:t&e}function As(t,e){var a=(t=Vr(t))-2147483648,n=(e=Vr(e))-2147483648;return a>=0?n>=0?2147483648+(a|n):2147483648+(a|e):n>=0?2147483648+(t|n):t|e}function is(t,e){var a=(t=Vr(t))-2147483648,n=(e=Vr(e))-2147483648;return a>=0?n>=0?a^n:2147483648+(a^e):n>=0?2147483648+(t^n):t^e}function rs(t){return 4294967295-(t=Vr(t))}var ss=new Wr(4),os=new Wr(2);os[0]=0,os[1]=0;var ls=new Wr(64),cs=new Wr(16),gs=new Wr(16);function us(t,e){return As(as(t,e),ts(t,32-e))}function ds(t,e,a,n,A,i,r){return t=us(t=t+function(t,e,a){return As(ns(t,e),ns(rs(t),a))}(e,a,n)+A+r,i),t+=e}function hs(t,e,a,n,A,i,r){return t=us(t=t+function(t,e,a){return As(ns(t,a),ns(e,rs(a)))}(e,a,n)+A+r,i),t+=e}function ps(t,e,a,n,A,i,r){return t=us(t=t+function(t,e,a){return is(is(t,e),a)}(e,a,n)+A+r,i),t+=e}function fs(t,e,a,n,A,i,r){return t=us(t=t+function(t,e,a){return is(e,As(t,rs(a)))}(e,a,n)+A+r,i),t+=e}function Cs(t){var e;e=ns(ts(os[0],3),63),os[0]<4294967288||(os[1]++,os[0]-=4294967296),os[0]+=8,ls[e]=ns(t,255),e>=63&&function(t,e){var a=0,n=0,A=0,i=0,r=cs;a=ss[0],n=ss[1],A=ss[2],i=ss[3];for(let a=0;a<16;a++){r[a]=ns(t[4*a+e],255);for(let n=1;n<4;n++)r[a]+=as(ns(t[4*a+n+e],255),8*n)}a=ds(a,n,A,i,r[0],7,3614090360),i=ds(i,a,n,A,r[1],12,3905402710),A=ds(A,i,a,n,r[2],17,606105819),n=ds(n,A,i,a,r[3],22,3250441966),a=ds(a,n,A,i,r[4],7,4118548399),i=ds(i,a,n,A,r[5],12,1200080426),A=ds(A,i,a,n,r[6],17,2821735955),n=ds(n,A,i,a,r[7],22,4249261313),a=ds(a,n,A,i,r[8],7,1770035416),i=ds(i,a,n,A,r[9],12,2336552879),A=ds(A,i,a,n,r[10],17,4294925233),n=ds(n,A,i,a,r[11],22,2304563134),a=ds(a,n,A,i,r[12],7,1804603682),i=ds(i,a,n,A,r[13],12,4254626195),A=ds(A,i,a,n,r[14],17,2792965006),a=hs(a,n=ds(n,A,i,a,r[15],22,1236535329),A,i,r[1],5,4129170786),i=hs(i,a,n,A,r[6],9,3225465664),A=hs(A,i,a,n,r[11],14,643717713),n=hs(n,A,i,a,r[0],20,3921069994),a=hs(a,n,A,i,r[5],5,3593408605),i=hs(i,a,n,A,r[10],9,38016083),A=hs(A,i,a,n,r[15],14,3634488961),n=hs(n,A,i,a,r[4],20,3889429448),a=hs(a,n,A,i,r[9],5,568446438),i=hs(i,a,n,A,r[14],9,3275163606),A=hs(A,i,a,n,r[3],14,4107603335),n=hs(n,A,i,a,r[8],20,1163531501),a=hs(a,n,A,i,r[13],5,2850285829),i=hs(i,a,n,A,r[2],9,4243563512),A=hs(A,i,a,n,r[7],14,1735328473),a=ps(a,n=hs(n,A,i,a,r[12],20,2368359562),A,i,r[5],4,4294588738),i=ps(i,a,n,A,r[8],11,2272392833),A=ps(A,i,a,n,r[11],16,1839030562),n=ps(n,A,i,a,r[14],23,4259657740),a=ps(a,n,A,i,r[1],4,2763975236),i=ps(i,a,n,A,r[4],11,1272893353),A=ps(A,i,a,n,r[7],16,4139469664),n=ps(n,A,i,a,r[10],23,3200236656),a=ps(a,n,A,i,r[13],4,681279174),i=ps(i,a,n,A,r[0],11,3936430074),A=ps(A,i,a,n,r[3],16,3572445317),n=ps(n,A,i,a,r[6],23,76029189),a=ps(a,n,A,i,r[9],4,3654602809),i=ps(i,a,n,A,r[12],11,3873151461),A=ps(A,i,a,n,r[15],16,530742520),a=fs(a,n=ps(n,A,i,a,r[2],23,3299628645),A,i,r[0],6,4096336452),i=fs(i,a,n,A,r[7],10,1126891415),A=fs(A,i,a,n,r[14],15,2878612391),n=fs(n,A,i,a,r[5],21,4237533241),a=fs(a,n,A,i,r[12],6,1700485571),i=fs(i,a,n,A,r[3],10,2399980690),A=fs(A,i,a,n,r[10],15,4293915773),n=fs(n,A,i,a,r[1],21,2240044497),a=fs(a,n,A,i,r[8],6,1873313359),i=fs(i,a,n,A,r[15],10,4264355552),A=fs(A,i,a,n,r[6],15,2734768916),n=fs(n,A,i,a,r[13],21,1309151649),a=fs(a,n,A,i,r[4],6,4149444226),i=fs(i,a,n,A,r[11],10,3174756917),A=fs(A,i,a,n,r[2],15,718787259),n=fs(n,A,i,a,r[9],21,3951481745),ss[0]+=a,ss[1]+=n,ss[2]+=A,ss[3]+=i}(ls,0)}function Is(t){var e="",a=t;for(let t=0;t<8;t++)e="0123456789abcdef".charAt(Math.abs(a)%16)+e,a=Math.floor(a/16);return e}var Bs="01234567890123456789012345678901 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";function Es(t){var e,a,n,A,i,r;for(function(){os[0]=os[1]=0,ss[0]=1732584193,ss[1]=4023233417,ss[2]=2562383102,ss[3]=271733878;for(let t=0;t<gs.length;t++)gs[t]=0}(),a=0;a<t.length;a++)e=t.charAt(a),Cs(Bs.lastIndexOf(e));!function(){var t,e,a,n=new Wr(8),A=0;for(A=0;A<4;A++)n[A]=ns(ts(os[0],8*A),255);for(A=0;A<4;A++)n[A+4]=ns(ts(os[1],8*A),255);for(a=(e=ns(ts(os[0],3),63))<56?56-e:120-e,(t=new Wr(64))[0]=128,A=0;A<a;A++)Cs(t[A]);for(A=0;A<8;A++)Cs(n[A]);for(A=0;A<4;A++)for(let t=0;t<4;t++)gs[4*A+t]=ns(ts(ss[A],8*t),255)}(),n=A=i=r=0;for(let t=0;t<4;t++)n+=as(gs[15-t],8*t);for(let t=4;t<8;t++)A+=as(gs[15-t],8*(t-4));for(let t=8;t<12;t++)i+=as(gs[15-t],8*(t-8));for(let t=12;t<16;t++)r+=as(gs[15-t],8*(t-12));return Is(r)+Is(i)+Is(A)+Is(n)}const ms=(t,e,a,n,A)=>{let i,r=0;A.update((t=>(i=t,t))),n.update((n=>{const A=Date.now();return n.push({state:{pointData:t.pointData,additiveData:t.additiveData},metrics:{barData:JSON.parse(JSON.stringify(i.barData)),confusionMatrixData:JSON.parse(JSON.stringify(i.confusionMatrixData))},featureName:t.featureName,type:e,description:a,time:A,hash:Es(`${e}${a}${A}`),reviewed:"original"===e}),r=n.length,n})),A.update((t=>(t.historyHead=r-1,t.previewHistory=!1,t)))},Qs=[];function ys(e,a=t){let n;const A=new Set;function i(t){if(r(e,t)&&(e=t,n)){const t=!Qs.length;for(const t of A)t[1](),Qs.push(t,e);if(t){for(let t=0;t<Qs.length;t+=2)Qs[t][0](Qs[t+1]);Qs.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,s=t){const o=[r,s];return A.add(o),1===A.size&&(n=a(i)||t),r(e),()=>{A.delete(o),0===A.size&&(n(),n=null)}}}}const ws=ys({});const vs=t=>t.replaceAll("black","currentcolor").replaceAll("fill:none","fill:currentcolor").replaceAll("stroke:none","fill:currentcolor"),xs=t=>{sr.select(t).selectAll(".svg-icon.icon-merge").html(vs('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 389 369" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:bevel;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-4661,-2089)">        <g transform="matrix(2.38461,0,0,1.82578,-6329.29,227)">            <g transform="matrix(0.419355,0,0,0.54771,2140.56,-102.847)">                <path d="M5946.27,2050.36C5913.3,2050.36 5886.54,2077.13 5886.54,2110.1C5886.54,2143.06 5913.3,2169.83 5946.27,2169.83C5979.24,2169.83 6006.01,2143.06 6006.01,2110.1C6006.01,2077.13 5979.24,2050.36 5946.27,2050.36ZM5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78Z"/>            </g>            <g transform="matrix(0.419355,0,0,0.54771,2221.36,-102.381)">                <path d="M5946.27,2050.36C5913.3,2050.36 5886.54,2077.13 5886.54,2110.1C5886.54,2143.06 5913.3,2169.83 5946.27,2169.83C5979.24,2169.83 6006.01,2143.06 6006.01,2110.1C6006.01,2077.13 5979.24,2050.36 5946.27,2050.36ZM5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78Z"/>            </g>            <g transform="matrix(0.419355,0,0,0.54771,2647.54,-124.33)">                <path d="M4952.42,2339.53C4968.07,2345.72 4980.56,2358.21 4986.76,2373.87L5042.65,2373.87C5055.03,2373.87 5065.07,2383.92 5065.07,2396.29C5065.07,2408.66 5055.03,2418.71 5042.65,2418.71L4986.76,2418.71C4977.82,2441.31 4955.76,2457.31 4930,2457.31C4896.32,2457.31 4868.98,2429.97 4868.98,2396.29C4868.98,2370.53 4884.98,2348.47 4907.58,2339.53L4907.58,2193.56L4952.42,2193.56L4952.42,2339.53ZM4930,2373.39C4943.42,2373.39 4954.32,2384.29 4954.32,2397.71C4954.32,2411.13 4943.42,2422.03 4930,2422.03C4916.57,2422.03 4905.68,2411.13 4905.68,2397.71C4905.68,2384.29 4916.57,2373.39 4930,2373.39Z" style="fill-opacity:0.2;"/>            </g>            <g transform="matrix(0.294985,-0.000796314,-0.000609699,0.547706,3040.52,-77.2928)">                <path d="M5472.14,2071.41L5645.63,2072.26" style="fill:none;stroke:black;stroke-width:53.1px;"/>            </g>            <g transform="matrix(0.559241,0,0,0.751009,2053.99,-633.311)">                <path d="M4859.47,2244.82C4859.47,2235.6 4851.77,2228.11 4842.29,2228.11L4792.68,2228.11L4792.68,2261.52L4842.29,2261.52C4851.77,2261.52 4859.47,2254.04 4859.47,2244.82Z"/>            </g>        </g>    </g></svg>')),sr.select(t).selectAll(".svg-icon.icon-merge-average").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 389 368" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:bevel;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-5099,-3641)">        <g id="Artboard1" transform="matrix(2.6436,0,0,3.65236,-5556.31,295.649)">            <rect x="3676.61" y="0" width="1566.51" height="1275.88" style="fill:none;"/>            <g>                <g transform="matrix(0.378272,0,0,0.273795,2261.68,343.74)">                    <path d="M4952.42,2339.53C4968.07,2345.72 4980.56,2358.21 4986.76,2373.87L5042.65,2373.87C5055.03,2373.87 5065.07,2383.92 5065.07,2396.29C5065.07,2408.66 5055.03,2418.71 5042.65,2418.71L4986.76,2418.71C4977.82,2441.31 4955.76,2457.31 4930,2457.31C4896.32,2457.31 4868.98,2429.97 4868.98,2396.29C4868.98,2370.53 4884.98,2348.47 4907.58,2339.53L4907.58,2172.45L4952.42,2172.45L4952.42,2339.53ZM4930,2373.39C4943.42,2373.39 4954.32,2384.29 4954.32,2397.71C4954.32,2411.13 4943.42,2422.03 4930,2422.03C4916.57,2422.03 4905.68,2411.13 4905.68,2397.71C4905.68,2384.29 4916.57,2373.39 4930,2373.39Z" style="fill:rgb(230,230,230);"/>                </g>                <g transform="matrix(0.378272,0,0,-0.273795,2189.53,1589.4)">                    <path d="M4930,2339.53C4961.62,2339.53 4980.56,2358.21 4986.76,2373.87L5143.3,2373.87L5143.3,2418.71L4986.76,2418.71C4977.82,2441.31 4955.76,2457.31 4930,2457.31C4896.32,2457.31 4868.98,2429.97 4868.98,2396.29C4868.98,2360.82 4895.24,2339.53 4930,2339.53ZM4930,2373.39C4943.42,2373.39 4954.32,2384.29 4954.32,2397.71C4954.32,2411.13 4943.42,2422.03 4930,2422.03C4916.57,2422.03 4905.68,2411.13 4905.68,2397.71C4905.68,2384.29 4916.57,2373.39 4930,2373.39Z" style="fill:rgb(230,230,230);"/>                </g>                <g transform="matrix(0.902033,0,0,0.499891,-126.49,439.739)">                    <g transform="matrix(0.419355,0,0,0.54771,2140.56,-102.847)">                        <path d="M5946.27,2050.36C5913.3,2050.36 5886.54,2077.13 5886.54,2110.1C5886.54,2143.06 5913.3,2169.83 5946.27,2169.83C5979.24,2169.83 6006.01,2143.06 6006.01,2110.1C6006.01,2077.13 5979.24,2050.36 5946.27,2050.36ZM5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78Z"/>                    </g>                    <g transform="matrix(0.419355,0,0,0.54771,2221.36,-102.381)">                        <path d="M5946.27,2050.36C5913.3,2050.36 5886.54,2077.13 5886.54,2110.1C5886.54,2143.06 5913.3,2169.83 5946.27,2169.83C5979.24,2169.83 6006.01,2143.06 6006.01,2110.1C6006.01,2077.13 5979.24,2050.36 5946.27,2050.36ZM5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78Z"/>                    </g>                    <g transform="matrix(0.294985,-0.000796314,-0.000609699,0.547706,3040.52,-77.2928)">                        <path d="M5472.14,2071.41L5645.63,2072.26" style="fill:none;stroke:black;stroke-width:53.1px;"/>                    </g>                    <g transform="matrix(0.559241,0,0,0.751009,2053.99,-633.311)">                        <path d="M4859.47,2244.82C4859.47,2235.6 4851.77,2228.11 4842.29,2228.11L4792.68,2228.11L4792.68,2261.52L4842.29,2261.52C4851.77,2261.52 4859.47,2254.04 4859.47,2244.82Z"/>                    </g>                </g>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-merge-right").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 389 368" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:bevel;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-5608,-3641)">        <g id="Artboard1" transform="matrix(2.6436,0,0,3.65236,-5556.31,295.649)">            <rect x="3676.61" y="0" width="1566.51" height="1275.88" style="fill:none;"/>            <g>                <g transform="matrix(0.378272,0,0,0.273795,2453.38,343.74)">                    <rect x="4907.58" y="2172.45" width="44.84" height="188.584" style="fill:rgb(230,230,230);"/>                </g>                <g transform="matrix(0.378272,0,0,-0.273795,2381.23,1589.4)">                    <path d="M4930,2339.53C4958.28,2339.53 4980.56,2358.21 4986.76,2373.87L5143.3,2373.87L5143.3,2418.71L4986.76,2418.71C4977.82,2441.31 4955.76,2457.31 4930,2457.31C4896.32,2457.31 4868.98,2429.97 4868.98,2396.29C4868.98,2360.82 4901.71,2339.53 4930,2339.53ZM4930,2373.39C4943.42,2373.39 4954.32,2384.29 4954.32,2397.71C4954.32,2411.13 4943.42,2422.03 4930,2422.03C4916.57,2422.03 4905.68,2411.13 4905.68,2397.71C4905.68,2384.29 4916.57,2373.39 4930,2373.39Z" style="fill:rgb(230,230,230);"/>                </g>                <g transform="matrix(0.378272,0,0,0.273795,1997.08,421.97)">                    <path d="M5946.27,2050.36C5913.3,2050.36 5886.54,2077.13 5886.54,2110.1C5886.54,2143.06 5913.3,2169.83 5946.27,2169.83C5979.24,2169.83 6006.01,2143.06 6006.01,2110.1C6006.01,2077.13 5979.24,2050.36 5946.27,2050.36ZM5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78Z"/>                </g>                <g transform="matrix(0.378272,0,0,0.273795,2069.97,422.203)">                    <path d="M5946.27,2050.36C5913.3,2050.36 5886.54,2077.13 5886.54,2110.1C5886.54,2143.06 5913.3,2169.83 5946.27,2169.83C5979.24,2169.83 6006.01,2143.06 6006.01,2110.1C6006.01,2077.13 5979.24,2050.36 5946.27,2050.36ZM5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78Z"/>                </g>                <g transform="matrix(0.266087,-0.00039807,-0.000549968,0.273793,2808.87,434.744)">                    <path d="M5472.14,2071.41L5645.63,2072.26" style="fill:none;stroke:black;stroke-width:53.1px;"/>                </g>                <g transform="matrix(0.504454,0,0,0.375423,1919,156.796)">                    <path d="M4859.47,2244.82C4859.47,2235.6 4851.77,2228.11 4842.29,2228.11L4792.68,2228.11L4792.68,2261.52L4842.29,2261.52C4851.77,2261.52 4859.47,2254.04 4859.47,2244.82Z"/>                </g>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-increasing").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 402 380" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-2881,-1653)">        <g transform="matrix(2.38461,0,0,1.82578,-6329.29,227)">            <g transform="matrix(0.419355,0,0,0.54771,2604.91,-119.469)">                <path d="M3037.69,2000.46L3145.07,2000.46L3145.07,1886.39L3263.78,1886.39L3263.78,1763.29L3377.08,1763.29" style="fill:none;stroke:black;stroke-width:45.83px;"/>            </g>            <g transform="matrix(0.351372,0.0806173,0.0617248,0.474514,2729.05,-235.334)">                <path d="M2920.11,1862.19L3089.8,1708.12" style="fill:none;stroke:black;stroke-width:35.44px;"/>            </g>            <g transform="matrix(0.289612,0.396117,-0.303287,0.378256,3525.56,-1063.95)">                <path d="M3140.49,1614.83L3191.17,1708.12L3089.8,1708.12L3140.49,1614.83Z" style="stroke:black;stroke-width:35.42px;"/>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-decreasing").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 402 380" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-3443,-1653)">        <g transform="matrix(2.38461,0,0,1.82578,-6329.29,227)">            <g transform="matrix(-0.419355,0,0,0.54771,5524.04,-119.294)">                <path d="M3037.69,2000.46L3145.07,2000.46L3145.07,1881.55L3263.78,1881.55L3263.78,1762.97L3377.08,1762.97" style="fill:none;stroke:black;stroke-width:45.83px;"/>            </g>            <g transform="matrix(-1,0,0,-1,8442.53,1674.93)">                <g transform="matrix(-0.351372,0.0806173,-0.0617248,0.474514,5399.9,-235.159)">                    <path d="M2920.11,1862.19L3089.8,1708.12" style="fill:none;stroke:black;stroke-width:35.44px;"/>                </g>                <g transform="matrix(-0.289612,0.396117,0.303287,0.378256,4603.38,-1063.77)">                    <path d="M3140.49,1614.83L3191.17,1708.12L3089.8,1708.12L3140.49,1614.83Z" style="stroke:black;stroke-width:35.42px;"/>                </g>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-updown").html(vs('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 350 371" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-4852,-1723)">        <g transform="matrix(2.38461,0,0,1.82578,-6329.29,227)">            <g transform="matrix(0.182762,0,0,0.238702,4777.02,890.348)">                <g>                    <path d="M302.189,329.126L196.105,329.126L251.936,465.119C255.825,474.547 251.381,485.118 242.492,489.118L193.327,510.545C184.162,514.545 173.884,509.974 169.995,500.831L116.942,371.695L30.278,460.833C18.729,472.71 0,463.554 0,447.977L0,18.299C0,1.899 19.921,-6.096 30.277,5.443L314.689,297.985C326.161,309.164 317.696,329.126 302.189,329.126Z" style="fill-rule:nonzero;"/>                </g>            </g>            <g transform="matrix(-0.286846,-0.2668,-0.305817,0.259877,6133.91,1250.92)">                <path d="M2909.77,1873.36L3089.8,1708.12" style="fill:none;stroke:black;stroke-width:35.44px;"/>            </g>            <g transform="matrix(-0.576916,-0.000715341,-0.000753486,0.54771,6538.88,-52.7224)">                <path d="M3140.49,1614.83L3191.17,1708.12L3089.8,1708.12L3140.49,1614.83Z" style="stroke:black;stroke-width:29.44px;"/>            </g>            <g transform="matrix(-0.576916,0.000715341,-0.000753486,-0.54771,6538.88,1894.77)">                <path d="M3140.49,1614.83L3191.17,1708.12L3089.8,1708.12L3140.49,1614.83Z" style="stroke:black;stroke-width:29.44px;"/>            </g>        </g>    </g></svg>')),sr.select(t).selectAll(".svg-icon.icon-input-up").html(vs('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 138 129" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-4500,-1704)">        <g transform="matrix(2.38461,0,0,1.82578,-6329.29,227)">            <g transform="matrix(-0.419355,-0.000715341,-0.000547702,0.54771,5888.27,-63.5185)">                <path d="M3140.49,1614.83L3191.17,1708.12L3089.8,1708.12L3140.49,1614.83Z" style="stroke:black;stroke-width:35.42px;"/>            </g>        </g>    </g></svg>')),sr.select(t).selectAll(".svg-icon.icon-input-down").html(vs('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 138 130" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-4500,-1944)">        <g transform="matrix(2.38461,0,0,1.82578,-6329.29,227)">            <g transform="matrix(-0.419355,0.000715341,-0.000547702,-0.54771,5888.27,1883.98)">                <path d="M3140.49,1614.83L3191.17,1708.12L3089.8,1708.12L3140.49,1614.83Z" style="stroke:black;stroke-width:35.42px;"/>            </g>        </g>    </g></svg>')),sr.select(t).selectAll(".svg-icon.icon-delete").html("<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' fill='none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>".replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-commit-delete").html(vs('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" class="svg-inline--fa fa-trash fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"></path></svg>')),sr.select(t).selectAll(".svg-icon.icon-right-arrow").html(vs('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-alt-circle-right" class="svg-inline--fa fa-arrow-alt-circle-right fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zM140 300h116v70.9c0 10.7 13 16.1 20.5 8.5l114.3-114.9c4.7-4.7 4.7-12.2 0-16.9l-114.3-115c-7.6-7.6-20.5-2.2-20.5 8.5V212H140c-6.6 0-12 5.4-12 12v64c0 6.6 5.4 12 12 12z"></path></svg>')),sr.select(t).selectAll(".svg-icon.icon-location").html(vs('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="map-marker-alt" class="svg-inline--fa fa-map-marker-alt fa-w-12" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"></path></svg>')),sr.select(t).selectAll(".svg-icon.icon-interpolate").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 376 377" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-5366,-2011)">        <g transform="matrix(2.38461,0,0,1.82578,-6329.29,227)">            <g transform="matrix(0.419355,0,0,0.54771,2672.61,-108.048)">                <path d="M5431.89,2041.68L5637.91,2041.68L5637.91,2247.84" style="fill:none;stroke:black;stroke-opacity:0.2;stroke-width:45.83px;"/>            </g>            <g transform="matrix(0.419355,0,0,0.54771,2436.09,-145.519)">                <path d="M5946.27,2050.36C5913.3,2050.36 5886.54,2077.13 5886.54,2110.1C5886.54,2143.06 5913.3,2169.83 5946.27,2169.83C5979.24,2169.83 6006.01,2143.06 6006.01,2110.1C6006.01,2077.13 5979.24,2050.36 5946.27,2050.36ZM5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78Z"/>            </g>            <g transform="matrix(0.419355,0,0,0.54771,2543.3,-5.03294)">                <path d="M5946.27,2050.36C5913.3,2050.36 5886.54,2077.13 5886.54,2110.1C5886.54,2143.06 5913.3,2169.83 5946.27,2169.83C5979.24,2169.83 6006.01,2143.06 6006.01,2110.1C6006.01,2077.13 5979.24,2050.36 5946.27,2050.36ZM5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78Z"/>            </g>            <g transform="matrix(0.419355,-4.25656e-16,-3.25904e-16,0.54771,2654.22,-124.33)">                <path d="M5450.44,2095.73L5657.44,2303.59" style="fill:none;stroke:black;stroke-width:45.83px;stroke-linecap:butt;stroke-linejoin:bevel;"/>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-inplace").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 400 400" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:bevel;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-4451,-3031)">        <g id="Artboard1" transform="matrix(2.35635,0,0,2.83439,-6225.36,227)">            <rect x="3676.61" y="0" width="1566.51" height="1275.88" style="fill:none;"/>            <g transform="matrix(1.2305,0,0,1.02297,-2646.54,-1143.82)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>            <g transform="matrix(1.2305,0,0,1.02297,-2701.07,-1053.19)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>            <g transform="matrix(1.2305,0,0,1.02297,-2755.6,-1143.82)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>            <g transform="matrix(0.168362,-0.196635,0.169065,0.195816,3308.87,1676.11)">                <path d="M5450.44,2095.73L5657.44,2303.59" style="fill:none;stroke:black;stroke-width:59.29px;"/>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-interpolation").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 400 400" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:bevel;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-3490,-3031)">        <g id="Artboard1" transform="matrix(2.35635,0,0,2.83439,-6225.36,227)">            <rect x="3676.61" y="0" width="1566.51" height="1275.88" style="fill:none;"/>            <g transform="matrix(1.2305,0,0,1.02297,-3163.72,-1143.46)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>            <g transform="matrix(1.2305,0,0,1.02297,-3111.68,-1098.29)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>            <g transform="matrix(1.2305,0,0,1.02297,-3054.66,-1053.15)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>            <g transform="matrix(0.233475,-0.0839857,-0.100052,0.193749,3155.98,1121.04)">                <path d="M5450.44,2095.73L5657.44,2303.59" style="fill:none;stroke:black;stroke-width:66.61px;"/>            </g>            <g transform="matrix(0.231159,-0.0859111,-0.102377,0.191816,3121.88,1093.04)">                <path d="M5450.44,2095.73L5657.44,2303.59" style="fill:none;stroke:black;stroke-width:69.03px;"/>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-regression").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 400 400" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:bevel;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-4958,-3031)">        <g id="Artboard1" transform="matrix(2.35635,0,0,2.83439,-6225.36,227)">            <rect x="3676.61" y="0" width="1566.51" height="1275.88" style="fill:none;"/>            <g transform="matrix(0.367132,-0.476908,0.368667,0.474923,1980.53,2664.12)">                <path d="M5450.44,2095.73L5657.44,2303.59" style="fill:none;stroke:black;stroke-width:27.19px;"/>            </g>            <g transform="matrix(1.2305,0,0,1.02297,-2431.82,-1143.82)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>            <g transform="matrix(1.2305,0,0,1.02297,-2486.35,-1053.19)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>            <g transform="matrix(1.2305,0,0,1.02297,-2540.88,-1143.82)">                <path d="M5946.27,2085.78C5959.69,2085.78 5970.59,2096.67 5970.59,2110.1C5970.59,2123.52 5959.69,2134.41 5946.27,2134.41C5932.85,2134.41 5921.95,2123.52 5921.95,2110.1C5921.95,2096.67 5932.85,2085.78 5946.27,2085.78ZM5946.27,2100.15C5951.76,2100.15 5956.22,2104.6 5956.22,2110.1C5956.22,2115.59 5951.76,2120.04 5946.27,2120.04C5940.78,2120.04 5936.32,2115.59 5936.32,2110.1C5936.32,2104.6 5940.78,2100.15 5946.27,2100.15Z"/>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-thumbup").html(vs('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 513 513" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <g transform="matrix(1,0,0,1,-7187,-404)">        <g transform="matrix(2.35635,0,0,2.83439,-4472.11,270)">            <g transform="matrix(0.424386,0,0,0.352809,4948.29,47.3624)">                <path d="M104,224L24,224C10.745,224 0,234.745 0,248L0,488C0,501.255 10.745,512 24,512L104,512C117.255,512 128,501.255 128,488L128,248C128,234.745 117.255,224 104,224ZM384,81.452C384,123.868 358.03,147.66 350.723,176L452.446,176C485.843,176 511.843,203.746 511.999,234.098C512.083,252.036 504.453,271.347 492.56,283.295L492.45,283.405C502.286,306.742 500.687,339.442 483.142,362.874C491.823,388.769 483.073,420.578 466.76,437.631C471.058,455.229 469.004,470.206 460.612,482.263C440.202,511.587 389.616,512 346.839,512L343.994,511.999C295.707,511.982 256.188,494.401 224.434,480.274C208.477,473.175 187.613,464.387 171.783,464.096C165.243,463.976 160,458.639 160,452.098L160,238.328C160,235.128 161.282,232.057 163.558,229.807C203.172,190.663 220.206,149.22 252.675,116.696C267.479,101.864 272.863,79.46 278.068,57.794C282.515,39.293 291.817,0 312,0C336,0 384,8 384,81.452Z" style="fill-rule:nonzero;"/>            </g>        </g>    </g></svg>')),sr.select(t).selectAll(".svg-icon.icon-box").html(vs('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <path d="M466.27,286.69C475.04,271.84 480,256 480,236.85C480,192.835 442.782,151.27 394.18,151.27L357.7,151.27C362.62,138.46 366.55,123.14 366.55,104.73C366.55,31.936 328.86,0 271.28,0C209.673,0 213.187,94.933 199.52,108.6C176.773,131.347 149.905,175.047 130.76,192L32,192C14.327,192 0,206.327 0,224L0,464C0,481.673 14.327,496 32,496L96,496C110.893,496 123.408,485.826 126.978,472.05C171.487,473.051 202.038,511.99 304.78,511.99C312,511.99 320,512 327,512C404.117,512 438.986,472.577 439.94,416.67C453.259,398.245 460.239,373.548 457.28,349.68C467.134,331.228 470.944,309.337 466.27,286.69ZM404.52,340.52C417.08,361.65 405.78,389.93 390.58,398.09C398.28,446.87 372.972,463.99 337.46,463.99L299.64,463.99C228.001,463.99 181.611,426.17 128,426.17L128,240L138.92,240C167.28,240 206.9,169.11 233.46,142.54C261.82,114.18 252.37,66.91 271.28,48C318.55,48 318.55,80.98 318.55,104.73C318.55,143.9 290.19,161.45 290.19,199.27L394.18,199.27C415.29,199.27 431.91,218.18 432,237.09C432.09,255.99 419.18,274.9 409.73,274.9C423.219,289.455 426.101,320.136 404.52,340.52Z" style="fill-rule:nonzero;"/></svg>')),sr.select(t).selectAll(".svg-icon.icon-pen").html(vs('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <path d="M196.028,443.992L211.968,428.052L84.32,299.559L290.74,93.24L418.76,221.26L140.77,499.25L26.63,511.85C11.35,513.54 -1.56,500.62 0.14,485.34L12.84,371.12L68.32,315.757M497.94,74.18L437.83,14.07C419.08,-4.68 388.67,-4.68 369.92,14.07L313.37,70.62L441.39,198.64L497.94,142.09C516.69,123.33 516.69,92.93 497.94,74.18Z" style="fill-rule:nonzero;"/></svg>')),sr.select(t).selectAll(".svg-icon.icon-check").html('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-refresh").html('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-minus").html('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="minus" class="svg-inline--fa fa-minus fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-plus").html('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>'.replaceAll("black","currentcolor")),sr.select(t).selectAll(".svg-icon.icon-original").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">    <path d="M256,8C119,8 8,119 8,256C8,393 119,504 256,504C393,504 504,393 504,256C504,119 393,8 256,8ZM256,456C145.5,456 56,366.5 56,256C56,145.5 145.5,56 256,56C366.5,56 456,145.5 456,256C456,366.5 366.5,456 256,456Z" style="fill-rule:nonzero;"/>    <g transform="matrix(1.21037,0,0,1.21037,-46.2915,-57.7283)">        <circle cx="249.751" cy="259.2" r="54.144" style="stroke:rgb(250,250,250);stroke-width:0.83px;"/>    </g></svg>'.replaceAll("black","currentcolor"))};function bs(t){let e,a,n,i,r,s,o,l,c,g,u,d,h,p,f,I,B,y,x,M,L,S,N,R,F,Y,$,j,U,H,J,_,T,z,O,P,K,X,Z,q,W,V,tt,et,at,nt,At,it=t[0].step+"";return{c(){e=Q("div"),a=Q("div"),n=v(),i=Q("div"),r=Q("div"),r.innerHTML='<div class="svg-icon icon-check svelte-1cshmr3"></div>',s=v(),o=Q("div"),o.innerHTML='<div class="svg-icon icon-refresh svelte-1cshmr3"></div>',l=v(),c=Q("div"),g=Q("div"),u=v(),d=Q("div"),h=Q("div"),h.innerHTML='<div class="svg-icon icon-check svelte-1cshmr3"></div>',p=v(),f=Q("div"),f.innerHTML='<div class="svg-icon icon-refresh svelte-1cshmr3"></div>',I=v(),B=Q("div"),y=v(),x=Q("div"),M=Q("div"),L=v(),S=Q("div"),N=Q("div"),N.innerHTML='<div class="svg-icon icon-inplace svelte-1cshmr3"></div>',R=v(),F=Q("div"),F.innerHTML='<div class="svg-icon icon-regression svelte-1cshmr3"></div>',Y=v(),$=Q("div"),j=v(),U=Q("div"),U.innerHTML='<div class="svg-icon icon-interpolation svelte-1cshmr3"></div>',H=v(),J=Q("div"),_=Q("div"),_.innerHTML='<div class="svg-icon icon-minus svelte-1cshmr3"></div>',T=v(),z=Q("div"),O=w(it),P=v(),K=Q("div"),K.innerHTML='<div class="svg-icon icon-plus svelte-1cshmr3"></div>',X=v(),Z=Q("div"),q=v(),W=Q("div"),W.innerHTML='<div class="svg-icon icon-check svelte-1cshmr3"></div>',V=v(),tt=Q("div"),tt.innerHTML='<div class="svg-icon icon-refresh svelte-1cshmr3"></div>',et=v(),at=Q("div"),D(a,"class","svg-icon icon-increasing svelte-1cshmr3"),D(r,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(o,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(i,"class","sub-item sub-item-increasing hidden svelte-1cshmr3"),D(e,"class","item svelte-1cshmr3"),G(e,"selected","increasing"===t[0].subItemMode),D(g,"class","svg-icon icon-decreasing svelte-1cshmr3"),D(h,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(f,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(d,"class","sub-item sub-item-decreasing hidden svelte-1cshmr3"),D(c,"class","item svelte-1cshmr3"),G(c,"selected","decreasing"===t[0].subItemMode),D(B,"class","separator svelte-1cshmr3"),D(M,"class","svg-icon icon-interpolate svelte-1cshmr3"),D(N,"class","item sub-item-child show-tooltip svelte-1cshmr3"),G(N,"selected","interpolation"===t[0].subItemMode&&"inplace"===t[0].interpolationMode),D(F,"class","item sub-item-child show-tooltip svelte-1cshmr3"),G(F,"selected","interpolation"===t[0].subItemMode&&"regression"===t[0].interpolationMode),D($,"class","separator svelte-1cshmr3"),D(U,"class","item sub-item-child show-tooltip svelte-1cshmr3"),G(U,"selected","interpolation"===t[0].subItemMode&&"equal"===t[0].interpolationMode),D(_,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(z,"class","item-step-text svelte-1cshmr3"),G(z,"selected","interpolation"===t[0].subItemMode&&"equal"===t[0].interpolationMode),D(K,"class","item sub-item-child svelte-1cshmr3"),D(J,"class","interpolate-step svelte-1cshmr3"),G(J,"selected","interpolation"===t[0].subItemMode&&"equal"===t[0].interpolationMode),D(Z,"class","separator svelte-1cshmr3"),D(W,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(tt,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(S,"class","sub-item sub-item-interpolation hidden svelte-1cshmr3"),D(x,"class","item svelte-1cshmr3"),G(x,"selected","interpolation"===t[0].subItemMode),D(at,"class","separator svelte-1cshmr3")},m(A,m){E(A,e,m),C(e,a),C(e,n),C(e,i),C(i,r),C(i,s),C(i,o),E(A,l,m),E(A,c,m),C(c,g),C(c,u),C(c,d),C(d,h),C(d,p),C(d,f),E(A,I,m),E(A,B,m),E(A,y,m),E(A,x,m),C(x,M),C(x,L),C(x,S),C(S,N),C(S,R),C(S,F),C(S,Y),C(S,$),C(S,j),C(S,U),C(S,H),C(S,J),C(J,_),C(J,T),C(J,z),C(z,O),C(J,P),C(J,K),C(S,X),C(S,Z),C(S,q),C(S,W),C(S,V),C(S,tt),E(A,et,m),E(A,at,m),nt||(At=[b(r,"click",t[24]),b(r,"mouseenter",t[33]),b(r,"mouseleave",t[2]),b(o,"click",t[25]),b(o,"mouseenter",t[34]),b(o,"mouseleave",t[2]),b(e,"click",t[10]),b(e,"mouseenter",t[35]),b(e,"mouseleave",t[2]),b(h,"click",t[24]),b(h,"mouseenter",t[36]),b(h,"mouseleave",t[2]),b(f,"click",t[25]),b(f,"mouseenter",t[37]),b(f,"mouseleave",t[2]),b(c,"click",t[11]),b(c,"mouseenter",t[38]),b(c,"mouseleave",t[2]),b(N,"mouseenter",t[39]),b(N,"mouseleave",t[2]),b(N,"click",t[15]),b(F,"mouseenter",t[40]),b(F,"mouseleave",t[2]),b(F,"click",t[17]),b(U,"mouseenter",t[41]),b(U,"mouseleave",t[2]),b(U,"click",t[16]),b(_,"click",t[13]),b(z,"click",t[18]),b(K,"click",t[14]),b(J,"mouseenter",t[42]),b(J,"mouseleave",t[2]),b(W,"click",t[24]),b(W,"mouseenter",t[43]),b(W,"mouseleave",t[2]),b(tt,"click",t[25]),b(tt,"mouseenter",t[44]),b(tt,"mouseleave",t[2]),b(x,"click",t[12]),b(x,"mouseenter",t[45]),b(x,"mouseleave",t[2])],nt=!0)},p(t,a){1&a[0]&&G(e,"selected","increasing"===t[0].subItemMode),1&a[0]&&G(c,"selected","decreasing"===t[0].subItemMode),1&a[0]&&G(N,"selected","interpolation"===t[0].subItemMode&&"inplace"===t[0].interpolationMode),1&a[0]&&G(F,"selected","interpolation"===t[0].subItemMode&&"regression"===t[0].interpolationMode),1&a[0]&&G(U,"selected","interpolation"===t[0].subItemMode&&"equal"===t[0].interpolationMode),1&a[0]&&it!==(it=t[0].step+"")&&k(O,it),1&a[0]&&G(z,"selected","interpolation"===t[0].subItemMode&&"equal"===t[0].interpolationMode),1&a[0]&&G(J,"selected","interpolation"===t[0].subItemMode&&"equal"===t[0].interpolationMode),1&a[0]&&G(x,"selected","interpolation"===t[0].subItemMode)},d(t){t&&m(e),t&&m(l),t&&m(c),t&&m(I),t&&m(B),t&&m(y),t&&m(x),t&&m(et),t&&m(at),nt=!1,A(At)}}}function Ds(e){let a,n,i,r,s,o,l,c,g,u,d,h,p,f,I,B,y,w,x,M,k,S,N,R,F,Y,$,j,U,H,J,_,T,z,O,P,K,X,Z,q,W,V,tt,et,at,nt,At,it,rt,st,ot,lt="cont"===e[1]&&bs(e);return{c(){a=Q("div"),n=Q("div"),i=Q("div"),i.innerHTML='<div class="svg-icon icon-updown svelte-1cshmr3"></div>',r=v(),s=Q("div"),o=v(),l=Q("div"),c=Q("div"),c.innerHTML='<div class="svg-icon icon-check svelte-1cshmr3"></div>',g=v(),u=Q("div"),u.innerHTML='<div class="svg-icon icon-refresh svelte-1cshmr3"></div>',d=v(),lt&&lt.c(),h=v(),p=Q("div"),f=Q("div"),I=v(),B=Q("div"),y=Q("div"),y.innerHTML='<div class="svg-icon icon-merge svelte-1cshmr3"></div>',w=v(),x=Q("div"),x.innerHTML='<div class="svg-icon icon-merge-average svelte-1cshmr3"></div>',M=v(),k=Q("div"),k.innerHTML='<div class="svg-icon icon-merge-right svelte-1cshmr3"></div>',S=v(),N=Q("div"),R=v(),F=Q("div"),F.innerHTML='<div class="svg-icon icon-check svelte-1cshmr3"></div>',Y=v(),$=Q("div"),$.innerHTML='<div class="svg-icon icon-refresh svelte-1cshmr3"></div>',j=v(),U=Q("div"),H=Q("input"),J=v(),_=Q("div"),T=v(),z=Q("div"),O=v(),P=Q("div"),K=Q("div"),K.innerHTML='<div class="svg-icon icon-check svelte-1cshmr3"></div>',X=v(),Z=Q("div"),Z.innerHTML='<div class="svg-icon icon-refresh svelte-1cshmr3"></div>',q=v(),W=Q("div"),V=v(),tt=Q("div"),et=Q("div"),at=v(),nt=Q("div"),At=Q("div"),At.innerHTML='<div class="svg-icon icon-check svelte-1cshmr3"></div>',it=v(),rt=Q("div"),rt.innerHTML='<div class="svg-icon icon-refresh svelte-1cshmr3"></div>',D(i,"class","item svelte-1cshmr3"),G(i,"selected",e[0].moveMode),G(i,"disabled",e[0].moveMode),D(s,"class","separator svelte-1cshmr3"),D(c,"class","item svelte-1cshmr3"),D(u,"class","item svelte-1cshmr3"),D(l,"class","collapse-item svelte-1cshmr3"),D(f,"class","svg-icon icon-merge svelte-1cshmr3"),D(y,"class","item sub-item-child show-tooltip svelte-1cshmr3"),G(y,"selected","merge"===e[0].subItemMode&&"left"===e[0].mergeMode),D(x,"class","item sub-item-child show-tooltip svelte-1cshmr3"),G(x,"selected","merge"===e[0].subItemMode&&"average"===e[0].mergeMode),D(k,"class","item sub-item-child show-tooltip svelte-1cshmr3"),G(k,"selected","merge"===e[0].subItemMode&&"right"===e[0].mergeMode),D(N,"class","separator svelte-1cshmr3"),D(F,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D($,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(B,"class","sub-item sub-item-merge hidden svelte-1cshmr3"),D(p,"class","item svelte-1cshmr3"),G(p,"selected","merge"===e[0].subItemMode),D(H,"class","item-input svelte-1cshmr3"),D(H,"placeholder","score"),D(_,"class","svg-icon item-input-up icon-input-up svelte-1cshmr3"),D(z,"class","svg-icon item-input-down icon-input-down svelte-1cshmr3"),D(K,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(Z,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(P,"class","sub-item sub-item-change hidden svelte-1cshmr3"),D(U,"class","item has-input svelte-1cshmr3"),D(W,"class","separator svelte-1cshmr3"),D(et,"class","svg-icon icon-delete svelte-1cshmr3"),D(At,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(rt,"class","item sub-item-child show-tooltip svelte-1cshmr3"),D(nt,"class","sub-item sub-item-delete hidden svelte-1cshmr3"),D(tt,"class","item svelte-1cshmr3"),G(tt,"selected","delete"===e[0].subItemMode),D(n,"class","items svelte-1cshmr3"),D(a,"class","menu-wrapper svelte-1cshmr3")},m(t,A){E(t,a,A),C(a,n),C(n,i),C(n,r),C(n,s),C(n,o),C(n,l),C(l,c),C(l,g),C(l,u),C(n,d),lt&&lt.m(n,null),C(n,h),C(n,p),C(p,f),C(p,I),C(p,B),C(B,y),C(B,w),C(B,x),C(B,M),C(B,k),C(B,S),C(B,N),C(B,R),C(B,F),C(B,Y),C(B,$),C(n,j),C(n,U),C(U,H),L(H,e[0].setValue),C(U,J),C(U,_),C(U,T),C(U,z),C(U,O),C(U,P),C(P,K),C(P,X),C(P,Z),C(n,q),C(n,W),C(n,V),C(n,tt),C(tt,et),C(tt,at),C(tt,nt),C(nt,At),C(nt,it),C(nt,rt),e[59](a),st||(ot=[b(i,"click",e[7]),b(i,"mouseenter",e[30]),b(i,"mouseleave",e[2]),b(c,"click",e[8]),b(c,"mouseenter",e[31]),b(c,"mouseleave",e[2]),b(u,"click",e[9]),b(u,"mouseenter",e[32]),b(u,"mouseleave",e[2]),b(y,"mouseenter",e[46]),b(y,"mouseleave",e[2]),b(y,"click",e[20]),b(x,"mouseenter",e[47]),b(x,"mouseleave",e[2]),b(x,"click",e[21]),b(k,"mouseenter",e[48]),b(k,"mouseleave",e[2]),b(k,"click",e[22]),b(F,"click",e[24]),b(F,"mouseenter",e[49]),b(F,"mouseleave",e[2]),b($,"click",e[25]),b($,"mouseenter",e[50]),b($,"mouseleave",e[2]),b(p,"click",e[19]),b(p,"mouseenter",e[51]),b(p,"mouseleave",e[2]),b(H,"input",e[52]),b(H,"change",e[4]),b(_,"click",e[5]),b(z,"click",e[6]),b(K,"click",e[24]),b(K,"mouseenter",e[53]),b(K,"mouseleave",e[2]),b(Z,"click",e[25]),b(Z,"mouseenter",e[54]),b(Z,"mouseleave",e[2]),b(U,"mouseenter",e[55]),b(U,"mouseleave",e[2]),b(At,"click",e[24]),b(At,"mouseenter",e[56]),b(At,"mouseleave",e[2]),b(rt,"click",e[25]),b(rt,"mouseenter",e[57]),b(rt,"mouseleave",e[2]),b(tt,"click",e[23]),b(tt,"mouseenter",e[58]),b(tt,"mouseleave",e[2])],st=!0)},p(t,e){1&e[0]&&G(i,"selected",t[0].moveMode),1&e[0]&&G(i,"disabled",t[0].moveMode),"cont"===t[1]?lt?lt.p(t,e):(lt=bs(t),lt.c(),lt.m(n,h)):lt&&(lt.d(1),lt=null),1&e[0]&&G(y,"selected","merge"===t[0].subItemMode&&"left"===t[0].mergeMode),1&e[0]&&G(x,"selected","merge"===t[0].subItemMode&&"average"===t[0].mergeMode),1&e[0]&&G(k,"selected","merge"===t[0].subItemMode&&"right"===t[0].mergeMode),1&e[0]&&G(p,"selected","merge"===t[0].subItemMode),1&e[0]&&H.value!==t[0].setValue&&L(H,t[0].setValue),1&e[0]&&G(tt,"selected","delete"===t[0].subItemMode)},i:t,o:t,d(t){t&&m(a),lt&&lt.d(),e[59](null),st=!1,A(ot)}}}function Ms(t,e,a){let{controlInfo:n}=e,{type:A="cont"}=e,i=null,r={},s=null,o=null;ws.subscribe((t=>{r=t}));const l=K(),c=t=>{null!==n.subItemMode&&n.subItemMode!==t&&(d(n.subItemMode),a(0,n.subItemMode=null,n)),a(0,n.subItemMode=t,n),u()},g=()=>{n.moveMode?sr.select(i).transition().duration(300).ease(sr.easeCubicInOut).style("width","120px").on("end",(()=>{sr.select(i).selectAll("div.collapse-item").style("display","flex")})):(sr.select(i).selectAll("div.collapse-item").style("display","none"),sr.select(i).transition().duration(300).ease(sr.easeCubicInOut).style("width",`${o}px`))},u=()=>{clearTimeout(s),s=null,r.show=!1,r.hideAnimated=!1,ws.set(r)},d=(t,e=0)=>{const a=t=>{let e=sr.select(i);e.select(".items").style("overflow","hidden"),e.select(`.sub-item-${t}`).classed("hidden",!0)};e>0?sr.timeout((()=>a(t)),e):a(t)},h=(t,e,a,A)=>{t.stopPropagation();let i=t.currentTarget;if(null!==n.subItemMode){const e=sr.select(t.explicitOriginalTarget);if(e.size()>0&&!e.classed("show-tooltip")&&(e.classed("sub-item-child")||e.classed("sub-item")))return}s=setTimeout((()=>{let t=i.getBoundingClientRect(),n=t.width,s=t.x+n/2,o=t.y-A;r.html=`\n        <div class='tooltip-content' style='display: flex; flex-direction: column;\n          justify-content: center;'>\n          ${e}\n        </div>\n      `,r.width=a,r.maxWidth=a,r.left=s-r.width/2,r.top=o,r.fontSize="14px",r.show=!0,r.orientation="s",ws.set(r)}),400)};z((()=>{xs(i);let t=i.getBoundingClientRect();o=t.width,i.setAttribute("data-max-width",o)}));return t.$$set=t=>{"controlInfo"in t&&a(0,n=t.controlInfo),"type"in t&&a(1,A=t.type)},t.$$.update=()=>{1&t.$$.dirty[0]&&n.toSwitchMoveMode&&(g(),a(0,n.toSwitchMoveMode=!1,n))},[n,A,()=>{clearTimeout(s),s=null,r.show=!1,ws.set(r)},i,t=>{c("change"),t.preventDefault();let e=parseFloat(t.target.value);isNaN(e)&&(e=0),a(0,n.setValue=e,n),l("inputChanged")},()=>{c("change"),null===n.setValue?a(0,n.setValue=0,n):(a(0,n.setValue+=n.changeUnit,n),a(0,n.setValue=Qr(n.setValue,3),n)),l("inputChanged")},()=>{c("change"),null===n.setValue?a(0,n.setValue=0,n):(a(0,n.setValue-=n.changeUnit,n),a(0,n.setValue=Qr(n.setValue,3),n)),l("inputChanged")},()=>{c(null),a(0,n.moveMode=!n.moveMode,n),g(),l("moveButtonClicked")},()=>{a(0,n.moveMode=!n.moveMode,n),g(),u(),l("moveCheckClicked")},()=>{a(0,n.moveMode=!n.moveMode,n),g(),u(),l("moveCancelClicked")},()=>{c("increasing"),l("increasingClicked")},()=>{c("decreasing"),l("decreasingClicked")},()=>{c("interpolation"),l("interpolationClicked")},t=>{t.stopPropagation(),n.step-1!=0&&(a(0,n.step--,n),a(0,n.interpolationMode="equal",n),l("interpolateUpdated"))},t=>{t.stopPropagation(),n.step+1!==21&&(a(0,n.step++,n),a(0,n.interpolationMode="equal",n),l("interpolateUpdated"))},t=>{t.stopPropagation(),a(0,n.interpolationMode="inplace",n),l("interpolateUpdated")},t=>{t.stopPropagation(),a(0,n.interpolationMode="equal",n),l("interpolateUpdated")},t=>{t.stopPropagation(),a(0,n.interpolationMode="regression",n),l("interpolateUpdated")},t=>{t.stopPropagation(),a(0,n.interpolationMode="equal",n),l("interpolateUpdated")},()=>{c("merge"),a(0,n.mergeMode="left",n),l("mergeClicked")},t=>{t.stopPropagation(),a(0,n.mergeMode="left",n),l("mergeUpdated")},t=>{t.stopPropagation(),a(0,n.mergeMode="average",n),l("mergeUpdated")},t=>{t.stopPropagation(),a(0,n.mergeMode="right",n),l("mergeUpdated")},()=>{c("delete"),l("deleteClicked")},t=>{t.stopPropagation(),u(),l("subItemCheckClicked")},t=>{t.stopPropagation(),u(),l("subItemCancelClicked")},h,u,(t,e=500)=>{sr.timeout((()=>{let e=sr.select(i);e.select(".items").style("overflow","visible"),e.select(`.sub-item-${t}`).classed("hidden",!1)}),e)},d,t=>h(t,"move",55,30),t=>h(t,"commit",65,30),t=>h(t,"cancel",65,30),t=>h(t,"commit",65,30),t=>h(t,"cancel",65,30),t=>h(t,"monotonically increasing",120,52),t=>h(t,"commit",65,30),t=>h(t,"cancel",65,30),t=>h(t,"monotonically decreasing",120,52),t=>h(t,"inplace interpolation",95,52),t=>h(t,"inplace regression",95,52),t=>h(t,"equalize bin size",95,52),t=>h(t,"number of bins",90,52),t=>h(t,"commit",65,30),t=>h(t,"cancel",65,30),t=>h(t,"interpolate",85,30),t=>h(t,"to left",60,30),t=>h(t,"to weighted average",150,30),t=>h(t,"to right",70,30),t=>h(t,"commit",65,30),t=>h(t,"cancel",65,30),t=>h(t,"align",60,30),function(){n.setValue=this.value,a(0,n)},t=>h(t,"commit",65,30),t=>h(t,"cancel",65,30),t=>h(t,"set scores",90,30),t=>h(t,"commit",65,30),t=>h(t,"cancel",65,30),t=>h(t,"delete",60,30),function(t){Z[t?"unshift":"push"]((()=>{i=t,a(3,i)}))}]}class ks extends xt{constructor(t){super(),vt(this,t,Ms,Ds,r,{controlInfo:0,type:1,hideToolTipDuringSubMenu:27,showConfirmation:28,hideConfirmation:29,mouseleaveHandler:2},null,[-1,-1,-1])}get hideToolTipDuringSubMenu(){return this.$$.ctx[27]}get showConfirmation(){return this.$$.ctx[28]}get hideConfirmation(){return this.$$.ctx[29]}get mouseleaveHandler(){return this.$$.ctx[2]}}function Ls(t){let e,a,n,A,i,r,s,o,l,c;function g(e){t[30](e)}let u={};return void 0!==t[6]&&(u.controlInfo=t[6]),i=new ks({props:u}),Z.push((()=>Et(i,"controlInfo",g))),t[31](i),i.$on("inputChanged",t[15]),i.$on("moveButtonClicked",t[7]),i.$on("increasingClicked",t[10]),i.$on("decreasingClicked",t[11]),i.$on("interpolationClicked",t[12]),i.$on("mergeClicked",t[14]),i.$on("mergeUpdated",t[16]),i.$on("deleteClicked",t[17]),i.$on("moveCheckClicked",t[8]),i.$on("moveCancelClicked",t[9]),i.$on("subItemCheckClicked",t[18]),i.$on("subItemCancelClicked",t[19]),i.$on("interpolateUpdated",t[13]),{c(){e=Q("div"),a=Q("a"),n=v(),A=Q("div"),mt(i.$$.fragment),s=v(),o=Q("div"),l=y("svg"),D(a,"id","download-anchor"),S(a,"display","none"),D(A,"class","context-menu-container hidden svelte-148d82j"),D(l,"class","svg-explainer"),D(l,"width",t[0]),D(l,"height",t[1]),D(o,"class","svg-container"),D(e,"class","explain-panel svelte-148d82j")},m(r,g){E(r,e,g),C(e,a),C(e,n),C(e,A),Qt(i,A,null),t[32](A),C(e,s),C(e,o),C(o,l),t[33](l),t[34](e),c=!0},p(t,e){const a={};!r&&64&e[0]&&(r=!0,a.controlInfo=t[6],at((()=>r=!1))),i.$set(a),(!c||1&e[0])&&D(l,"width",t[0]),(!c||2&e[0])&&D(l,"height",t[1])},i(t){c||(ht(i.$$.fragment,t),c=!0)},o(t){pt(i.$$.fragment,t),c=!1},d(a){a&&m(e),t[31](null),yt(i),t[32](null),t[33](null),t[34](null)}}}let Ss=600;function Gs(t,e,a){let{featureData:n=null}=e,{scoreRange:A=null}=e,{svgHeight:i=400}=e,{svgWidth:r=null}=e,{ebm:s=null}=e,{sidebarStore:o=null}=e,{footerStore:l=null}=e,{footerActionStore:c=null}=e,{historyStore:g=null}=e,u=null,d=null,h=null,p=null,f=[],C=!1,I=!1;const B=vr;let E,m,Q,y=400;null!==r&null!==i&&(y=Ss/r*i);const w=Mr,v=xr;let x=null,b=null,D={curXScale:null,curYScale:null,curTransform:null,selectedInfo:null,lastSelectedInfo:null,pointData:null,additiveData:null,pointDataBuffer:null,additiveDataBuffer:null,oriXScale:null,oriYScale:null,bboxPadding:1},M=!1;D.selectedInfo=new Sr;let k={moveMode:!1,toSwitchMoveMode:!1,subItemMode:null,setValue:null,step:3,interpolationMode:"inplace"},L=null,S=null,G=null,N=g.subscribe((t=>{G=t})),R={},F=o.subscribe((async t=>{switch(R=t,t.curGroup){case"globalClicked":console.log("globalClicked"),l.update((t=>(t.sample.includes(",")&&(t.sample=t.sample.slice(0,-1)),t.slice="",t))),R.curGroup="overwrite",o.set(R);break;case"selectedClicked":if(console.log("selectedClicked"),l.update((t=>(t.sample.includes(",")&&(t.sample=t.sample.slice(0,-1)),t.slice="",t))),D.selectedInfo.hasSelected){for(R.curGroup="nullify",o.set(R);"nullifyCompleted"!==R.curGroup;)await new Promise((t=>setTimeout(t,300)));R.historyHead-1>=0&&"original"!==G[R.historyHead-1].type&&G[R.historyHead-1].featureName===D.featureName&&await T("last-only",G[R.historyHead-1].state.pointData);let t=null===D.pointDataBuffer?G[R.historyHead].state.pointData:D.pointDataBuffer;await T("current-only",t)}else R.curGroup="nullify",o.set(R);break;case"sliceClicked":{console.log("sliceClicked");let t=s.setSliceData(R.sliceInfo.featureID,R.sliceInfo.level);for(l.update((e=>(e.sample.includes(",")||(e.sample+=","),e.slice=`<b>${t}</b> sliced`,e))),R.curGroup="nullify",o.set(R);"nullifyCompleted"!==R.curGroup;)await new Promise((t=>setTimeout(t,300)));R.historyHead-1>=0&&"original"!==G[R.historyHead-1].type&&G[R.historyHead-1].featureName===D.featureName&&await T("last-only",G[R.historyHead-1].state.pointData);let e=null===D.pointDataBuffer?G[R.historyHead].state.pointData:D.pointDataBuffer;await T("current-only",e);break}case"headChanged":G[t.historyHead].featureName===D.featureName&&(async(t,e,a,n,A,i,r,s,o)=>{let l,c;i.update((t=>(l=t,t))),o.update((t=>(c=t,t)));let g=l[c.historyHead],u=c.historyHead;qr(e,t,a,n,A),t.additiveData=g.state.additiveData,t.pointData=g.state.pointData,t.additiveDataBuffer=null,t.pointDataBuffer=null;let d=null;for(let e=u-1;e>=0;e--)if(l[e].featureName===t.featureName){d=l[e];break}null!==d?(t.additiveDataLastEdit=d.state.additiveData,Pr(t,e)):t.additiveDataLastEdit=void 0,t.additiveDataLastLastEdit=null!==d?d.state.additiveData:void 0,"original"===g.type&&(t.additiveDataLastEdit=g.state.additiveData,t.additiveDataLastLastEdit=g.state.additiveData,Pr(t,e)),t.additiveDataLastEdit=JSON.parse(JSON.stringify(t.additiveData)),await r("current",t.pointData),s(g.featureName),o.update((t=>(t.curGroup="nullify-last",t))),Hr(t,e)})(D,u,h,V,W,g,T,O,o);break}})),Y=null,$=l.subscribe((t=>{Y=t})),j=c.subscribe((t=>{switch(t){case"undo":console.log("undo clicked"),G.length>1&&(async(t,e,a,n,A,i,r,s,o)=>{let l,c,g,u;if(i.update((t=>(l=t,t))),"original"===l[l.length-1].type||t.featureName!==l[l.length-1].featureName)return;qr(e,t,a,n,A);for(let e=l.length-2;e>=0;e--)if(l[e].featureName===t.featureName){g=l[e],u=e;break}o.update((t=>(t.historyHead=u,t.historyHead!==l.length-2&&(t.previewHistory=!0),t))),i.update((t=>(c=t.pop(),t))),r.push(c),t.additiveData=g.state.additiveData,t.pointData=g.state.pointData,t.additiveDataBuffer=null,t.pointDataBuffer=null;let d,h=null;for(let e=u-1;e>=0;e--)if(l[e].featureName===t.featureName){h=l[e];break}switch(null!==h?(t.additiveDataLastEdit=h.state.additiveData,Pr(t,e)):t.additiveDataLastEdit=void 0,t.additiveDataLastLastEdit=null!==h?h.state.additiveData:void 0,t.additiveDataLastEdit=JSON.parse(JSON.stringify(t.additiveData)),await s("current",t.pointData),o.update((t=>(t.curGroup="no action",t.barData=JSON.parse(JSON.stringify(g.metrics.barData)),t.confusionMatrixData=JSON.parse(JSON.stringify(g.metrics.confusionMatrixData)),d=t,t))),d.effectScope){case"global":o.update((t=>(t.curGroup="overwrite",t)));break;case"selected":o.update((t=>(t.curGroup="nullify",t)));break;case"slice":{let e;i.update((t=>(e=t,t))),await s("original-only",e[0].state.pointData),e.length>1&&await s("last-only",e[e.length-2].state.pointData);let a=null===t.pointDataBuffer?e[e.length-1].state.pointData:t.pointDataBuffer;await s("current-only",a),1===e.length&&(d.curGroup="last",o.set(d));break}}Hr(t,e)})(D,u,h,V,W,g,f,T,o);break;case"redo":console.log("redo clicked"),f.length>0&&(async(t,e,a,n,A,i,r,s,o)=>{let l;qr(e,t,a,n,A),i.update((t=>(l=t,t))),o.update((t=>(t.historyHead=l.length,t)));let c,g=r.pop();switch(i.update((t=>(t.push(g),l=t,t))),t.additiveData=g.state.additiveData,t.pointData=g.state.pointData,t.additiveDataBuffer=null,t.pointDataBuffer=null,l.length>1?(t.additiveDataLastEdit=l[l.length-2].state.additiveData,Pr(t,e)):t.additiveDataLastEdit=void 0,l.length>1?t.additiveDataLastLastEdit=l[l.length-2].state.additiveData:t.additiveDataLastLastEdit=void 0,t.additiveDataLastEdit=JSON.parse(JSON.stringify(t.additiveData)),await s("current",t.pointData),o.update((t=>(t.curGroup="no action",t.barData=JSON.parse(JSON.stringify(g.metrics.barData)),t.confusionMatrixData=JSON.parse(JSON.stringify(g.metrics.confusionMatrixData)),c=t,t))),c.effectScope){case"global":o.update((t=>(t.curGroup="overwrite",t)));break;case"selected":o.update((t=>(t.curGroup="nullify",t)));break;case"slice":{let e;i.update((t=>(e=t,t))),await s("original-only",e[0].state.pointData),e.length>1&&await s("last-only",e[e.length-2].state.pointData);let a=null===t.pointDataBuffer?e[e.length-1].state.pointData:t.pointDataBuffer;await s("current-only",a),1===e.length&&(c.curGroup="last",o.set(c));break}}Hr(t,e)})(D,u,h,V,W,g,f,T,o);break;case"save":console.log("save clicked");break;case"selectAll":console.log("selectAll clicked"),M&&(qr(u,D,h,V,W),((t,e,a,n,A,i,r,s,o,l,c)=>{let g=[-1/0,1/0],u=[-1/0,1/0],d=[],h=sr.select(t);h.select("g.line-chart-node-group").selectAll("circle.node").classed("selected",(t=>{if(t.x>=g[0]&&t.x<=g[1]&&t.y>=u[0]&&t.y<=u[1])return d.push(t.ebmID),e.selectedInfo.nodeData.push({x:t.x,y:t.y,id:t.id,ebmID:t.ebmID}),!0;if(null===t.rightPointID)return!1;{let a=e.pointData[t.rightPointID];if(t.y>=u[0]&&t.y<=u[1]&&a.x>=g[0]&&a.x<=g[1]&&a.y>=u[0]&&a.y<=u[1])return d.push(t.ebmID),e.selectedInfo.nodeData.push({x:t.x,y:t.y,id:t.id,ebmID:t.ebmID}),!0}})),h.select("g.line-chart-line-group.real").selectAll("path").classed("selected",!0),h.select("g.line-chart-node-group").selectAll("circle.node").classed("selected",!0),l.update((t=>{let e=c.getSelectedSampleNum(d);return t.sample=`<b>${e}/${t.totalSampleNum}</b> validation samples selected`,t})),e.selectedInfo.computeBBox(e.pointData);let p=Yr(e.curTransform.k)+e.bboxPadding*e.curTransform.k;h.select("g.line-chart-content-group").append("g").attr("class","select-bbox-group").selectAll("rect.select-bbox").data(e.selectedInfo.boundingBox).join("rect").attr("class","select-bbox original-bbox").attr("x",(t=>e.curXScale(t.x1)-p)).attr("y",(t=>e.curYScale(t.y1)-p)).attr("width",(t=>e.curXScale(t.x2)-e.curXScale(t.x1)+p)).attr("height",(t=>e.curYScale(t.y2)-e.curYScale(t.y1)+2*p)).style("stroke-width",a).style("stroke","hsl(230, 100%, 10%)").style("stroke-dasharray","5 3").clone(!0).classed("original-bbox",!1).style("stroke",Mr.background).style("stroke-dasharray",null).style("stroke-width",3*a).lower(),e.selectedInfo.hasSelected=h.selectAll("g.line-chart-node-group circle.node.selected").size()>0,e.selectedInfo.hasSelected&&(sr.select(n).call(Nr,t,A).classed("hidden",!1),i(d)),r(),s(),h.select("g.line-chart-content-group g.brush").call(o.move,null).select("rect.overlay").attr("cursor",null)})(u,D,1,h,d,q,K,X,x,l,s))}c.set("")}));z((()=>{a(28,C=!0)})),P((()=>{F(),j(),$(),N()}));const U=async t=>{a(29,I=!0),console.log(t),D.featureName=t.name;let e=sr.select(u);a(0,r=i*(Ss/y)),e.attr("viewBox",`0 0 600 ${y}`).attr("preserveAspectRatio","xMinYMin meet").attr("width",r).attr("height",i).on("wheel",(t=>{t.preventDefault(),t.stopPropagation()})),e.on("contextmenu",(t=>{t.preventDefault()})),Q=y-B.top-B.bottom-90;let n=sr.scaleLinear().domain(A).range([Q,0]),c=Math.max(40,Lr(u,n,v,!0));E=18+c/r*Ss,m=Ss-B.left-B.right-E,tt(),((t,e,a)=>{let n=t.append("g").attr("class","legend-group").attr("transform",`translate(${e-a.right-266}, 6)`).selectAll("g.legend-item").data([{name:"original",class:"original",title:"Original bins",x:0,rectColor:"#D1D1D1"},{name:"last",class:"last",title:"Bins from last edit",x:76,rectColor:"#FFDFB3"},{name:"current",class:"current",title:"Current bins",x:130,rectColor:"#263B73"},{name:"editing",class:"editing",title:"Currently editing bins",x:204,rectColor:"#D67D00"}]).join("g").style("cursor","default").attr("transform",(t=>`translate(${t.x}, 0)`));n.append("title").text((t=>t.title)),n.append("rect").attr("y",6).attr("width",22).attr("height",4).attr("rx",1).attr("class",(t=>t.class)).style("fill",(t=>t.rectColor)),n.append("text").attr("class","line-legend-title").attr("y",2).attr("x",26).text((t=>t.name))})(e,Ss,B);let f=e.append("g").attr("class","content").attr("transform",`translate(${B.left}, ${B.top})`),C=t.binEdge[0],L=t.binEdge[t.binEdge.length-1],S=sr.scaleLinear().domain([C,L]).range([0,m]);D.oriXScale=S,D.oriYScale=n,D.curXScale=S,D.curYScale=n,a(6,k.changeUnit=Qr((A[1]-A[0])/n.ticks().length,4),k),D.additiveData=(t=>{let e=[];for(let a=0;a<t.additive.length-1;a++){let n=t.binEdge[a],A=t.additive[a],i=t.binEdge[a+1],r=t.additive[a+1];e.push({x1:n,y1:A,x2:i,y2:A,id:`path-${a}-${a+1}-r`,pos:"r",sx:n,sy:A,tx:i,ty:r}),e.push({x1:i,y1:A,x2:i,y2:r,id:`path-${a}-${a+1}-l`,pos:"l",sx:n,sy:A,tx:i,ty:r})}return e.push({x1:t.binEdge[t.additive.length-1],y1:t.additive[t.additive.length-1],x2:t.binEdge[t.additive.length],y2:t.additive[t.additive.length-1],id:`path-${t.additive.length-1}-${t.additive.length-1}-r`,pos:"r",sx:t.binEdge[t.additive.length-1],sy:t.additive[t.additive.length-1],tx:t.binEdge[t.additive.length],ty:t.additive[t.additive.length-1]}),e})(t);let N=(t=>{let e=[];for(let a=0;a<t.additive.length;a++){let n=t.additive[a],A=t.error[a];e.push({x1:t.binEdge[a],y1:n+A,x2:t.binEdge[a+1],y2:n-A})}let a=t.additive[t.additive.length-1],n=t.error[t.additive.length-1];return e.push({x1:t.binEdge[t.additive.length-1],y1:a+n,x2:t.binEdge[t.additive.length-1],y2:a-n}),e})(t);var F;D.pointData=(t=>{let e={};for(let a=0;a<t.additive.length;a++)e[a]={x:t.binEdge[a],y:t.additive[a],count:t.count[a],id:a,ebmID:a,leftPointID:0==a?null:a-1,rightPointID:a==t.additive.length-1?null:a+1,leftLineIndex:null,rightLineIndex:null};return e[t.additive.length-1].maxX=t.binEdge[t.additive.length],e})(t),F=D.pointData,D.additiveData.forEach(((t,e)=>{if("r"===t.pos){let a=t.id.replace(/path-(\d+)-(\d+)-[lr]/,"$1");F[a].rightLineIndex=e}else{let a=t.id.replace(/path-(\d+)-(\d+)-[lr]/,"$2");F[a].leftLineIndex=e}}));let Y=f.append("g").attr("class","hist-chart-group"),$=f.append("g").attr("class","line-chart-group"),j=$.append("g").attr("class","axis-group");$.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-line-chart-clip`).append("rect").attr("width",m).attr("height",Q-1),Y.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-hist-chart-clip`).append("rect").attr("x",E).attr("y",Q).attr("width",m).attr("height",90),Y.attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-hist-chart-clip)`);let U=$.append("g").attr("class","line-chart-content-group").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-line-chart-clip)`).attr("transform",`translate(${E}, 0)`);U.append("rect").attr("width",m).attr("height",Q).style("opacity",0);let H=U.append("g").attr("class","line-chart-grid-group"),J=U.append("g").attr("class","line-chart-confidence-group"),z=U.append("g").attr("class","line-chart-line-group real").style("stroke",w.line).style("stroke-width",2.5).style("fill","none");z.selectAll("path").data(D.additiveData,(t=>`${t.id}-${t.pos}`)).join("path").attr("class","additive-line-segment").attr("id",(t=>t.id)).attr("d",(t=>`M ${S(t.x1)}, ${n(t.y1)} L ${S(t.x2)} ${n(t.y2)}`)),U.append("g").attr("class","line-chart-line-group last-edit").style("stroke","hsl(35, 100%, 85%)").style("stroke-width",2.5).style("fill","none").lower(),z.clone(!0).classed("real",!1).style("stroke","hsl(0, 0%, 82%)").lower(),J.lower(),H.lower(),U.append("g").attr("class","line-chart-node-group").style("visibility","hidden").selectAll("circle").data(Object.values(D.pointData),(t=>t.id)).join("circle").attr("class","node").attr("id",(t=>`node-${t.id}`)).attr("cx",(t=>S(t.x))).attr("cy",(t=>n(t.y))).attr("r",Rr[0]).style("stroke-width",1),J.selectAll("rect").data(N).join("rect").attr("class","confidence-rect").attr("x",(t=>S(t.x1))).attr("y",(t=>n(t.y1))).attr("width",(t=>S(t.x2)-S(t.x1))).attr("height",(t=>n(t.y2)-n(t.y1))).style("fill",w.lineConfidence).style("opacity",.13);let O=j.append("g").attr("class","x-axis").attr("transform",`translate(${E}, ${Q})`).call(sr.axisBottom(S));O.attr("font-family",v);const P=O.node().getBoundingClientRect().height/i*y;O.append("g").attr("transform",`translate(${m/2}, ${P+5})`).append("text").attr("class","x-axis-text").text(t.name).style("fill","black");let Z=j.append("g").attr("class","y-axis").attr("transform",`translate(${E}, 0)`);Z.call(sr.axisLeft(n).tickFormat((t=>Math.abs(t)>=1e3?t/1e3+"K":t))),Z.attr("font-family",v),Z.append("g").attr("class","y-axis-text").attr("transform",`translate(${15-E}, ${Q/2}) rotate(-90)`).append("text").text("Score").style("dominant-baseline","text-bottom").style("fill","black");let et=[],at=sr.sum(t.histCount),nt=t.histCount.map((t=>t/at));for(let e=0;e<nt.length;e++)et.push({x1:t.histEdge[e],x2:t.histEdge[e+1],height:nt[e]});let At=sr.scaleLinear().domain(sr.extent(nt)).range([0,90]);Y.append("g").attr("class","hist-chart-content-group").attr("transform",`translate(${E}, ${Q})`).selectAll("rect").data(et).join("rect").attr("class","hist-rect").attr("x",(t=>S(t.x1))).attr("y",0).attr("width",(t=>S(t.x2)-S(t.x1))).attr("height",(t=>At(t.height))).style("fill",w.hist);let it=$.append("g").attr("class","y-axis").attr("transform",`translate(${E}, ${Q})`);it.call(sr.axisLeft(At).ticks(2)),it.attr("font-family",v),it.selectAll("text").style("fill",w.histAxis).filter(((t,e,a)=>"0.0"===sr.select(a[e]).text())).text("0"),it.selectAll("path,line").style("stroke",w.histAxis),it.append("g").attr("transform",`translate(${15-E}, 45) rotate(-90)`).append("text").attr("class","y-axis-text").text("Density").style("dominant-baseline","text-bottom").style("fill",w.histAxis),x=sr.brush().on("end",(t=>((t,e,a,n,A,i,r,s,o,l,c,g,u,d,h,p,f)=>{let C=t.selection,I=sr.select(a);if(null===C){if(null===Xr){I.select("g.line-chart-content-group g.brush rect.overlay").attr("cursor",null),sr.select(n).classed("hidden",!0),A.mouseleaveHandler();let t=o(),i=()=>{};return"interpolation"===t.subItemMode?i=()=>{c("current",e.pointData)}:(t.moveMode||null!==t.subItemMode)&&(i=()=>{g("recoverEBM",e.lastSelectedInfo.nodeData),e.lastSelectedInfo=null}),(t.moveMode||null!==t.subItemMode)&&(Hr(e,a,!0,i),void 0!==e.additiveDataLastLastEdit&&(e.additiveDataLastEdit=JSON.parse(JSON.stringify(e.additiveDataLastLastEdit)),Pr(e,a),e.additiveDataLastEdit=JSON.parse(JSON.stringify(e.additiveData)))),l.update((e=>(t.moveMode||null!==t.subItemMode?e.curGroup="recover":e.curGroup="no action",e.hasUpdatedLastMetrics=!1,e))),I.selectAll("g.line-chart-content-group g.select-bbox-group").remove(),d(),h(),Xr=setTimeout(Zr,300)}}else{let t=[e.curXScale.invert(C[0][0]),e.curXScale.invert(C[1][0])],A=[e.curYScale.invert(C[1][1]),e.curYScale.invert(C[0][1])],o=[],l=[];I.select("g.line-chart-node-group").selectAll("circle.node").classed("selected",(a=>{if(a.x>=t[0]&&a.x<=t[1]&&a.y>=A[0]&&a.y<=A[1])return o.push(a.ebmID),l.push([a.id,a.x]),!0;if(null===a.rightPointID)return!1;{let n=e.pointData[a.rightPointID];if(a.y>=A[0]&&a.y<=A[1]&&n.x>=t[0]&&n.x<=t[1]&&n.y>=A[0]&&n.y<=A[1])return o.push(a.ebmID),l.push([a.id,a.x]),!0}}));const c=sr.extent(l.map((t=>e.pointData[t[0]].x)));o=[],l=[],I.select("g.line-chart-node-group").selectAll("circle.node").classed("selected",(t=>t.x>=c[0]&&t.x<=c[1]&&(o.push(t.ebmID),l.push([t.id,t.x]),e.selectedInfo.nodeData.push({x:t.x,y:t.y,id:t.id,ebmID:t.ebmID}),!0))),l.sort(((t,e)=>t[1]-e[1])),I.select("g.line-chart-line-group.real").selectAll("path.additive-line-segment").classed("selected",!1),l.forEach(((t,a)=>{let n=t[0];I.select("g.line-chart-line-group.real").select(`#path-${n}-${e.pointData[n].rightPointID}-r`).classed("selected",!0),a!==l.length-1?I.select("g.line-chart-line-group.real").select(`#path-${n}-${e.pointData[n].rightPointID}-l`).classed("selected",!0):I.select("g.line-chart-line-group.real").select(`#path-${n}-${n}-r`).classed("selected",!0)})),e.selectedInfo.computeBBox(e.pointData);let g=Yr(e.curTransform.k)+e.bboxPadding*e.curTransform.k;I.select("g.line-chart-content-group").append("g").attr("class","select-bbox-group").selectAll("rect.select-bbox").data(e.selectedInfo.boundingBox).join("rect").attr("class","select-bbox original-bbox").attr("x",(t=>e.curXScale(t.x1)-g)).attr("y",(t=>e.curYScale(t.y1)-g)).attr("width",(t=>1===e.selectedInfo.nodeData.length?e.curXScale(t.x2)-e.curXScale(t.x1)+2*g:e.curXScale(t.x2)-e.curXScale(t.x1)+g)).attr("height",(t=>e.curYScale(t.y2)-e.curYScale(t.y1)+2*g)).style("stroke-width",i).style("stroke","hsl(230, 100%, 10%)").style("stroke-dasharray","5 3").clone(!0).classed("original-bbox",!1).style("stroke",Mr.background).style("stroke-dasharray",null).style("stroke-width",3*i).lower(),e.selectedInfo.hasSelected=I.selectAll("g.line-chart-node-group circle.node.selected").size()>0,e.selectedInfo.hasSelected&&(sr.select(n).call(Nr,a,s).classed("hidden",!1),u(o)),h(),p(),I.select("g.line-chart-content-group g.brush").call(r.move,null).select("rect.overlay").attr("cursor",null)}})(t,D,u,h,p,1,x,d,V,o,T,_,q,W,K,X))).on("start brush",(t=>((t,e,a,n,A,i)=>{let r=t.selection,s=sr.select(a);if(null===r){if(null===Xr)return Xr=setTimeout(Zr,300)}else{let t=[e.curXScale.invert(r[0][0]),e.curXScale.invert(r[1][0])],a=[e.curYScale.invert(r[1][1]),e.curYScale.invert(r[0][1])];e.lastSelectedInfo=Object.assign(Object.create(Object.getPrototypeOf(e.selectedInfo)),e.selectedInfo),e.selectedInfo=new Sr,s.selectAll("g.line-chart-content-group g.select-bbox-group").remove(),sr.select(n).classed("hidden",!0);let o=[],l=[];s.select("g.line-chart-node-group").selectAll("circle.node").classed("selected",(n=>{if(n.x>=t[0]&&n.x<=t[1]&&n.y>=a[0]&&n.y<=a[1])return o.push(n.ebmID),l.push([n.id,n.x]),!0;if(null===n.rightPointID)return!1;{let A=e.pointData[n.rightPointID];if(n.y>=a[0]&&n.y<=a[1]&&A.x>=t[0]&&A.x<=t[1]&&A.y>=a[0]&&A.y<=a[1])return o.push(n.ebmID),l.push([n.id,n.x]),!0}})),l.sort(((t,e)=>t[1]-e[1])),s.select("g.line-chart-line-group.real").selectAll("path.additive-line-segment").classed("selected",!1),l.forEach(((t,a)=>{let n=t[0];s.select("g.line-chart-line-group.real").select(`#path-${n}-${e.pointData[n].rightPointID}-r`).classed("selected",!0),a!==l.length-1?s.select("g.line-chart-line-group.real").select(`#path-${n}-${e.pointData[n].rightPointID}-l`).classed("selected",!0):s.select("g.line-chart-line-group.real").select(`#path-${n}-${n}-r`).classed("selected",!0)})),i.update((t=>{let e=A.getSelectedSampleNum(o);return t.sample=`<b>${e}/${t.totalSampleNum}</b> validation samples selected`,t}))}})(t,D,u,h,s,l))).extent([[0,0],[m,Q]]).filter((t=>M?0===t.button:2===t.button)),U.append("g").attr("class","brush").call(x).select("rect.overlay").attr("cursor",null),b=sr.zoom().scaleExtent(Fr).on("zoom",(t=>((t,e,a,n,A,i,r,s,o,l,c,g)=>{let u=sr.select(A),d=t.transform,h=d.rescaleX(a),p=d.rescaleY(n);e.curXScale=h,e.curYScale=p,e.curTransform=d,u.select("g.x-axis").call(sr.axisBottom(h)),u.select("g.y-axis").call(sr.axisLeft(p).tickFormat((t=>Math.abs(t)>=1e3?t/1e3+"K":t))),u.selectAll("g.line-chart-line-group").attr("transform",d).style("stroke-width",i/d.k),u.select("g.line-chart-confidence-group").attr("transform",d);let f=u.select("g.line-chart-node-group");if(d.k<=1&&"visible"===f.style("visibility")&&f.transition().duration(300).style("opacity",0).on("end",((t,e,a)=>{sr.select(a[e]).style("visibility","hidden")})),d.k>1&&"hidden"===f.style("visibility")&&(f.style("opacity",0),f.style("visibility","visible").transition().duration(500).style("opacity",1)),u.select("g.line-chart-node-group").attr("transform",d).selectAll("circle.node").attr("r",Yr(d.k)).style("stroke-width",r/d.k),u.select("g.hist-chart-content-group").attr("transform",`translate(${s+d.x},\n        ${l})scale(${d.k}, 1)`),e.selectedInfo.hasSelected){let t=Yr(e.curTransform.k)+e.bboxPadding*e.curTransform.k;u.select("g.line-chart-content-group").selectAll("rect.select-bbox").attr("x",(a=>e.curXScale(a.x1)-t)).attr("y",(a=>e.curYScale(a.y1)-t)).attr("width",(a=>1===e.selectedInfo.nodeData.length?e.curXScale(a.x2)-e.curXScale(a.x1)+2*t:e.curXScale(a.x2)-e.curXScale(a.x1)+t)).attr("height",(a=>e.curYScale(a.y2)-e.curYScale(a.y1)+2*t)),sr.select(c).call(Nr,A,g)}u.select("g.line-chart-grid-group").call($r,h,p,o,l)})(t,D,S,n,u,2.5,1,E,m,Q,h,d))).on("start",(()=>((t,e)=>{t.selectedInfo.hasSelected&&sr.select(e).classed("hidden",!0)})(D,h))).on("end",(()=>((t,e)=>{t.selectedInfo.hasSelected&&sr.select(e).classed("hidden",!1)})(D,h))).filter((t=>M?"wheel"===t.type||2===t.button:0===t.button||"wheel"===t.type)),U.call(b).call(b.transform,sr.zoomIdentity),U.on("dblclick.zoom",null),U.on("dblclick",(()=>{U.transition("reset").duration(750).ease(sr.easeCubicInOut).call(b.transform,sr.zoomIdentity)})),l.update((t=>(t.help="<b>Drag</b> to pan view, <b>Scroll</b> to zoom",t)));let rt=await(async(t,e,a,n)=>{let A,i=null,r=-1,s=null;a.update((t=>(A=t,t)));for(let e=A.length-1;e>=0;e--)if(A[e].featureName===t.featureName){i=A[e],r=e;break}if(null===i)return!1;for(let e=r-1;e>=0;e--)if(A[e].featureName===t.featureName){s=A[e];break}return t.additiveData=i.state.additiveData,t.pointData=i.state.pointData,t.additiveDataBuffer=null,t.pointDataBuffer=null,null!==s?(t.additiveDataLastEdit=s.state.additiveData,Pr(t,e)):t.additiveDataLastEdit=void 0,t.additiveDataLastLastEdit=null!==s?s.state.additiveData:void 0,t.additiveDataLastEdit=JSON.parse(JSON.stringify(t.additiveData)),await n("current",t.pointData),Hr(t,e),i.hash})(D,u,g,T);ms(D,"original",rt?`Reloaded commit ${rt.substring(0,7)}`:"Original graph",g,o),R.historyHead=G.length-1,R.previewHistory=!1,o.set(R),setTimeout((()=>{U.transition().duration(400).call(b.scaleTo,.95)}),400)},H=async(t="global")=>{let e;switch(t){case"global":e=s.getMetrics();break;case"selected":{let t=D.selectedInfo.nodeData.map((t=>t.ebmID));e=s.getMetricsOnSelectedBins(t);break}case"slice":e=s.getMetricsOnSelectedSlice()}return e},J=(t,e)=>{s.isClassification?(R.accuracy=t.accuracy,R.rocAuc=t.rocAuc,R.balancedAccuracy=t.balancedAccuracy,R.confusionMatrix=t.confusionMatrix):(R.rmse=t.rmse,R.mae=t.mae,R.mape=t.mape),R.curGroup=e,o.set(R)},_=async(t,e)=>{let a=[],n=[];switch(void 0===e&&(e=D.selectedInfo.nodeData),e.forEach((t=>{a.push(t.ebmID),n.push(t.y)})),await s.updateModel(a,n),R.effectScope){case"global":{let e=await H("global");J(e,t);break}case"selected":{let e=await H("selected");J(e,t);break}case"slice":{let e=await H("slice");J(e,t);break}}},T=async(t,e,a,n=!0)=>{let A=[],i=[],r=e[0],o=0;for(;null!==r.rightPointID;)A.push(r.x),i.push(r.y),r.ebmID=o,o++,r=e[r.rightPointID];if(A.push(r.x),i.push(r.y),r.ebmID=o,await s.setModel(A,i,a),n)switch(R.effectScope){case"global":{let e=await H("global");J(e,t);break}case"selected":{let e=await H("selected");J(e,t);break}case"slice":{let e=await H("slice");J(e,t);break}}},O=t=>{s.setEditingFeature(t)},K=()=>{D.selectedInfo.hasSelected||"selected"!==R.effectScope||(R.curGroup="nullify",o.set(R))},X=async()=>{if("selected"===R.effectScope&&D.selectedInfo.hasSelected){for(R.curGroup="nullify",o.set(R);"nullifyCompleted"!==R.curGroup;)await new Promise((t=>setTimeout(t,300)));R.historyHead-1>=0&&"original"!==G[R.historyHead-1].type&&G[R.historyHead-1].featureName===D.featureName&&await T("last-only",G[R.historyHead-1].state.pointData),await T("current-only",G[R.historyHead].state.pointData)}},q=async t=>{if(void 0!==s.isDummy)return;let e=s.getSelectedSampleDist(t);for(let t=0;t<R.featurePlotData.cont.length;t++){let a=R.featurePlotData.cont[t].id;R.featurePlotData.cont[t].histSelectedCount=e[a]}for(let t=0;t<R.featurePlotData.cat.length;t++){let a=R.featurePlotData.cat[t].id;R.featurePlotData.cat[t].histSelectedCount=e[a]}R.curGroup="updateFeature",o.set(R)},W=async()=>{if(void 0===s.isDummy){for(let t=0;t<R.featurePlotData.cont.length;t++)R.featurePlotData.cont[t].histSelectedCount=new Array(R.featurePlotData.cont[t].histSelectedCount.length).fill(0);for(let t=0;t<R.featurePlotData.cat.length;t++)R.featurePlotData.cat[t].histSelectedCount=new Array(R.featurePlotData.cat[t].histSelectedCount.length).fill(0);R.curGroup="updateFeature",o.set(R)}},V=()=>{let t=k.moveMode,e=k.subItemMode;return k.moveMode&&(a(6,k.moveMode=!1,k),a(6,k.toSwitchMoveMode=!0,k),D.pointDataBuffer=null,D.additiveDataBuffer=null),null!==k.subItemMode&&(p.hideConfirmation(k.subItemMode),a(6,k.subItemMode=null,k),D.pointDataBuffer=null,D.additiveDataBuffer=null),a(6,k.setValue=null,k),l.update((t=>(t.baseline=0,t.baselineInit=!1,t.state="",t.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",t))),{moveMode:t,subItemMode:e}},tt=async()=>{L=await mr(!0),S=await mr(!1)},et=()=>{D.pointDataBuffer=null,D.additiveDataBuffer=null,Hr(D,u,!0,(()=>{sr.select(h).call(Nr,u,d),_("recoverEBM")})),R.curGroup="recover",R.hasUpdatedLastMetrics=!1,o.set(R),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").style("cursor",null).on(".drag",null).select("rect.original-bbox").classed("animated",!1),void 0!==D.additiveDataLastLastEdit&&(D.additiveDataLastEdit=JSON.parse(JSON.stringify(D.additiveDataLastLastEdit)),Pr(D,u),D.additiveDataLastEdit=JSON.parse(JSON.stringify(D.additiveData))),l.update((t=>(t.baseline=0,t.baselineInit=!1,t.state="",t.type="",t.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",t)))},at=(t,e=!1)=>{console.log("sub item cancel clicked"),e||null!==k.subItemMode||console.error("No sub item is selected but check is clicked!");const n=new Set(["increasing","decreasing","interpolation","change","merge","delete"]);e||n.has(k.subItemMode)||console.error(`Encountered unknown subItemMode: ${k.subItemMode}`),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!1),D.pointDataBuffer=null,D.additiveDataBuffer=null,void 0!==D.additiveDataLastLastEdit&&(D.additiveDataLastEdit=JSON.parse(JSON.stringify(D.additiveDataLastLastEdit)),Pr(D,u),D.additiveDataLastEdit=JSON.parse(JSON.stringify(D.additiveData)));let A=()=>{};e||(A="interpolation"===k.subItemMode?()=>{T("current",D.pointData)}:()=>{_("recoverEBM")},R.curGroup="recover",R.hasUpdatedLastMetrics=!1,o.set(R)),Hr(D,u,!0,(()=>{sr.select(h).call(Nr,u,d),A()})),p.hideConfirmation(k.subItemMode),a(6,k.subItemMode=null,k),a(6,k.setValue=null,k),l.update((t=>(t.baseline=0,t.baselineInit=!1,t.state="",t.type="",t.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",t)))};return t.$$set=t=>{"featureData"in t&&a(20,n=t.featureData),"scoreRange"in t&&a(21,A=t.scoreRange),"svgHeight"in t&&a(1,i=t.svgHeight),"svgWidth"in t&&a(0,r=t.svgWidth),"ebm"in t&&a(22,s=t.ebm),"sidebarStore"in t&&a(23,o=t.sidebarStore),"footerStore"in t&&a(24,l=t.footerStore),"footerActionStore"in t&&a(25,c=t.footerActionStore),"historyStore"in t&&a(26,g=t.historyStore)},t.$$.update=()=>{810549248&t.$$.dirty[0]&&n&&s&&C&&!I&&n.name===s.editingFeatureName&&U(n)},[r,i,u,d,h,p,k,async()=>{at(null,!0),null===D.pointDataBuffer&&(D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData))),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").style("cursor","row-resize").call(sr.drag().on("start",(()=>{l.update((t=>(t.baselineInit||(t.baseline=0,t.baselineInit=!0),t)))})).on("drag",(t=>((t,e,a,n,A,i)=>{const r=e.curYScale.invert(t.y)-e.curYScale.invert(t.y-t.dy);e.selectedInfo.nodeData.forEach((t=>{const a=t.id,n=e.pointDataBuffer[a];e.pointDataBuffer[a].y+=r;const A=n.leftLineIndex;null!==A&&(e.additiveDataBuffer[A].y2+=r);const i=n.rightLineIndex;if(e.additiveDataBuffer[i].y1+=r,e.additiveDataBuffer[i].y2+=r,e.additiveDataBuffer[i].sy+=r,null!==n.rightPointID){const t=e.pointDataBuffer[n.rightPointID].leftLineIndex;e.additiveDataBuffer[t].y1+=r,e.additiveDataBuffer[t].sy+=r}})),e.selectedInfo.updateNodeData(e.pointDataBuffer),e.selectedInfo.computeBBox(e.pointDataBuffer),Or(e,a,!1),null!==Ur&&clearTimeout(Ur),Ur=setTimeout((()=>{i("current")}),n?300:0),A.update((t=>(t.baseline+=r,t.state=`Scores <b>${t.baseline>=0?"increased":"decreased"}</b> by <b>${Qr(Math.abs(t.baseline),2)}</b>`,t)))})(t,D,u,R.totalSampleNum>2e3,l,_)))).select("rect.original-bbox").classed("animated",!0),void 0!==D.additiveDataLastEdit&&Pr(D,u),R.hasUpdatedLastMetrics||(R.curGroup="last",R.hasUpdatedLastMetrics=!0,o.set(R)),l.update((t=>(t.help="<b>Drag</b> the <b>selected region</b> to change score",t)))},async()=>{if(R.previewHistory){if(!confirm("Current graph is not on the latest edit, committing this edit would overwrite all later edits on this feature. Is it OK?"))return void et()}if(D.pointData=JSON.parse(JSON.stringify(D.pointDataBuffer)),D.additiveData=JSON.parse(JSON.stringify(D.additiveDataBuffer)),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").style("cursor",null).on(".drag",null).select("rect.original-bbox").classed("animated",!1),sr.select(h).call(Nr,u,d),void 0!==D.additiveDataLastEdit&&(D.additiveDataLastLastEdit=JSON.parse(JSON.stringify(D.additiveDataLastEdit))),D.additiveDataLastEdit=JSON.parse(JSON.stringify(D.additiveData)),R.curGroup="commit",R.hasUpdatedLastMetrics=!1,o.set(R),"global"!==R.effectScope){let t=await H("global");J(t,"commit-not-global")}if(void 0===s.isDummy)for(;"commitCompleted"!==R.curGroup;)await new Promise((t=>setTimeout(t,500)));let t=0;l.update((e=>(t=e.baseline,e.baseline=0,e.baselineInit=!1,e.type="",e.state="",e.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",e)));const e=D.selectedInfo.nodeData.length,a=D.selectedInfo.nodeData[0],n=D.pointData[D.pointData[D.selectedInfo.nodeData[e-1].id].rightPointID],A=void 0===n?`${Qr(a.x,2)} <= x`:`${Qr(a.x,2)} <= x < ${Qr(n.x,2)}`,i=`${t>=0?"Increased":"Decreased"} scores of ${e} bins (${A}) by ${Qr(Math.abs(t),2)}.`;ms(D,"move",i,g,o),f=[]},et,async()=>{console.log("increasing clicked"),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0);let t=[],e=[],a=[];D.selectedInfo.nodeData.forEach((n=>{t.push(D.pointData[n.id].x),e.push(D.pointData[n.id].y),a.push(D.pointData[n.id].count)})),L.reset(),L.fit(t,e,a);let n=L.predict(t);D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData)),Pr(D,u),Jr(D,u,n,(()=>{_("current")})),p.showConfirmation("increasing",600),R.hasUpdatedLastMetrics||(R.curGroup="last",R.hasUpdatedLastMetrics=!0,o.set(R)),l.update((e=>(e.state=`Made ${t.length} bins <b>monotonically increasing</b>`,e.type="increasing",e)))},()=>{console.log("decreasing clicked"),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0);let t=[],e=[],a=[];D.selectedInfo.nodeData.forEach((n=>{t.push(D.pointData[n.id].x),e.push(D.pointData[n.id].y),a.push(D.pointData[n.id].count)})),S.reset(),S.fit(t,e,a);let n=S.predict(t);D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData)),Pr(D,u),Jr(D,u,n,(()=>{_("current")})),p.showConfirmation("decreasing",600),R.hasUpdatedLastMetrics||(R.curGroup="last",R.hasUpdatedLastMetrics=!0,o.set(R)),l.update((e=>(e.state=`Made ${t.length} bins <b>monotonically decreasing</b>`,e.type="decreasing",e)))},()=>{console.log("interpolation clicked"),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0),D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData)),D.selectedInfo.nodeDataBuffer=JSON.parse(JSON.stringify(D.selectedInfo.nodeData)),Pr(D,u);const t=()=>{T("current",D.pointDataBuffer)};1!=D.selectedInfo.nodeData.length&&(2==D.selectedInfo.nodeData.length?(a(6,k.interpolationMode="equal",k),Tr(D,u,k.step,t)):(a(6,k.interpolationMode="inplace",k),_r(D,u,t)),p.showConfirmation("interpolation",600),R.hasUpdatedLastMetrics||(R.curGroup="last",R.hasUpdatedLastMetrics=!0,o.set(R)),l.update((t=>(t.interpolateStyle="Interpolated",t.state=`<b>Interpolated</b> ${D.selectedInfo.nodeData.length} bins <b>in place</b>`,t.interpolateEqual="in place","equal"===k.interpolationMode?t.type="equal-interpolate":t.type="inplace-interpolate",t))))},async()=>{console.log("interpolation updated");let t=0;const e=()=>{T("current",D.pointDataBuffer)};"inplace"===k.interpolationMode?(D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData)),D.selectedInfo.nodeDataBuffer=JSON.parse(JSON.stringify(D.selectedInfo.nodeData)),t=D.selectedInfo.nodeDataBuffer.length,_r(D,u,e),Y.interpolateStyle="Interpolated",Y.interpolateEqual="in place"):"equal"===k.interpolationMode?(t=D.selectedInfo.nodeDataBuffer.length,Tr(D,u,k.step,e),Y.interpolateEqual=`with ${k.step} equal-size bins`):"regression"===k.interpolationMode?(D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData)),D.selectedInfo.nodeDataBuffer=JSON.parse(JSON.stringify(D.selectedInfo.nodeData)),t=D.selectedInfo.nodeDataBuffer.length,((t,e,a)=>{let n=[],A=[],i=[],r={x:1/0,y:null,id:null},s={x:-1/0,y:null,id:null};t.selectedInfo.nodeDataBuffer.forEach((e=>{let a=t.pointDataBuffer[e.id];e.x<r.x&&(r=a),e.x>s.x&&(s=a),n.push(a.x),A.push(a.y),i.push(a.count)}));let o=new jr;o.fit(n,A,i);let l=o.predict(n);t.selectedInfo.nodeDataBuffer.forEach(((e,a)=>{t.pointDataBuffer[e.id].y=l[a]})),Gr(t),t.selectedInfo.updateNodeData(t.pointDataBuffer),t.selectedInfo.computeBBox(t.pointDataBuffer),Or(t,e,!0,800,a)})(D,u,e),Y.interpolateStyle="Regression transformed",Y.interpolateEqual="in place"):console.error("Unknown regression mode ",k.interpolationMode),Y.state=`<b>${Y.interpolateStyle}</b> ${t}\n      bins <b>${Y.interpolateEqual}</b>`,"in place"!==Y.interpolateEqual?"Interpolated"===Y.interpolateStyle?Y.type="equal-interpolate":Y.type="equal-regression":"Interpolated"===Y.interpolateStyle?Y.type="inplace-interpolate":Y.type="inplace-regression",l.set(Y)},()=>{console.log("merge clicked"),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0),D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData));Pr(D,u),zr(D,u,"left",(()=>{_("current")})),p.showConfirmation("merge",600),R.hasUpdatedLastMetrics||(R.curGroup="last",R.hasUpdatedLastMetrics=!0,o.set(R)),l.update((t=>(t.type="align",t.state=`Set scores of ${D.selectedInfo.nodeData.length} bins to\n        <b>${Qr(D.selectedInfo.nodeData[0].y,4)}</b>`,t)))},()=>{sr.select(u).select("g.line-chart-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0),D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData));zr(D,u,k.setValue,(()=>{_("current")})),p.showConfirmation("change",600),R.hasUpdatedLastMetrics||(R.curGroup="last",R.hasUpdatedLastMetrics=!0,o.set(R));const t=Qr(k.setValue,4);l.update((e=>(e.type="align",e.state=`Set scores of ${D.selectedInfo.nodeData.length} bins to <b>${t}</b>`,e)))},()=>{D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData));let t=zr(D,u,k.mergeMode,(()=>{_("current")}));t=Qr(t,4),R.hasUpdatedLastMetrics||(R.curGroup="last",R.hasUpdatedLastMetrics=!0,o.set(R)),l.update((e=>(e.type="align",e.state=`Set scores of ${D.selectedInfo.nodeData.length} bins to <b>${t}</b>`,e)))},()=>{console.log("delete clicked"),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0),D.pointDataBuffer=JSON.parse(JSON.stringify(D.pointData)),D.additiveDataBuffer=JSON.parse(JSON.stringify(D.additiveData)),Pr(D,u);zr(D,u,0,(()=>{_("current")})),p.showConfirmation("delete",600),R.hasUpdatedLastMetrics||(R.curGroup="last",R.hasUpdatedLastMetrics=!0,o.set(R)),l.update((t=>(t.type="delete",t.state=`Set scores of ${D.selectedInfo.nodeData.length} bins to <b>0</b>`,t)))},()=>{if(R.previewHistory){if(!confirm("Current graph is not on the latest edit, committing this edit would overwrite all later edits on this feature. Is it OK?"))return void et()}null===k.subItemMode&&console.error("No sub item is selected but check is clicked!");new Set(["increasing","decreasing","interpolation","change","merge","delete"]).has(k.subItemMode)||console.error(`Encountered unknown subItemMode: ${k.subItemMode}`),sr.select(u).select("g.line-chart-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!1);const t=D.selectedInfo.nodeData.length;D.pointData=JSON.parse(JSON.stringify(D.pointDataBuffer)),D.additiveData=JSON.parse(JSON.stringify(D.additiveDataBuffer)),void 0!==D.additiveDataLastEdit&&(D.additiveDataLastLastEdit=JSON.parse(JSON.stringify(D.additiveDataLastEdit))),D.additiveDataLastEdit=JSON.parse(JSON.stringify(D.additiveData)),"interpolation"===k.subItemMode&&(D.selectedInfo.nodeData=JSON.parse(JSON.stringify(D.selectedInfo.nodeDataBuffer)),D.selectedInfo.nodeDataBuffer=null),p.hideConfirmation(k.subItemMode),sr.select(h).call(Nr,u,d),a(6,k.subItemMode=null,k),a(6,k.setValue=null,k),R.curGroup="commit",R.hasUpdatedLastMetrics=!1,o.set(R);let e="";l.update((t=>(e=t.type,t.baseline=0,t.baselineInit=!1,t.state="",t.type="",t.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",t)));const n=D.selectedInfo.nodeData[0],A=D.pointData[D.pointData[D.selectedInfo.nodeData[D.selectedInfo.nodeData.length-1].id].rightPointID],i=void 0===A?`${Qr(n.x,2)} <= x`:`${Qr(n.x,2)} <= x < ${Qr(A.x,2)}`;let r="";switch(e){case"increasing":r=`Made ${t} bins (${i}) monotonically increasing.`;break;case"decreasing":r=`Made ${t} bins (${i}) monotonically decreasing.`;break;case"inplace-interpolate":r=`Interpolated ${t} bins (${i}) in place.`;break;case"inplace-regression":r=`Regression transformed ${t} bins (${i}) in place.`;break;case"equal-interpolate":r=`Interpolated ${t} bins (${i}) into ${k.step} equal-size bins.`;break;case"equal-regression":r=`Regression transformed ${t} bins (${i}) into ${k.step} equal-size bins.`;break;case"align":r=`Set ${t} bins (${i}) to score ${Qr(D.selectedInfo.nodeData[0].y,4)}.`;break;case"delete":r=`Set ${t} bins (${i}) to score 0.`}ms(D,e,r,g,o),f=[]},at,n,A,s,o,l,c,g,()=>{M=!M,sr.select(u).select("g.line-chart-content-group").classed("select-mode",M).select("g.brush rect.overlay").attr("cursor",null),M?l.update((t=>(t.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",t))):l.update((t=>(t.help="<b>Drag</b> to pan view, <b>Scroll</b> to zoom",t)))},C,I,function(t){k=t,a(6,k)},function(t){Z[t?"unshift":"push"]((()=>{p=t,a(5,p)}))},function(t){Z[t?"unshift":"push"]((()=>{h=t,a(4,h)}))},function(t){Z[t?"unshift":"push"]((()=>{u=t,a(2,u)}))},function(t){Z[t?"unshift":"push"]((()=>{d=t,a(3,d)}))}]}class Ns extends xt{constructor(t){super(),vt(this,t,Gs,Ls,r,{featureData:20,scoreRange:21,svgHeight:1,svgWidth:0,ebm:22,sidebarStore:23,footerStore:24,footerActionStore:25,historyStore:26,selectModeSwitched:27},null,[-1,-1,-1])}get selectModeSwitched(){return this.$$.ctx[27]}}class Rs{constructor(){this.hasSelected=!1,this.nodeData=[],this.boundingBox=[],this.nodeDataBuffer=null}computeBBox(){if(this.nodeData.length>0){let t=-1,e=-1,a=1/0,n=-1/0;this.nodeData.forEach(((A,i)=>{A.id>n&&(n=A.id,e=i),A.id<a&&(a=A.id,t=i)})),this.boundingBox=[{x1:this.nodeData[t].x,y1:sr.max(this.nodeData.map((t=>t.y))),x2:this.nodeData[e].x,y2:sr.min(this.nodeData.map((t=>t.y)))}]}else this.boundingBox=[]}computeBBoxBuffer(){this.nodeDataBuffer.length>0?this.boundingBox=[{x1:sr.min(this.nodeDataBuffer.map((t=>t.x))),y1:sr.max(this.nodeDataBuffer.map((t=>t.y))),x2:sr.max(this.nodeDataBuffer.map((t=>t.x))),y2:sr.min(this.nodeDataBuffer.map((t=>t.y)))}]:this.boundingBox=[]}updateNodeData(t){for(let e=0;e<this.nodeData.length;e++)this.nodeData[e].x=t[this.nodeData[e].id].x,this.nodeData[e].y=t[this.nodeData[e].id].y}}const Fs=[3,16],Ys=[1,4],$s=t=>{let e=(t-Ys[0])/(Ys[1]-Ys[0]);return e=sr.easeLinear(e),(e*(Fs[1]-Fs[0])+Fs[0])/t},js=(t,e,a,n,A)=>(t.style("stroke","black").style("stroke-opacity",.08),t.call((t=>t.selectAll("line.grid-line-x").data(e.domain(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-x").attr("y2",A)),(t=>t),(t=>t.remove())).attr("x1",(t=>.5+e(t))).attr("x2",(t=>.5+e(t))))),t.call((t=>t.selectAll("line.grid-line-y").data(a.ticks(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-y").classed("grid-line-y-0-solid",(t=>0===t)).attr("x2",n)),(t=>t),(t=>t.remove())).attr("y1",(t=>a(t))).attr("y2",(t=>a(t))))));let Us=null;const Hs=(t,e,a,n,A=(()=>{}))=>{const i=sr.select(e);let r=sr.transition("buffer").duration(n).ease(sr.easeCubicInOut).on("end",(()=>{A()})),s=i.select("g.scatter-plot-dot-group").selectAll(".additive-dot"),o=i.select("g.scatter-plot-bar-group.real").selectAll(".additive-bar");a?(s.data(Object.values(t.pointDataBuffer),(t=>t.id)).transition(r).attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y))),o.data(Object.values(t.pointDataBuffer),(t=>t.id)).transition(r).attr("y",(e=>e.y>0?t.oriYScale(e.y):t.oriYScale(0))).attr("height",(e=>Math.abs(t.oriYScale(e.y)-t.oriYScale(0))))):(s.data(Object.values(t.pointDataBuffer),(t=>t.id)).attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y))),o.data(Object.values(t.pointDataBuffer),(t=>t.id)).attr("y",(e=>e.y>0?t.oriYScale(e.y):t.oriYScale(0))).attr("height",(e=>Math.abs(t.oriYScale(e.y)-t.oriYScale(0)))));let l=$s(t.curTransform.k)+t.bboxPadding*t.curTransform.k;a?i.select("g.scatter-plot-content-group g.select-bbox-group").selectAll("rect.select-bbox").datum(t.selectedInfo.boundingBox[0]).transition(r).attr("y",(e=>t.curYScale(e.y1)-l)).attr("height",(e=>t.curYScale(e.y2)-t.curYScale(e.y1)+2*l)):i.select("g.scatter-plot-content-group g.select-bbox-group").selectAll("rect.select-bbox").datum(t.selectedInfo.boundingBox[0]).attr("y",(e=>t.curYScale(e.y1)-l)).attr("height",(e=>t.curYScale(e.y2)-t.curYScale(e.y1)+2*l))},Js=(t,e,a)=>{if(void 0===t.pointDataLastEdit)return;const n=sr.select(e);let A=sr.transition("lastEdit").duration(400).ease(sr.easeCubicInOut),i=n.select("g.scatter-plot-bar-group.last-edit-back").selectAll(".additive-bar"),r=n.select("g.scatter-plot-bar-group.last-edit-front").selectAll(".additive-line");i.data(Object.values(t.pointDataLastEdit),(t=>t.id)).join((e=>e.append("rect").attr("class","additive-bar").attr("x",(e=>t.oriXScale(e.x)-a/2)).attr("y",t.oriYScale(0)).attr("width",a).attr("height",0).call((e=>e.transition(A).attr("y",(e=>e.y>0?t.oriYScale(e.y):t.oriYScale(0))).attr("height",(e=>Math.abs(t.oriYScale(e.y)-t.oriYScale(0))))))),(e=>e.call((e=>e.transition(A).attr("y",(e=>e.y>0?t.oriYScale(e.y):t.oriYScale(0))).attr("height",(e=>Math.abs(t.oriYScale(e.y)-t.oriYScale(0)))))))),r.data(Object.values(t.pointDataLastEdit),(t=>t.id)).join((e=>e.append("path").attr("class","additive-line").attr("d",(e=>`M ${t.oriXScale(e.x)-a/2}, ${t.oriYScale(e.y)} l ${a}, 0`))),(e=>e.call((e=>e.transition(A).attr("d",(e=>`M ${t.oriXScale(e.x)-a/2}, ${t.oriYScale(e.y)} l ${a}, 0`))))))},_s=(t,e,a=!0,n)=>{const A=sr.select(e);let i=sr.transition("restore").duration(500).ease(sr.easeElasticOut.period(.35)),r=sr.transition("restoreNo").duration(500).ease(sr.easeLinear);a||(i=r),void 0!==n&&i.on("end",n),t.selectedInfo.updateNodeData(t.pointData),t.selectedInfo.computeBBox(t.pointData);let s=A.select("g.scatter-plot-dot-group").selectAll(".additive-dot"),o=A.select("g.scatter-plot-bar-group.real").selectAll(".additive-bar");s.data(Object.values(t.pointData),(t=>t.id)).transition(i).attr("cx",(e=>t.oriXScale(e.x))).attr("cy",(e=>t.oriYScale(e.y))),o.data(Object.values(t.pointData),(t=>t.id)).transition(i).attr("y",(e=>e.y>0?t.oriYScale(e.y):t.oriYScale(0))).attr("height",(e=>Math.abs(t.oriYScale(e.y)-t.oriYScale(0))));let l=$s(t.curTransform.k)+t.bboxPadding*t.curTransform.k;A.select("g.scatter-plot-content-group g.select-bbox-group").selectAll("rect.select-bbox").datum(t.selectedInfo.boundingBox[0]).transition(i).attr("y",(e=>t.curYScale(e.y1)-l)).attr("height",(e=>t.curYScale(e.y2)-t.curYScale(e.y1)+2*l))},Ts=(t,e,a,n)=>{let A={x:1/0,y:null,id:null},i={x:-1/0,y:null,id:null},r=0,s=0,o=new Set;t.selectedInfo.nodeData.forEach(((e,a)=>{0===a&&(A=t.pointDataBuffer[e.id]),a===t.selectedInfo.nodeData.length-1&&(i=t.pointDataBuffer[e.id]),o.add(e.x),r+=t.pointDataBuffer[e.id].y*t.pointDataBuffer[e.id].count,s+=t.pointDataBuffer[e.id].count}));const l=r/s;let c=0;return c="left"===a?A.y:"right"===a?i.y:"average"===a?l:a,Object.keys(t.pointDataBuffer).forEach((e=>{let a=t.pointDataBuffer[e];o.has(a.x)&&(t.pointDataBuffer[e].y=c)})),t.selectedInfo.updateNodeData(t.pointDataBuffer),t.selectedInfo.computeBBox(t.pointDataBuffer),Hs(t,e,!0,500,n),c},zs=async(t,e,a="global")=>{let n;switch(a){case"global":n=e.getMetrics();break;case"selected":{let a=t.selectedInfo.nodeData.map((t=>t.id));n=e.getMetricsOnSelectedBins(a);break}case"slice":n=e.getMetricsOnSelectedSlice()}return n},Os=(t,e,a,n,A)=>{a.isClassification?(A.accuracy=t.accuracy,A.rocAuc=t.rocAuc,A.balancedAccuracy=t.balancedAccuracy,A.confusionMatrix=t.confusionMatrix):(A.rmse=t.rmse,A.mae=t.mae,A.mape=t.mape),A.curGroup=e,n.set(A)},Ps=async(t,e,a,n,A,i,r,s=!0)=>{let o=[],l=[];for(let t=1;t<Object.keys(n).length+1;t++)o.push(n[t].id),l.push(n[t].y);if(await e.setModel(o,l,r),s)switch(i.effectScope){case"global":{let n=await zs(t,e,"global");Os(n,a,e,A,i);break}case"selected":{let n=await zs(t,e,"selected");Os(n,a,e,A,i);break}case"slice":{let n=await zs(t,e,"slice");Os(n,a,e,A,i);break}}};let Ks=null;const Xs=()=>{Ks=null},Zs=(t,e,a,n,A,i,r,s,o,l,c,g,u,d,h)=>{let p=t.selection,f=sr.select(a);if(null===p){if(null===Ks){(t=>{sr.select(t).select("g.line-chart-line-group").selectAll("path.additive-line-segment.flow-line").interrupt().attr("stroke-dasharray","0 0").classed("flow-line",!1)})(),e.selectedInfo=new Rs,f.select("g.line-chart-content-group g.brush rect.overlay").attr("cursor",null),sr.select(n).classed("hidden",!0);let t=r();return(t.moveMode||null!==t.subItemMode)&&(_s(e,a,!0,(()=>{Ps(e,o,"recoverEBM",e.pointData,l,c,void 0,!1)})),void 0!==e.pointDataLastLastEdit&&(e.pointDataLastEdit=JSON.parse(JSON.stringify(e.pointDataLastLastEdit)),Js(e,a,s),e.pointDataLastEdit=JSON.parse(JSON.stringify(e.pointData)))),l.update((e=>(t.moveMode||null!==t.subItemMode?e.curGroup="recover":e.curGroup="no action",e.hasUpdatedLastMetrics=!1,e))),f.selectAll("g.scatter-plot-content-group g.select-bbox-group").remove(),u(),d(),Ks=setTimeout(Xs,300)}}else{let t=[p[0][0],p[1][0]],r=[e.curYScale.invert(p[1][1]),e.curYScale.invert(p[0][1])],s=[];f.select("g.scatter-plot-dot-group").selectAll("circle.additive-dot").classed("selected",(a=>e.curXScale(a.x)>=t[0]&&e.curXScale(a.x)<=t[1]&&a.y>=r[0]&&a.y<=r[1]&&(e.selectedInfo.nodeData.push({x:a.x,y:a.y,id:a.id}),s.push(a.id-1),!0))),e.selectedInfo.computeBBox();let o=(Fs[0]+e.bboxPadding)*e.curTransform.k;f.select("g.scatter-plot-content-group").append("g").attr("class","select-bbox-group").selectAll("rect.select-bbox").data(e.selectedInfo.boundingBox).join("rect").attr("class","select-bbox original-bbox").attr("x",(t=>e.curXScale(t.x1)-o)).attr("y",(t=>e.curYScale(t.y1)-o)).attr("width",(t=>e.curXScale(t.x2)-e.curXScale(t.x1)+2*o)).attr("height",(t=>e.curYScale(t.y2)-e.curYScale(t.y1)+2*o)).style("stroke-width",1).style("stroke","hsl(230, 100%, 10%)").style("stroke-dasharray","5 3").clone(!0).classed("original-bbox",!1).style("stroke","white").style("stroke-dasharray",null).style("stroke-width",3).lower(),e.selectedInfo.hasSelected=f.selectAll("g.scatter-plot-dot-group circle.additive-dot.selected").size()>0,e.selectedInfo.hasSelected&&(sr.select(n).call(Nr,a,i).classed("hidden",!1),g(s)),d(),h(),f.select("g.scatter-plot-content-group g.brush").call(A.move,null).select("rect.overlay").attr("cursor",null)}},qs=(t,e,a,n,A)=>{let i=sr.select(t);e.selectedInfo=new Rs,i.select("g.scatter-plot-dot-group").selectAll("circle").classed("selected",!1),i.select("g.scatter-plot-bar-group.real").selectAll("rect").classed("selected",!1),i.select("g.scatter-plot-content-group g.brush rect.overlay").attr("cursor",null),sr.select(a).classed("hidden",!0),n(),i.selectAll("g.scatter-plot-content-group g.select-bbox-group").remove(),A()},Ws=(t,e,a,n,A)=>{let i,r=0;A.update((t=>(i=t,t))),n.update((n=>{const A=Date.now();return n.push({state:{pointData:t.pointData},metrics:{barData:JSON.parse(JSON.stringify(i.barData)),confusionMatrixData:JSON.parse(JSON.stringify(i.confusionMatrixData))},featureName:t.featureName,type:e,description:a,time:A,hash:Es(`${e}${a}${A}`),reviewed:"original"===e}),r=n.length,n})),A.update((t=>(t.historyHead=r-1,t.previewHistory=!1,t)))};function Vs(t){let e,a,n,A,i,r,s,o;function l(e){t[27](e)}let c={type:"cat"};return void 0!==t[4]&&(c.controlInfo=t[4]),n=new ks({props:c}),Z.push((()=>Et(n,"controlInfo",l))),t[28](n),n.$on("inputChanged",t[7]),n.$on("moveButtonClicked",t[5]),n.$on("mergeClicked",t[6]),n.$on("mergeUpdated",t[8]),n.$on("deleteClicked",t[9]),n.$on("moveCheckClicked",t[10]),n.$on("moveCancelClicked",t[11]),n.$on("subItemCheckClicked",t[12]),n.$on("subItemCancelClicked",t[13]),{c(){e=Q("div"),a=Q("div"),mt(n.$$.fragment),i=v(),r=Q("div"),s=y("svg"),D(a,"class","context-menu-container hidden svelte-83nu1"),D(s,"class","svg-explainer"),D(r,"class","svg-container"),D(e,"class","explain-panel svelte-83nu1")},m(A,l){E(A,e,l),C(e,a),Qt(n,a,null),t[29](a),C(e,i),C(e,r),C(r,s),t[30](s),t[31](e),o=!0},p(t,e){const a={};!A&&16&e[0]&&(A=!0,a.controlInfo=t[4],at((()=>A=!1))),n.$set(a)},i(t){o||(ht(n.$$.fragment,t),o=!0)},o(t){pt(n.$$.fragment,t),o=!1},d(a){a&&m(e),t[28](null),yt(n),t[29](null),t[30](null),t[31](null)}}}const to=90;let eo=600;function ao(t,e,a){let{featureData:n=null}=e,{labelEncoder:A=null}=e,{scoreRange:i=null}=e,{svgHeight:r=500}=e,{svgWidth:s=null}=e,{ebm:o=null}=e,{sidebarStore:l=null}=e,{footerStore:c=null}=e,{footerActionStore:g=null}=e,{historyStore:u=null}=e,d=null,h=null,p=null,f=null,C=null,I=!1,B=!1;const E=vr;let m=400;null!==s&null!==r&&(m=eo/s*r);let Q={moveMode:!1,toSwitchMoveMode:!1,subItemMode:null,setValue:null},y=[],w=null,v=u.subscribe((t=>{w=t})),x=null,b=l.subscribe((async t=>{switch(x=t,t.curGroup){case"globalClicked":console.log("globalClicked"),x.curGroup="overwrite",l.set(x);break;case"selectedClicked":if(console.log("selectedClicked"),c.update((t=>(t.sample.includes(",")&&(t.sample=t.sample.slice(0,-1)),t.slice="",t))),G.selectedInfo.hasSelected){for(x.curGroup="nullify",l.set(x);"nullifyCompleted"!==x.curGroup;)await new Promise((t=>setTimeout(t,300)));x.historyHead-1>=0&&"original"!==w[x.historyHead-1].type&&w[x.historyHead-1].featureName===G.featureName&&await Ps(G,o,"last-only",w[x.historyHead-1].state.pointData,l,x);let t=null===G.pointDataBuffer?w[x.historyHead].state.pointData:G.pointDataBuffer;await Ps(G,o,"current-only",t,l,x)}else x.curGroup="nullify",l.set(x);break;case"sliceClicked":{console.log("sliceClicked");let t=o.setSliceData(x.sliceInfo.featureID,x.sliceInfo.level);for(c.update((e=>(e.sample.includes(",")||(e.sample+=","),e.slice=`<b>${t}</b> sliced`,e))),x.curGroup="nullify",l.set(x);"nullifyCompleted"!==x.curGroup;)await new Promise((t=>setTimeout(t,300)));x.historyHead-1>=0&&"original"!==w[x.historyHead-1].type&&w[x.historyHead-1].featureName===G.featureName&&await Ps(G,o,"last-only",w[x.historyHead-1].state.pointData,l,x);let e=null===G.pointDataBuffer?w[x.historyHead].state.pointData:G.pointDataBuffer;await Ps(G,o,"current-only",e,l,x);break}case"headChanged":w[t.historyHead].featureName===G.featureName&&(async(t,e,a,n,A,i,r,s,o)=>{let l,c;i.update((t=>(l=t,t))),s.update((t=>(c=t,t)));let g=l[c.historyHead],u=c.historyHead;qs(e,t,a,n,A),t.pointData=g.state.pointData,t.pointDataBuffer=null;let d=null;for(let e=u-1;e>=0;e--)if(l[e].featureName===t.featureName){d=l[e];break}null!==d?(t.pointDataLastEdit=d.state.pointData,Js(t,e,o)):t.pointDataLastEdit=void 0,t.pointDataLastLastEdit=null!==d?d.state.pointData:void 0,null===d&"original"===g.type&&(t.pointDataLastEdit=g.state.pointData,t.pointDataLastLastEdit=g.state.pointData,Js(t,e,o)),t.pointDataLastEdit=JSON.parse(JSON.stringify(t.pointData)),await Ps(t,r,"current",t.pointData,s,c),r.setEditingFeature(g.featureName),s.update((t=>(t.curGroup="nullify-last",t))),_s(t,e)})(G,d,f,F,U,u,o,l,S);break}})),D=c.subscribe((t=>{})),M=g.subscribe((t=>{switch(t){case"undo":console.log("undo clicked"),w.length>1&&(async(t,e,a,n,A,i,r,s,o,l)=>{let c,g,u,d,h;if(i.update((t=>(c=t,t))),"original"===c[c.length-1].type||t.featureName!==c[c.length-1].featureName)return;qs(e,t,a,n,A);for(let e=c.length-2;e>=0;e--)if(c[e].featureName===t.featureName){u=c[e],d=e;break}o.update((t=>(t.historyHead=d,t.historyHead!==c.length-2&&(t.previewHistory=!0),h=t,t))),i.update((t=>(g=t.pop(),t))),r.push(g),t.pointData=u.state.pointData,t.pointDataBuffer=null;let p=null;for(let e=d-1;e>=0;e--)if(c[e].featureName===t.featureName){p=c[e];break}switch(null!==p?(t.pointDataLastEdit=p.state.pointData,Js(t,e,l)):t.pointDataLastEdit=void 0,t.pointDataLastLastEdit=null!==p?p.state.pointData:void 0,t.lastDataLastEdit=JSON.parse(JSON.stringify(t.pointData)),await Ps(t,s,"current",t.pointData,o,h),o.update((t=>(t.curGroup="no action",t.barData=JSON.parse(JSON.stringify(u.metrics.barData)),t.confusionMatrixData=JSON.parse(JSON.stringify(u.metrics.confusionMatrixData)),h=t,t))),h.effectScope){case"global":o.update((t=>(t.curGroup="overwrite",t)));break;case"selected":o.update((t=>(t.curGroup="nullify",t)));break;case"slice":for(h.curGroup="nullify",o.set(h);"nullifyCompleted"!==h.curGroup;)await new Promise((t=>setTimeout(t,300)));null!==p&&await Ps("last-only",p.state.pointData)}_s(t,e)})(G,d,f,F,U,u,y,o,l,S);break;case"redo":console.log("redo clicked"),y.length>0&&(async(t,e,a,n,A,i,r,s,o)=>{let l,c;qs(e,t,a,n,A),i.update((t=>(l=t,t))),o.update((t=>(t.historyHead=l.length,c=t,t)));let g=r.pop();switch(i.update((t=>(t.push(g),l=t,t))),t.pointData=g.state.pointData,t.pointDataBuffer=null,l.length>1?(t.pointDataLastEdit=l[l.length-2].state.additiveData,Js(t,e)):t.pointDataLastEdit=void 0,l.length>1?t.pointDataLastLastEdit=l[l.length-2].state.additiveData:t.pointDataLastLastEdit=void 0,t.pointDataLastEdit=JSON.parse(JSON.stringify(t.pointData)),await Ps(t,s,"current",t.pointData,o,c),o.update((t=>(t.curGroup="no action",t.barData=JSON.parse(JSON.stringify(g.metrics.barData)),t.confusionMatrixData=JSON.parse(JSON.stringify(g.metrics.confusionMatrixData)),c=t,t))),c.effectScope){case"global":o.update((t=>(t.curGroup="overwrite",t)));break;case"selected":o.update((t=>(t.curGroup="nullify",t)))}_s(t,e)})(G,d,f,F,U,u,y,o,l);break;case"save":console.log("save clicked");break;case"selectAll":console.log("selectAll clicked"),N&&(qs(d,G,f,F,U),((t,e,a,n,A,i,r,s,o,l)=>{let c=sr.select(t),g=[-1/0,1/0],u=[-1/0,1/0],d=[];c.select("g.scatter-plot-dot-group").selectAll("circle.additive-dot").classed("selected",(t=>e.curXScale(t.x)>=g[0]&&e.curXScale(t.x)<=g[1]&&t.y>=u[0]&&t.y<=u[1]&&(e.selectedInfo.nodeData.push({x:t.x,y:t.y,id:t.id}),d.push(t.id-1),!0))),c.select("g.scatter-plot-bar-group.real").selectAll("rect.additive-bar").classed("selected",(t=>e.curXScale(t.x)>=g[0]&&e.curXScale(t.x)<=g[1]&&t.y>=u[0]&&t.y<=u[1])),o.update((t=>{let e=l.getSelectedSampleNum(d);return t.sample=`<b>${e}/${t.totalSampleNum}</b> validation samples selected`,t})),e.selectedInfo.computeBBox();let h=(Fs[0]+e.bboxPadding)*e.curTransform.k;c.select("g.scatter-plot-content-group").append("g").attr("class","select-bbox-group").selectAll("rect.select-bbox").data(e.selectedInfo.boundingBox).join("rect").attr("class","select-bbox original-bbox").attr("x",(t=>e.curXScale(t.x1)-h)).attr("y",(t=>e.curYScale(t.y1)-h)).attr("width",(t=>e.curXScale(t.x2)-e.curXScale(t.x1)+2*h)).attr("height",(t=>e.curYScale(t.y2)-e.curYScale(t.y1)+2*h)).style("stroke-width",1).style("stroke","hsl(230, 100%, 10%)").style("stroke-dasharray","5 3").clone(!0).classed("original-bbox",!1).style("stroke","white").style("stroke-dasharray",null).style("stroke-width",3).lower(),e.selectedInfo.hasSelected=c.selectAll("g.scatter-plot-dot-group circle.additive-dot.selected").size()>0,e.selectedInfo.hasSelected&&(sr.select(a).call(Nr,t,n).classed("hidden",!1),A(d)),r(),s(),c.select("g.scatter-plot-content-group g.brush").call(i.move,null).select("rect.overlay").attr("cursor",null)})(d,G,f,h,$,p,H,j,c,o))}g.set("")}));const k=Mr,L=xr;let S=null,G={curXScale:null,curYScale:null,curTransform:null,selectedInfo:null,pointData:null,pointDataBuffer:null,oriXScale:null,oriYScale:null,bboxPadding:5},N=!1;G.selectedInfo=new Rs;z((()=>{a(25,I=!0)})),P((()=>{b(),M(),D(),v()}));const R=async t=>{console.log(t),a(26,B=!0),G.featureName=t.name;let e=sr.select(d);a(14,s=r*(eo/m)),e.attr("viewBox",`0 0 600 ${m}`).attr("preserveAspectRatio","xMinYMin meet").attr("width",s).attr("height",r).on("wheel",(t=>{t.preventDefault(),t.stopPropagation()}));const n=m-E.top-E.bottom-to;let g=sr.scaleLinear().domain(i).range([n,0]);const C=18+Math.max(40,Lr(d,g,L,!0))/s*eo,I=eo-E.left-E.right-C;((t,e,a)=>{let n=t.append("g").attr("class","legend-group").attr("transform",`translate(${e-a.right-225}, 6)`);const A=[{name:"original",class:"original",title:"Original bins",x:0,rectColor:"#D1D1D1"},{name:"last",class:"last",title:"Bins from last edit",x:65,rectColor:"#FFDFB3"},{name:"current",class:"current",title:"Current bins",x:110,rectColor:Mr.bar},{name:"editing",class:"editing",title:"Currently editing bins",x:175,rectColor:"#FFAA33"}];let i=n.selectAll("g.legend-item").data(A).join("g").style("cursor","default").attr("transform",(t=>`translate(${t.x}, 0)`));i.append("title").text((t=>t.title)),i.append("rect").attr("y",1).attr("width",12).attr("height",12).attr("rx",1).attr("class",(t=>t.class)).style("fill",(t=>t.rectColor)),i.append("text").attr("class","line-legend-title").attr("y",2).attr("x",16).text((t=>t.name))})(e,eo,E);let y=e.append("g").attr("class","content").attr("transform",`translate(${E.left}, ${E.top})`),v=t.binLabel.map((t=>A[t])),b=sr.scalePoint().domain(v).padding(.7).range([0,I]);G.oriXScale=b,G.oriYScale=g,G.curXScale=b,G.curYScale=g,a(4,Q.changeUnit=Qr((i[1]-i[0])/g.ticks().length,4),Q);let D={};for(let e=0;e<t.binLabel.length;e++)D[t.binLabel[e]]={x:A[t.binLabel[e]],y:t.additive[e],id:t.binLabel[e],error:t.error[e],count:t.count[e]};G.pointData=D;let M=y.append("g").attr("class","hist-chart-group");M.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-hist-chart-clip`).append("rect").attr("x",C).attr("y",n).attr("width",I).attr("height",to),M.attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-hist-chart-clip)`);let R=y.append("g").attr("class","scatter-plot-group");R.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-chart-clip`).append("rect").attr("width",I).attr("height",n-1),R.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-x-axis-clip`).append("rect").attr("x",C).attr("y",n).attr("width",I).attr("height",to);let Y=R.append("g").attr("class","axis-group"),J=R.append("g").attr("class","scatter-plot-content-group").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-chart-clip)`).attr("transform",`translate(${C}, 0)`);J.append("rect").attr("width",I).attr("height",n).style("opacity",0);let _=J.append("g").attr("class","scatter-plot-grid-group"),T=J.append("g").attr("class","scatter-plot-confidence-group"),z=J.append("g").attr("class","scatter-plot-bar-group real"),O=J.append("g").attr("class","scatter-plot-dot-group");S=Math.min(30,b(D[2].x)-b(D[1].x)),z.style("fill",k.bar).selectAll("rect").data(Object.values(D),(t=>t.id)).join("rect").attr("class","additive-bar").attr("x",(t=>b(t.x)-S/2)).attr("y",(t=>t.y>0?g(t.y):g(0))).attr("width",S).attr("height",(t=>Math.abs(g(t.y)-g(0)))),O.selectAll("circle").data(Object.values(D),(t=>t.id)).join("circle").attr("class","additive-dot").attr("cx",(t=>b(t.x))).attr("cy",(t=>g(t.y))).attr("r",Fs[0]).style("stroke-width",1),T.style("stroke",k.dotConfidence).style("stroke-width",2).selectAll("path").data(Object.values(D)).join("path").attr("class","dot-confidence").attr("d",(t=>((t,e,a,n)=>{let A=a(t.x),i=n(t.y+t.error),r=a(t.x),s=n(t.y-t.error),o=`M ${A-e}, ${i} L ${A+e}, ${i} `;return o=o.concat(`M ${A}, ${i} L ${r}, ${s} `),o=o.concat(`M ${r-e}, ${s} L ${r+e}, ${s} `),o})(t,5,b,g))),T.lower(),z.clone(!0).classed("last-edit-back",!0).classed("real",!1).lower().selectAll("rect").remove(),z.clone(!0).classed("last-edit-front",!0).classed("real",!1).raise().selectAll("rect").remove(),z.clone(!0).classed("original",!0).classed("real",!1).style("fill","hsl(0, 0%, 85%)").style("opacity",1).lower();let P=z.clone(!0).classed("original-front",!0).classed("real",!1).raise();P.selectAll("rect").remove(),P.selectAll("path.original-line").data(Object.values(D),(t=>t.id)).join("path").attr("class","original-line").style("stroke","hsl(0, 0%, 75%)").attr("d",(t=>`M ${G.oriXScale(t.x)-S/2}, ${G.oriYScale(t.y)} l ${S}, 0`)),T.raise(),O.raise(),_.lower();let K=Y.append("g").attr("class","x-axis-wrapper").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-x-axis-clip)`).append("g").attr("class","x-axis").attr("transform",`translate(${C}, ${n})`).call(sr.axisBottom(b));K.attr("font-family",L).select("path").style("stroke-width",1.5),t.binLabel.length>6&&K.selectAll("g.tick text").attr("y",0).attr("x",-9).attr("dy","-0.6em").attr("transform","rotate(-90)").style("text-anchor","end");const X=K.node().getBoundingClientRect().height/r*m;K.append("g").attr("transform",`translate(${I/2}, ${Math.min(75,X+5)})`).append("text").attr("class","x-axis-text").text(t.name).style("fill","black");let Z=Y.append("g").attr("class","y-axis").attr("transform",`translate(${C}, 0)`);Z.call(sr.axisLeft(g).tickFormat((t=>Math.abs(t)>=1e3?t/1e3+"K":t))),Z.attr("font-family",L),Z.append("g").attr("class","y-axis-text").attr("transform",`translate(${15-C}, ${n/2}) rotate(-90)`).append("text").text("Score").style("fill","black");let q=[],W=sr.sum(t.histCount),V=t.histCount.map((t=>t/W));for(let e=0;e<V.length;e++)q.push({x1:A[t.histEdge[e]],x2:A[t.histEdge[e+1]],height:V[e]});let tt=sr.scaleLinear().domain(sr.extent(V)).range([0,to]),et=Math.min(30,b(q[0].x2)-b(q[0].x1));M.append("g").attr("class","hist-chart-content-group").attr("transform",`translate(${C}, ${n})`).selectAll("rect").data(q).join("rect").attr("class","hist-rect").attr("x",(t=>b(t.x1)-et/2)).attr("y",0).attr("width",et).attr("height",(t=>tt(t.height))).style("fill",k.hist);let at=R.append("g").attr("class","y-axis").attr("transform",`translate(${C}, ${n})`);at.call(sr.axisLeft(tt).ticks(2)),at.attr("font-family",L),at.selectAll("text").style("fill",k.histAxis).filter(((t,e,a)=>"0.0"===sr.select(a[e]).text())).text("0"),at.selectAll("path,line").style("stroke",k.histAxis),at.append("g").attr("transform",`translate(${15-C}, 45) rotate(-90)`).append("text").attr("class","y-axis-text").text("Density").style("fill",k.histAxis),p=sr.brush().on("end",(t=>Zs(t,G,d,f,p,h,F,S,o,l,x,$,U,H,j))).on("start brush",(t=>((t,e,a,n,A,i)=>{let r=t.selection,s=sr.select(a);if(null===r){if(null===Ks)return Ks=setTimeout(Xs,300)}else{let t=[r[0][0],r[1][0]],a=[e.curYScale.invert(r[1][1]),e.curYScale.invert(r[0][1])];e.selectedInfo=new Rs,s.selectAll("g.scatter-plot-content-group g.select-bbox-group").remove(),sr.select(n).classed("hidden",!0);let o=[];s.select("g.scatter-plot-dot-group").selectAll("circle.additive-dot").classed("selected",(n=>{if(e.curXScale(n.x)>=t[0]&&e.curXScale(n.x)<=t[1]&&n.y>=a[0]&&n.y<=a[1])return o.push(n.id-1),!0})),s.select("g.scatter-plot-bar-group.real").selectAll("rect.additive-bar").classed("selected",(n=>e.curXScale(n.x)>=t[0]&&e.curXScale(n.x)<=t[1]&&n.y>=a[0]&&n.y<=a[1])),i.update((t=>{let e=A.getSelectedSampleNum(o);return t.sample=`<b>${e}/${t.totalSampleNum}</b> validation samples selected`,t}))}})(t,G,d,f,o,c))).extent([[0,0],[I,n]]).filter((t=>N?0===t.button:2===t.button)),J.append("g").attr("class","brush").call(p).select("rect.overlay").attr("cursor",null);let nt=sr.zoom().scaleExtent(Ys).translateExtent([[0,-1/0],[eo,1/0]]).on("zoom",(t=>((t,e,a,n,A,i,r,s,o,l,c,g)=>{let u=sr.select(A),d=t.transform,h=sr.scalePoint().domain(a.domain()).padding(.7).range([d.applyX(0),d.applyX(o)]),p=d.rescaleY(n);if(e.curXScale=h,e.curYScale=p,e.curTransform=d,u.select("g.x-axis").call(sr.axisBottom(h)),u.select("g.y-axis").call(sr.axisLeft(p).tickFormat((t=>Math.abs(t)>=1e3?t/1e3+"K":t))),u.selectAll("g.scatter-plot-bar-group").attr("transform",d),u.selectAll("g.scatter-plot-dot-group").attr("transform",d),u.selectAll("g.scatter-plot-confidence-group").attr("transform",d).style("stroke-width",2/d.k),u.select("g.line-chart-confidence-group").attr("transform",d),u.select("g.hist-chart-content-group").attr("transform",`translate(${s+d.x},\n        ${l})scale(${d.k}, 1)`),e.selectedInfo.hasSelected){let t=(Fs[0]+e.bboxPadding)*e.curTransform.k;u.select("g.scatter-plot-content-group").selectAll("rect.select-bbox").attr("x",(a=>e.curXScale(a.x1)-t)).attr("y",(a=>e.curYScale(a.y1)-t)).attr("width",(a=>e.curXScale(a.x2)-e.curXScale(a.x1)+2*t)).attr("height",(a=>e.curYScale(a.y2)-e.curYScale(a.y1)+2*t)),sr.select(c).call(Nr,A,g)}u.select("g.scatter-plot-grid-group").call(js,h,p,o,l)})(t,G,b,g,d,0,0,C,I,n,f,h))).on("start",(()=>((t,e)=>{t.selectedInfo.hasSelected&&sr.select(e).classed("hidden",!0)})(G,f))).on("end",(()=>((t,e)=>{t.selectedInfo.hasSelected&&sr.select(e).classed("hidden",!1)})(G,f))).filter((t=>N?"wheel"===t.type||2===t.button:0===t.button||"wheel"===t.type));J.call(nt).call(nt.transform,sr.zoomIdentity),J.on("dblclick.zoom",null),J.on("dblclick",(()=>{J.transition("reset").duration(750).ease(sr.easeCubicInOut).call(nt.transform,sr.zoomIdentity)})),c.update((t=>(t.help="<b>Drag</b> to pan view, <b>Scroll</b> to zoom",t)));let At=await(async(t,e,a,n,A,i)=>{let r,s=null,o=-1,l=null;a.update((t=>(r=t,t)));for(let e=r.length-1;e>=0;e--)if(r[e].featureName===t.featureName){s=r[e],o=e;break}if(null===s)return!1;for(let e=o-1;e>=0;e--)if(r[e].featureName===t.featureName){l=r[e];break}t.pointData=s.state.pointData,t.pointDataBuffer=null,null!==l?(t.pointDataLastEdit=l.state.pointData,Js(t,e,i)):t.pointDataLastEdit=void 0,t.pointDataLastLastEdit=null!==l?l.state.pointData:void 0,t.pointDataLastEdit=JSON.parse(JSON.stringify(t.pointData));let c=null;return A.update((t=>(c=t,t))),await Ps(t,n,"current",t.pointData,A,c),_s(t,e),s.hash})(G,d,u,o,l,S);Ws(G,"original",At?`Reloaded commit ${At.substring(0,7)}`:"Original graph",u,l),x.historyHead=w.length-1,x.previewHistory=!1,l.set(x)},F=()=>{let t=Q.moveMode,e=Q.subItemMode;return Q.moveMode&&(a(4,Q.moveMode=!1,Q),a(4,Q.toSwitchMoveMode=!0,Q),G.pointDataBuffer=null,G.additiveDataBuffer=null),null!==Q.subItemMode&&(C.hideConfirmation(Q.subItemMode),a(4,Q.subItemMode=null,Q),G.pointDataBuffer=null,G.additiveDataBuffer=null),a(4,Q.setValue=null,Q),C.hideToolTipDuringSubMenu(),c.update((t=>(t.baseline=0,t.baselineInit=!1,t.state="",t.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",t))),{moveMode:t,subItemMode:e}},Y=()=>{G.pointDataBuffer=null,G.additiveDataBuffer=null,_s(G,d,!0,(()=>{sr.select(f).call(Nr,d,h),Ps(G,o,"recoverEBM",G.pointData,l,x,void 0,!1)})),x.curGroup="recover",x.hasUpdatedLastMetrics=!1,l.set(x),sr.select(d).select("g.scatter-plot-content-group g.select-bbox-group").style("cursor",null).on(".drag",null).select("rect.original-bbox").classed("animated",!1),void 0!==G.pointDataLastLastEdit&&(G.pointDataLastEdit=JSON.parse(JSON.stringify(G.pointDataLastLastEdit)),Js(G,d,S),G.pointDataLastEdit=JSON.parse(JSON.stringify(G.pointData))),c.update((t=>(t.baseline=0,t.baselineInit=!1,t.state="",t.type="",t.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",t)))},$=async t=>{if(void 0!==o.isDummy)return;let e=o.getSelectedSampleDist(t);for(let t=0;t<x.featurePlotData.cont.length;t++){let a=x.featurePlotData.cont[t].id;x.featurePlotData.cont[t].histSelectedCount=e[a]}for(let t=0;t<x.featurePlotData.cat.length;t++){let a=x.featurePlotData.cat[t].id;x.featurePlotData.cat[t].histSelectedCount=e[a]}x.curGroup="updateFeature",l.set(x)},j=async()=>{if("selected"===x.effectScope&&G.selectedInfo.hasSelected){for(x.curGroup="nullify",l.set(x);"nullifyCompleted"!==x.curGroup;)await new Promise((t=>setTimeout(t,300)));x.historyHead-1>=0&&"original"!==w[x.historyHead-1].type&&w[x.historyHead-1].featureName===G.featureName&&await Ps(G,o,"last-only",w[x.historyHead-1].state.pointData,l,x),await Ps(G,o,"current-only",w[x.historyHead].state.pointData,l,x)}},U=async()=>{if(void 0===o.isDummy){for(let t=0;t<x.featurePlotData.cont.length;t++)x.featurePlotData.cont[t].histSelectedCount=new Array(x.featurePlotData.cont[t].histSelectedCount.length).fill(0);for(let t=0;t<x.featurePlotData.cat.length;t++)x.featurePlotData.cat[t].histSelectedCount=new Array(x.featurePlotData.cat[t].histSelectedCount.length).fill(0);x.curGroup="updateFeature",l.set(x)}},H=()=>{G.selectedInfo.hasSelected||"selected"!==x.effectScope||(x.curGroup="nullify",l.set(x))};return t.$$set=t=>{"featureData"in t&&a(15,n=t.featureData),"labelEncoder"in t&&a(16,A=t.labelEncoder),"scoreRange"in t&&a(17,i=t.scoreRange),"svgHeight"in t&&a(18,r=t.svgHeight),"svgWidth"in t&&a(14,s=t.svgWidth),"ebm"in t&&a(19,o=t.ebm),"sidebarStore"in t&&a(20,l=t.sidebarStore),"footerStore"in t&&a(21,c=t.footerStore),"footerActionStore"in t&&a(22,g=t.footerActionStore),"historyStore"in t&&a(23,u=t.historyStore)},t.$$.update=()=>{101220352&t.$$.dirty[0]&&n&&o&&I&&!B&&n.name===o.editingFeatureName&&R(n)},[d,h,f,C,Q,()=>{null===G.pointDataBuffer&&(G.pointDataBuffer=JSON.parse(JSON.stringify(G.pointData))),sr.select(d).select("g.scatter-plot-content-group g.select-bbox-group").style("cursor","row-resize").call(sr.drag().on("start",(()=>{((t,e)=>{let a=new Set;t.selectedInfo.nodeData.forEach((t=>a.add(t.id))),sr.select(e).selectAll(".scatter-plot-confidence-group .dot-confidence").filter((t=>a.has(t.id))).classed("edited",!0)})(G,d),c.update((t=>(t.baselineInit||(t.baseline=0,t.baselineInit=!0),t)))})).on("drag",(t=>((t,e,a,n,A,i,r,s)=>{const o=e.curYScale.invert(t.y)-e.curYScale.invert(t.y-t.dy);e.selectedInfo.nodeData.forEach((t=>{e.pointDataBuffer[t.id].y+=o})),e.selectedInfo.updateNodeData(e.pointDataBuffer),e.selectedInfo.computeBBox(e.pointDataBuffer),Hs(e,a,!1,400);const l=A.totalSampleNum>2e3;null!==Us&&clearTimeout(Us),Us=setTimeout((()=>{r(e,i,"current",e.pointDataBuffer,n,A)}),l?300:0),s.update((t=>(t.baseline+=o,t.state=`Scores <b>${t.baseline>=0?"increased":"decreased"}</b> by <b>${Qr(Math.abs(t.baseline),2)}</b>`,t)))})(t,G,d,l,x,o,Ps,c)))).select("rect.original-bbox").classed("animated",!0),void 0!==G.pointDataLastEdit&&Js(G,d,S),x.hasUpdatedLastMetrics||(x.curGroup="last",x.hasUpdatedLastMetrics=!0,l.set(x)),c.update((t=>(t.help="<b>Drag</b> the <b>selected bars</b> to change score",t)))},()=>{console.log("merge clicked"),sr.select(d).select("g.scatter-plot-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0),G.pointDataBuffer=JSON.parse(JSON.stringify(G.pointData));Js(G,d,S),Ts(G,d,"left",(()=>{Ps(G,o,"current",G.pointDataBuffer,l,x)})),C.showConfirmation("merge",600),x.hasUpdatedLastMetrics||(x.curGroup="last",x.hasUpdatedLastMetrics=!0,l.set(x)),c.update((t=>(t.type="align",t.state=`Set scores of ${G.selectedInfo.nodeData.length} bins to\n        <b>${Qr(G.selectedInfo.nodeData[0].y,4)}</b>`,t)))},()=>{sr.select(d).select("g.scatter-plot-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0),G.pointDataBuffer=JSON.parse(JSON.stringify(G.pointData)),x.hasUpdatedLastMetrics||(x.curGroup="last",x.hasUpdatedLastMetrics=!0,l.set(x));Ts(G,d,Q.setValue,(()=>{Ps(G,o,"current",G.pointDataBuffer,l,x)})),C.showConfirmation("change",600);const t=Qr(Q.setValue,4);c.update((e=>(e.type="align",e.state=`Set scores of ${G.selectedInfo.nodeData.length} bins to <b>${t}</b>`,e)))},()=>{G.pointDataBuffer=JSON.parse(JSON.stringify(G.pointData));let t=Ts(G,d,Q.mergeMode,(()=>{Ps(G,o,"current",G.pointDataBuffer,l,x)}));t=Qr(t,4),c.update((e=>(e.type="align",e.state=`Set scores of ${G.selectedInfo.nodeData.length} bins to <b>${t}</b>`,e)))},()=>{console.log("delete clicked"),sr.select(d).select("g.scatter-plot-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!0),G.pointDataBuffer=JSON.parse(JSON.stringify(G.pointData)),Js(G,d,S);Ts(G,d,0,(()=>{Ps(G,o,"current",G.pointDataBuffer,l,x)})),C.showConfirmation("delete",600),x.hasUpdatedLastMetrics||(x.curGroup="last",x.hasUpdatedLastMetrics=!0,l.set(x)),c.update((t=>(t.type="delete",t.state=`Set scores of ${G.selectedInfo.nodeData.length} bins to <b>0</b>`,t)))},async()=>{if(x.previewHistory){if(!confirm("Current graph is not on the latest edit, committing this edit would overwrite all later edits on this feature. Is it OK?"))return void Y()}if(G.pointData=JSON.parse(JSON.stringify(G.pointDataBuffer)),sr.select(d).select("g.scatter-plot-content-group g.select-bbox-group").style("cursor",null).on(".drag",null).select("rect.original-bbox").classed("animated",!1),sr.select(f).call(Nr,d,h),void 0!==G.pointDataLastEdit&&(G.pointDataLastLastEdit=JSON.parse(JSON.stringify(G.pointDataLastEdit))),G.pointDataLastEdit=JSON.parse(JSON.stringify(G.pointData)),x.curGroup="commit",x.hasUpdatedLastMetrics=!1,l.set(x),"global"!==x.effectScope){let t=await zs(G,o,"global");Os(t,"commit-not-global",o,l,x)}if(void 0===o.isDummy)for(;"commitCompleted"!==x.curGroup;)await new Promise((t=>setTimeout(t,500)));let t=0;c.update((e=>(t=e.baseline,e.baseline=0,e.baselineInit=!1,e.type="",e.state="",e.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",e)));const e=`["${G.selectedInfo.nodeData.map((t=>t.x)).join('", "')}"]`,a=`${t>=0?"Increased":"Decreased"} scores of ${e} by ${Qr(Math.abs(t),2)}.`;Ws(G,"move",a,u,l),y=[]},Y,()=>{if(x.previewHistory){if(!confirm("Current graph is not on the latest edit, committing this edit would overwrite all later edits on this feature. Is it OK?"))return void Y()}null===Q.subItemMode&&console.error("No sub item is selected but check is clicked!");new Set(["change","merge","delete"]).has(Q.subItemMode)||console.error(`Encountered unknown subItemMode: ${Q.subItemMode}`),sr.select(d).select("g.scatter-plot-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!1),G.pointData=JSON.parse(JSON.stringify(G.pointDataBuffer)),void 0!==G.pointDataLastEdit&&(G.pointDataLastLastEdit=JSON.parse(JSON.stringify(G.pointDataLastEdit))),G.pointDataLastEdit=JSON.parse(JSON.stringify(G.pointData)),C.hideConfirmation(Q.subItemMode),sr.select(f).call(Nr,d,h),a(4,Q.subItemMode=null,Q),a(4,Q.setValue=null,Q),x.curGroup="commit",x.hasUpdatedLastMetrics=!1,l.set(x);let t="";c.update((e=>(t=e.type,e.baseline=0,e.baselineInit=!1,e.state="",e.type="",e.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",e)));const e=`["${G.selectedInfo.nodeData.map((t=>t.x)).join('", "')}"]`;let n="";switch(t){case"align":n=`Set scores of ${e} to ${Qr(G.selectedInfo.nodeData[0].y,4)}.`;break;case"delete":n=`Set scores of ${e} to ${Qr(G.selectedInfo.nodeData[0].y,0)}.`}Ws(G,t,n,u,l),y=[]},(t,e=!1)=>{console.log("sub item cancel clicked"),e||null!==Q.subItemMode||console.error("No sub item is selected but check is clicked!");const n=new Set(["change","merge","delete"]);e||n.has(Q.subItemMode)||console.error(`Encountered unknown subItemMode: ${Q.subItemMode}`),sr.select(d).select("g.scatter-plot-content-group g.select-bbox-group").select("rect.original-bbox").classed("animated",!1),G.pointDataBuffer=null,void 0!==G.pointDataLastLastEdit&&(G.pointDataLastEdit=JSON.parse(JSON.stringify(G.pointDataLastLastEdit)),Js(G,d,S),G.pointDataLastEdit=JSON.parse(JSON.stringify(G.pointData)));let A=()=>{};e||(A=()=>{Ps(G,o,"recoverEBM",G.pointData,l,x,void 0,!1)}),x.curGroup="recover",x.hasUpdatedLastMetrics=!1,l.set(x),_s(G,d,!0,(()=>{sr.select(f).call(Nr,d,h),A()})),C.hideConfirmation(Q.subItemMode),a(4,Q.subItemMode=null,Q),a(4,Q.setValue=null,Q),c.update((t=>(t.baseline=0,t.baselineInit=!1,t.state="",t.type="",t.help="<b>Drag</b> to marquee select, <b>Scroll</b> to zoom",t)))},s,n,A,i,r,o,l,c,g,u,()=>{N=!N,sr.select(d).select("g.scatter-plot-content-group").classed("select-mode",N).select("g.brush rect.overlay").attr("cursor",null)},I,B,function(t){Q=t,a(4,Q)},function(t){Z[t?"unshift":"push"]((()=>{C=t,a(3,C)}))},function(t){Z[t?"unshift":"push"]((()=>{f=t,a(2,f)}))},function(t){Z[t?"unshift":"push"]((()=>{d=t,a(0,d)}))},function(t){Z[t?"unshift":"push"]((()=>{h=t,a(1,h)}))}]}class no extends xt{constructor(t){super(),vt(this,t,ao,Vs,r,{featureData:15,labelEncoder:16,scoreRange:17,svgHeight:18,svgWidth:14,ebm:19,sidebarStore:20,footerStore:21,footerActionStore:22,historyStore:23,selectModeSwitched:24},null,[-1,-1])}get selectModeSwitched(){return this.$$.ctx[24]}}const Ao=[.95,4],io=(t,e,a,n,A)=>(t.style("stroke","black").style("stroke-opacity",.08),t.call((t=>t.selectAll("line.grid-line-x").data(e.ticks(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-x").attr("y2",A)),(t=>t),(t=>t.remove())).attr("x1",(t=>.5+e(t))).attr("x2",(t=>.5+e(t))))),t.call((t=>t.selectAll("line.grid-line-y").data(a.domain(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-y").classed("grid-line-y-0",(t=>0===t)).attr("x2",n)),(t=>t),(t=>t.remove())).attr("y1",(t=>a(t))).attr("y2",(t=>a(t))))));function ro(e){let a,n,i,r,s,o,l,c,g,u,d,h,p;return{c(){a=Q("div"),n=Q("input"),r=v(),s=Q("label"),o=Q("div"),o.innerHTML='<div class="svg-icon" id="toggle-button-move"></div> \n      <div class="icon-label svelte-u8cqq3">Move</div>',l=v(),c=Q("div"),c.innerHTML='<div class="svg-icon" id="toggle-button-select"></div> \n      <div class="icon-label svelte-u8cqq3">Select</div>',g=v(),u=Q("div"),D(n,"class","toggle svelte-u8cqq3"),D(n,"id",i=`${e[0]}-toggle`),D(n,"type","checkbox"),D(o,"class","left-label svelte-u8cqq3"),G(o,"select-mode",e[1]),D(c,"class","right-label svelte-u8cqq3"),G(c,"select-mode",e[1]),D(u,"class","dot svelte-u8cqq3"),D(s,"for",d=`${e[0]}-toggle`),D(s,"class","toggle-button svelte-u8cqq3"),D(a,"class","toggle-wrapper svelte-u8cqq3")},m(t,A){E(t,a,A),C(a,n),C(a,r),C(a,s),C(s,o),C(s,l),C(s,c),C(s,g),C(s,u),e[9](a),h||(p=[b(n,"change",e[3]),b(o,"mouseenter",e[7]),b(o,"mouseleave",e[5]),b(c,"mouseenter",e[8]),b(c,"mouseleave",e[5])],h=!0)},p(t,[e]){1&e&&i!==(i=`${t[0]}-toggle`)&&D(n,"id",i),2&e&&G(o,"select-mode",t[1]),2&e&&G(c,"select-mode",t[1]),1&e&&d!==(d=`${t[0]}-toggle`)&&D(s,"for",d)},i:t,o:t,d(t){t&&m(a),e[9](null),h=!1,A(p)}}}function so(t,e,a){let{name:n=""}=e,A=!1,i=null,r={},s=null;const o=K();ws.subscribe((t=>{r=t}));const l=(t,e,a,n)=>{let A=t.currentTarget;s=setTimeout((()=>{let t=A.getBoundingClientRect(),i=t.width,s=t.x+i/2,o=t.y-n;r.html=`\n        <div class='tooltip-content' style='display: flex; flex-direction: column;\n          justify-content: center;'>\n          ${e}\n        </div>\n      `,r.width=a,r.maxWidth=a,r.left=s-r.width/2,r.top=o,r.fontSize="14px",r.show=!0,r.orientation="s",ws.set(r)}),1e3)};z((()=>{sr.select(i).select(".svg-icon#toggle-button-move").html('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrows-alt" class="svg-inline--fa fa-arrows-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"></path></svg>'.replaceAll("black","currentcolor")),sr.select(i).select(".svg-icon#toggle-button-select").html('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 523 524" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-miterlimit:1.5;">    <g transform="matrix(1,0,0,1,-646,-617)">        <g transform="matrix(1.03775,0,0,0.950893,-3815.42,0)">            <g transform="matrix(1,0,0,1,577.451,0)">                <g transform="matrix(0.962334,0,0,1.0547,3640.82,-54.8596)">                    <path d="M542.988,822.335L542.988,736.374C542.988,733.506 540.65,731.178 537.77,731.178L458.145,731.178" style="fill:none;stroke:black;stroke-width:70.78px;"/>                </g>                <g transform="matrix(0.849881,0,0,0.931454,3679.64,35.2553)">                    <path d="M438.957,731.178L246.577,731.178" style="fill:none;stroke:black;stroke-width:80.14px;"/>                </g>                <g transform="matrix(0.849881,0,0,0.931454,3679.64,451.541)">                    <path d="M438.957,731.178L246.577,731.178" style="fill:none;stroke:black;stroke-width:80.14px;"/>                </g>                <g transform="matrix(0.962334,0,0,1.0547,3640.82,-54.8596)">                    <path d="M225.497,731.178L153.509,731.178C150.63,731.178 148.292,733.506 148.292,736.374L148.292,822.335" style="fill:none;stroke:black;stroke-width:70.78px;"/>                </g>                <g transform="matrix(0.962334,0,0,1.0547,3640.82,-54.8596)">                    <path d="M148.292,851.189L148.292,988.575" style="fill:none;stroke:black;stroke-width:70.78px;"/>                </g>                <g transform="matrix(0.962334,0,0,1.0547,4020.65,-54.8596)">                    <path d="M148.292,851.189L148.292,988.575" style="fill:none;stroke:black;stroke-width:70.78px;"/>                </g>                <g transform="matrix(0.962334,0,0,1.0547,3640.82,-54.8596)">                    <path d="M148.292,1015.51L148.292,1120.68C148.292,1123.55 150.63,1125.88 153.509,1125.88L225.497,1125.88" style="fill:none;stroke:black;stroke-width:70.78px;"/>                </g>                <g transform="matrix(-0.962334,0,0,1.0547,4306.06,-54.8596)">                    <path d="M148.292,1015.51L148.292,1120.68C148.292,1123.55 150.63,1125.88 153.509,1125.88L225.497,1125.88" style="fill:none;stroke:black;stroke-width:70.78px;"/>                </g>            </g>        </g>    </g></svg>'.replaceAll("black","currentcolor"))}));return t.$$set=t=>{"name"in t&&a(0,n=t.name)},[n,A,i,()=>{a(1,A=!A),o("selectModeSwitched",{selectMode:A})},l,()=>{clearTimeout(s),s=null,r.show=!1,ws.set(r)},()=>{sr.select(i).select(`#${n}-toggle`).property("checked",!1),a(1,A=!1)},t=>l(t,"navigate graph",120,30),t=>l(t,"select nodes",110,30),function(t){Z[t?"unshift":"push"]((()=>{i=t,a(2,i)}))}]}class oo extends xt{constructor(t){super(),vt(this,t,so,ro,r,{name:0,reset:6})}get reset(){return this.$$.ctx[6]}}function lo(e){let a,n,A;return{c(){a=Q("div"),n=Q("div"),A=y("svg"),D(A,"class","svg-explainer"),D(n,"class","svg-container"),D(a,"class","explain-panel svelte-1myahq1")},m(t,i){E(t,a,i),C(a,n),C(n,A),e[11](A),e[12](a)},p:t,i:t,o:t,d(t){t&&m(a),e[11](null),e[12](null)}}}let co=600;function go(t,e,a){let{featureData:n=null}=e,{labelEncoder:A=null}=e,{scoreRange:i=null}=e,{svgHeight:r=500}=e,{svgWidth:s=null}=e,{chartType:o="bar"}=e,l=null,c=null,g=!1,u=!1,d=!1;const h=vr;let p=400;null!==s&null!==r&&(p=co/s*r);const f=Mr,C=xr;z((()=>{a(9,g=!0)}));const I=t=>{a(10,u=!0),console.log(t);let e=sr.select(l);a(2,s=r*(co/p)),e.attr("viewBox",`0 0 600 ${p}`).attr("preserveAspectRatio","xMinYMin meet").attr("width",s).attr("height",r).on("wheel",(t=>{t.preventDefault(),t.stopPropagation()})),e.append("rect").attr("class","border").classed("hidden",!0).attr("width",600).attr("height",400).style("fill","none").style("stroke","pink");let n=e.append("g").attr("class","content").attr("transform",`translate(${h.left}, ${h.top})`),i=(t=>{let e={};return"continuous"===t.type1&&"categorical"===t.type2?(e.contBinLabel=t.binLabel1,e.catBinLabel=t.binLabel2,e.contName=t.name1,e.catName=t.name2,e.contHistEdge=t.histEdge1,e.catHistEdge=t.histEdge2,e.contHistCount=t.histCount1,e.catHistCount=t.histCount2,e.contDim=0,e.catDim=1):"continuous"===t.type2&&"categorical"===t.type1?(e.contBinLabel=t.binLabel2,e.catBinLabel=t.binLabel1,e.contName=t.name2,e.catName=t.name1,e.contHistEdge=t.histEdge2,e.catHistEdge=t.histEdge1,e.contHistCount=t.histCount2,e.catHistCount=t.histCount1,e.contDim=1,e.catDim=0):console.error("The interaction is not continuous x categorical."),e.catBinName=e.catBinLabel.map((t=>A[e.catName][t])),e.catHistEdgeName=e.catHistEdge.map((t=>A[e.catName][t])),e})(t);const o={startColor:"#2166ac",endColor:"#b2182b",width:180,height:6},c=o.height,g=p-h.top-h.bottom-90-c;let I=sr.scaleBand().domain(i.catHistEdgeName).paddingInner(.4).paddingOuter(.3).range([g,0]).round(!0);const B=20+Math.max(40,Lr(l,I,C))/s*co,E=co-h.left-h.right-B;let m=i.contBinLabel[0],Q=i.contBinLabel[i.contBinLabel.length-1],y=sr.scaleLinear().domain([m,Q]).range([0,E]),w=n.append("g").attr("class","hist-chart-group");w.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-hist-chart-clip`).append("rect").attr("x",B).attr("y",g).attr("width",E).attr("height",90),w.attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-hist-chart-clip)`);let v=((t,e)=>{let a=[];if(0===e.catDim)for(let n=0;n<t.additive.length;n++){let A=[];for(let a=0;a<t.additive[0].length-1;a++)A.push({sx:e.contBinLabel[a],sAdditive:t.additive[n][a],sError:t.error[n][a],tx:e.contBinLabel[a+1],tAdditive:t.additive[n][a+1],tError:t.error[n][a+1]});let i=t.additive[0].length-1;A.push({sx:e.contBinLabel[i],sAdditive:t.additive[n][i],sError:t.error[n][i],tx:e.contBinLabel[i+1],tAdditive:t.additive[n][i],tError:t.error[n][i]}),a.push(A)}else for(let n=0;n<t.additive[0].length;n++){let A=[];for(let a=0;a<t.additive.length-1;a++)A.push({sx:e.contBinLabel[a],sAdditive:t.additive[a][n],sError:t.error[a][n],tx:e.contBinLabel[a+1],tAdditive:t.additive[a+1][n],tError:t.error[a+1][n]});let i=t.additive.length-1;A.push({sx:e.contBinLabel[i],sAdditive:t.additive[i][n],sError:t.error[i][n],tx:e.contBinLabel[i+1],tAdditive:t.additive[i][n],tError:t.error[i][n]}),a.push(A)}return a})(t,i),x=0;v.forEach((t=>{t.forEach((t=>{Math.abs(t.sAdditive)>x&&(x=Math.abs(t.sAdditive))}))}));let b=sr.scaleLinear().domain([-x,0,x]).range([o.startColor,"white",o.endColor]),D=n.append("g").attr("transform",`translate(0, ${c})`).attr("class","bar-chart-group");D.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-chart-clip`).append("rect").attr("width",E).attr("height",g-1),D.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-y-axis-clip`).append("rect").attr("x",-h.left).attr("y",0).attr("width",h.left+B).attr("height",g);let M=D.append("g").attr("class","bar-chart-content-group").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-chart-clip)`).attr("transform",`translate(${B}, 0)`);M.append("rect").attr("width",E).attr("height",g).style("opacity",0),M.append("g").attr("class","bar-plot-grid-group");let k=M.append("g").attr("class","bar-chart-bar-group").style("stroke","hsla(0, 0%, 0%, 0.06)"),L=D.append("g").attr("class","axis-group");for(let t=0;t<v.length;t++)k.append("g").attr("class",`bar-group-${t}`).attr("transform",`translate(0, ${I(i.catBinName[t])})`).selectAll("rect.bar").data(v[t]).join("rect").attr("class","bar").attr("x",(t=>y(t.sx))).attr("y",0).attr("width",(t=>y(t.tx)-y(t.sx))).attr("height",I.bandwidth()).style("fill",(t=>b(t.sAdditive)));let S=L.append("g").attr("class","x-axis").attr("transform",`translate(${B}, ${g})`).call(sr.axisBottom(y));S.attr("font-family",C);const G=S.node().getBoundingClientRect().height/r*p;S.append("g").attr("transform",`translate(${E/2}, ${G+5})`).append("text").attr("class","x-axis-text").text(i.contName).style("fill","black");let N=L.append("g").attr("class","y-axis-wrapper").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-y-axis-clip)`).append("g").attr("class","y-axis").attr("transform",`translate(${B}, 0)`);N.call(sr.axisLeft(I)),N.attr("font-family",C),N.append("g").attr("class","y-axis-text").attr("transform",`translate(${15-B}, ${g/2}) rotate(-90)`).append("text").text(i.catName).style("fill","black");let R=sr.zoom().translateExtent([[-1/0,0],[1/0,p]]).scaleExtent(Ao).on("zoom",(t=>((t,e,a,n,A,i,r,s,o,l,c,g)=>{let u=sr.select(n),d=t.transform,h=d.rescaleX(e),p=sr.scalePoint().domain(a.domain()).padding(.7).range([d.applyY(0),d.applyY(o)]);u.select("g.x-axis").call(sr.axisBottom(h)),u.select("g.y-axis").call(sr.axisLeft(p)),u.selectAll("g.bar-chart-bar-group").attr("transform",d).style("stroke-width",1/d.k),u.select("g.hist-chart-content-group").attr("transform",`translate(${r+d.x},\n        ${o+l})scale(${d.k}, 1)`),u.select("g.bar-plot-grid-group").call(io,h,p,s,o)})(t,y,I,l,0,0,B,E,g,c))).on("start",(()=>{})).on("end",(()=>{})).filter((t=>d?"wheel"===t.type||2===t.button:0===t.button||"wheel"===t.type));M.call(R).call(R.transform,sr.zoomIdentity),M.on("dblclick.zoom",null),M.on("dblclick",(()=>{M.transition("reset").duration(750).ease(sr.easeCubicInOut).call(R.transform,sr.zoomIdentity)}));let F=n.append("g").attr("class","legend-group").attr("transform",`translate(${co-o.width-h.right-h.left}, -20)`);kr(F,o,x);let Y=[],$=sr.sum(i.contHistCount),j=i.contHistCount.map((t=>t/$));for(let t=0;t<j.length;t++)Y.push({x1:i.contHistEdge[t],x2:i.contHistEdge[t+1],height:j[t]});let U=sr.scaleLinear().domain(sr.extent(j)).range([0,90]);w.append("g").attr("class","hist-chart-content-group").attr("transform",`translate(${B}, ${g+c})`).selectAll("rect").data(Y).join("rect").attr("class","hist-rect").attr("x",(t=>y(t.x1))).attr("y",0).attr("width",(t=>y(t.x2)-y(t.x1))).attr("height",(t=>U(t.height))).style("fill",f.hist);let H=D.append("g").attr("class","y-axis-hist").attr("transform",`translate(${B}, ${g})`).lower();H.call(sr.axisLeft(U).ticks(2)),H.attr("font-family",C),H.selectAll("text").style("fill",f.histAxis).filter(((t,e,a)=>"0.0"===sr.select(a[e]).text())).text("0"),H.selectAll("path,line").style("stroke",f.histAxis),H.append("g").attr("transform",`translate(${15-B}, 45) rotate(-90)`).append("text").attr("class","y-axis-text").text("Density").style("fill",f.histAxis)};"bar"===o||"line"===o||console.error("The provided chart type is not supported.");return t.$$set=t=>{"featureData"in t&&a(3,n=t.featureData),"labelEncoder"in t&&a(4,A=t.labelEncoder),"scoreRange"in t&&a(5,i=t.scoreRange),"svgHeight"in t&&a(6,r=t.svgHeight),"svgWidth"in t&&a(2,s=t.svgWidth),"chartType"in t&&a(7,o=t.chartType)},t.$$.update=()=>{1544&t.$$.dirty&&n&&g&&!u&&I(n)},[l,c,s,n,A,i,r,o,()=>{d=!d,sr.select(l).select("g.scatter-plot-content-group").classed("select-mode",d).select("g.brush rect.overlay").attr("cursor",null)},g,u,function(t){Z[t?"unshift":"push"]((()=>{l=t,a(0,l)}))},function(t){Z[t?"unshift":"push"]((()=>{c=t,a(1,c)}))}]}class uo extends xt{constructor(t){super(),vt(this,t,go,lo,r,{featureData:3,labelEncoder:4,scoreRange:5,svgHeight:6,svgWidth:2,chartType:7,selectModeSwitched:8})}get selectModeSwitched(){return this.$$.ctx[8]}}const ho=[.95,4],po=(t,e,a,n,A)=>(t.style("stroke","black").style("stroke-opacity",.08),t.call((t=>t.selectAll("line.grid-line-x").data(e.ticks(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-x").attr("y2",A)),(t=>t),(t=>t.remove())).attr("x1",(t=>.5+e(t))).attr("x2",(t=>.5+e(t))))),t.call((t=>t.selectAll("line.grid-line-y").data(a.ticks(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-y").attr("x2",n)),(t=>t),(t=>t.remove())).attr("y1",(t=>a(t))).attr("y2",(t=>a(t))))));function fo(e){let a,n,A;return{c(){a=Q("div"),n=Q("div"),A=y("svg"),D(A,"class","svg-explainer"),D(n,"class","svg-container"),D(a,"class","explain-panel svelte-crp6iq")},m(t,i){E(t,a,i),C(a,n),C(n,A),e[10](A),e[11](a)},p:t,i:t,o:t,d(t){t&&m(a),e[10](null),e[11](null)}}}let Co=600;function Io(t,e,a){let{featureData:n=null}=e,{labelEncoder:A=null}=e,{scoreRange:i=null}=e,{svgWidth:r=null}=e,{svgHeight:s=500}=e,o=null,l=null,c=!1,g=!1;const u=vr;let d=400;null!==r&null!==s&&(d=Co/r*s);let h=!1;const p=Mr,f=xr;z((()=>{a(8,c=!0)}));const C=t=>{a(9,g=!0),console.log(t);let e=sr.select(o);a(2,r=s*(Co/d)),e.attr("viewBox",`0 0 600 ${d}`).attr("preserveAspectRatio","xMinYMin meet").attr("width",r).attr("height",s).on("wheel",(t=>{t.preventDefault(),t.stopPropagation()})),e.append("rect").attr("class","border").classed("hidden",!0).attr("width",600).attr("height",400).style("fill","none").style("stroke","pink");let n=e.append("g").attr("class","content").attr("transform",`translate(${u.left}, ${u.top})`);const A={startColor:"#2166ac",endColor:"#b2182b",width:180,height:6},i=A.height,l=d-u.top-u.bottom-90-i;let c=t.binLabel2[0],C=t.binLabel2[t.binLabel2.length-1],I=sr.scaleLinear().domain([c,C]).range([l,0]);const B=20+Math.max(40,Lr(o,I,f))/r*Co,E=Co-u.left-u.right-B;let m=t.binLabel1[0],Q=t.binLabel1[t.binLabel1.length-1],y=sr.scaleLinear().domain([m,Q]).range([0,E]),w=n.append("g").attr("class","hist-chart-group");w.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-hist-chart-clip`).append("rect").attr("x",B).attr("y",l).attr("width",E).attr("height",90),w.attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-hist-chart-clip)`);let v=(t=>{let e=new Array(t[0].length);for(let a=0;a<t[0].length;a++)e[a]=new Array(t.length).fill(0);for(let a=0;a<t.length;a++)for(let n=0;n<t[a].length;n++)e[n][a]=t[a][n];return e})(t.additive),x=0;t.additive.forEach((t=>{t.forEach((t=>{Math.abs(t)>x&&(x=Math.abs(t))}))}));let b=sr.scaleLinear().domain([-x,0,x]).range([A.startColor,"white",A.endColor]),D=n.append("g").attr("transform",`translate(0, ${i})`).attr("class","bar-chart-group");D.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-chart-clip`).append("rect").attr("width",E).attr("height",l-1);let M=D.append("g").attr("class","bar-chart-content-group").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-chart-clip)`).attr("transform",`translate(${B}, 0)`);M.append("rect").attr("width",E).attr("height",l).style("opacity",0),M.append("g").attr("class","bar-chart-grid-group");let k=M.append("g").attr("class","bar-chart-bar-group").style("stroke","hsla(0, 0%, 0%, 0.05)").style("stroke-width",1),L=D.append("g").attr("class","axis-group");for(let e=0;e<t.additive[0].length;e++){let a=I(t.binLabel2[e])-I(t.binLabel2[e+1]);k.append("g").attr("class",`bar-group-${e}`).attr("transform",`translate(0, ${I(t.binLabel2[e])})`).selectAll("rect.bar").data(v[e]).join("rect").attr("class","bar").attr("x",((e,a)=>y(t.binLabel1[a]))).attr("y",-a).attr("width",((e,a)=>y(t.binLabel1[a+1])-y(t.binLabel1[a]))).attr("height",a).style("fill",(t=>b(t)))}let S=L.append("g").attr("class","x-axis").attr("transform",`translate(${B}, ${l})`).call(sr.axisBottom(y));S.attr("font-family",f);const G=S.node().getBoundingClientRect().height/s*s;S.append("g").attr("transform",`translate(${E/2}, ${G+5})`).append("text").attr("class","x-axis-text").text(t.name1).style("fill","black");let N=L.append("g").attr("class","y-axis").attr("transform",`translate(${B}, 0)`);N.call(sr.axisLeft(I)),N.attr("font-family",f),N.append("g").attr("transform",`translate(${15-B}, ${l/2}) rotate(-90)`).append("text").attr("class","y-axis-text").text(t.name2).style("fill","black");let R=n.append("g").attr("class","legend-group").attr("transform",`translate(${Co-A.width-u.right-u.left}, -20)`);kr(R,A,x);let F=[],Y=sr.sum(t.histCount1),$=t.histCount1.map((t=>t/Y));for(let e=0;e<$.length;e++)F.push({x1:t.histEdge1[e],x2:t.histEdge1[e+1],height:$[e]});let j=sr.scaleLinear().domain(sr.extent($)).range([0,90]);w.append("g").attr("class","hist-chart-content-group").attr("transform",`translate(${B}, ${l+i})`).selectAll("rect").data(F).join("rect").attr("class","hist-rect").attr("x",(t=>y(t.x1))).attr("y",0).attr("width",(t=>y(t.x2)-y(t.x1))).attr("height",(t=>j(t.height))).style("fill",p.hist);let U=D.append("g").attr("class","y-axis").attr("transform",`translate(${B}, ${l})`);U.call(sr.axisLeft(j).ticks(2)),U.attr("font-family",f),U.selectAll("text").style("fill",p.histAxis).filter(((t,e,a)=>"0.0"===sr.select(a[e]).text())).text("0"),U.selectAll("path,line").style("stroke",p.histAxis),U.append("g").attr("class","y-axis-text").attr("transform",`translate(${15-B}, 45) rotate(-90)`).append("text").text("Density").style("fill",p.histAxis);let H=sr.zoom().scaleExtent(ho).on("zoom",(t=>((t,e,a,n,A,i,r,s,o,l,c,g)=>{let u=sr.select(n),d=t.transform,h=d.rescaleX(e),p=d.rescaleY(a);u.select("g.x-axis").call(sr.axisBottom(h)),u.select("g.y-axis").call(sr.axisLeft(p)),u.selectAll("g.bar-chart-bar-group").attr("transform",d).style("stroke-width",1/d.k),u.select("g.hist-chart-content-group").attr("transform",`translate(${r+d.x},\n        ${o+l})scale(${d.k}, 1)`),u.select("g.bar-chart-grid-group").call(po,h,p,s,o)})(t,y,I,o,0,0,B,E,l,i))).on("start",(()=>{})).on("end",(()=>{})).filter((t=>h?"wheel"===t.type||2===t.button:0===t.button||"wheel"===t.type));M.call(H).call(H.transform,sr.zoomIdentity),M.on("dblclick.zoom",null),M.on("dblclick",(()=>{M.transition("reset").duration(750).ease(sr.easeCubicInOut).call(H.transform,sr.zoomIdentity)})),setTimeout((()=>{M.transition().duration(400).call(H.scaleTo,.95)}),400)};return t.$$set=t=>{"featureData"in t&&a(3,n=t.featureData),"labelEncoder"in t&&a(4,A=t.labelEncoder),"scoreRange"in t&&a(5,i=t.scoreRange),"svgWidth"in t&&a(2,r=t.svgWidth),"svgHeight"in t&&a(6,s=t.svgHeight)},t.$$.update=()=>{776&t.$$.dirty&&n&&c&&!g&&C(n)},[o,l,r,n,A,i,s,()=>{h=!h,sr.select(o).select("g.scatter-plot-content-group").classed("select-mode",h).select("g.brush rect.overlay").attr("cursor",null)},c,g,function(t){Z[t?"unshift":"push"]((()=>{o=t,a(0,o)}))},function(t){Z[t?"unshift":"push"]((()=>{l=t,a(1,l)}))}]}class Bo extends xt{constructor(t){super(),vt(this,t,Io,fo,r,{featureData:3,labelEncoder:4,scoreRange:5,svgWidth:2,svgHeight:6,selectModeSwitched:7})}get selectModeSwitched(){return this.$$.ctx[7]}}const Eo=[.95,4],mo=(t,e,a,n,A)=>(t.style("stroke","black").style("stroke-opacity",.08),t.call((t=>t.selectAll("line.grid-line-x").data(e.domain(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-x").attr("y2",A)),(t=>t),(t=>t.remove())).attr("x1",(t=>.5+e(t))).attr("x2",(t=>.5+e(t))))),t.call((t=>t.selectAll("line.grid-line-y").data(a.domain(),(t=>t)).join((t=>t.append("line").attr("class","grid-line-y").classed("grid-line-y-0",(t=>0===t)).attr("x2",n)),(t=>t),(t=>t.remove())).attr("y1",(t=>a(t))).attr("y2",(t=>a(t))))));function Qo(e){let a,n,A;return{c(){a=Q("div"),n=Q("div"),A=y("svg"),D(A,"class","svg-explainer"),D(n,"class","svg-container"),D(a,"class","explain-panel svelte-1t5mjej")},m(t,i){E(t,a,i),C(a,n),C(n,A),e[10](A),e[11](a)},p:t,i:t,o:t,d(t){t&&m(a),e[10](null),e[11](null)}}}const yo=90;let wo=600;function vo(t,e,a){let{featureData:n=null}=e,{labelEncoder:A=null}=e,{scoreRange:i=null}=e,{svgWidth:r=null}=e,{svgHeight:s=500}=e,o=null,l=null,c=!1,g=!1;const u=vr;let d=400;null!==r&null!==s&&(d=wo/r*s);const h=Mr,p=xr;let f=!1;z((()=>{a(8,c=!0)}));const C=t=>{console.log(t),a(9,g=!0);let e=sr.select(o);a(2,r=s*(wo/d)),e.attr("viewBox",`0 0 600 ${d}`).attr("preserveAspectRatio","xMinYMin meet").attr("width",r).attr("height",s).on("wheel",(t=>{t.preventDefault(),t.stopPropagation()})),e.append("rect").attr("class","border").classed("hidden",!0).attr("width",600).attr("height",400).style("fill","none").style("stroke","pink");let n=e.append("g").attr("class","content").attr("transform",`translate(${u.left}, ${u.top})`),i=(t=>{let e={};return t.binLabel1.length>=t.binLabel2.length?(e.longBinLabel=t.binLabel1,e.shortBinLabel=t.binLabel2,e.longName=t.name1,e.shortName=t.name2,e.longHistEdge=t.histEdge1,e.shortHistEdge=t.histEdge2,e.longHistCount=t.histCount1,e.shortHistCount=t.histCount2,e.longDim=0,e.shortDim=1):(e.longBinLabel=t.binLabel2,e.shortBinLabel=t.binLabel1,e.longName=t.name2,e.shortName=t.name1,e.longHistEdge=t.histEdge2,e.shortHistEdge=t.histEdge1,e.longHistCount=t.histCount2,e.shortHistCount=t.histCount1,e.longDim=1,e.shortDim=0),e.longBinName=e.longBinLabel.map((t=>A[e.longName][t])),e.shortBinName=e.shortBinLabel.map((t=>A[e.shortName][t])),e.longHistEdgeName=e.longHistEdge.map((t=>A[e.longName][t])),e.shortHistEdgeName=e.shortHistEdge.map((t=>A[e.shortName][t])),e})(t);const l={startColor:"#2166ac",endColor:"#b2182b",width:180,height:6},c=l.height,C=d-u.top-u.bottom-yo-c;let I=sr.scalePoint().domain(i.shortBinName).padding(br).range([C,0]);const B=20+Math.max(40,Lr(o,I,p))/r*wo,E=wo-u.left-u.right-B;let m=sr.scalePoint().domain(i.longBinName).padding(br).range([0,E]),Q=n.append("g").attr("class","hist-chart-group");Q.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-hist-chart-clip`).append("rect").attr("x",B).attr("y",C).attr("width",E).attr("height",yo),Q.attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-hist-chart-clip)`);let y=((t,e)=>{let a=[];for(let n=0;n<t.additive.length;n++)for(let A=0;A<t.additive[n].length;A++)a.push({longLabel:0===e.longDim?e.longBinLabel[n]:e.longBinLabel[A],longLabelName:0===e.longDim?e.longBinName[n]:e.longBinName[A],shortLabel:0===e.longDim?e.shortBinLabel[A]:e.shortBinLabel[n],shortLabelName:0===e.longDim?e.shortBinName[A]:e.shortBinName[n],additive:t.additive[n][A],error:t.error[n][A]});return a})(t,i),w=0;t.additive.forEach((t=>{t.forEach((t=>{Math.abs(t)>w&&(w=Math.abs(t))}))}));let v=sr.scaleLinear().domain([-w,0,w]).range([l.startColor,"white",l.endColor]),x=n.append("g").attr("transform",`translate(0, ${c})`).attr("class","scatter-plot-group");x.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-chart-clip`).append("rect").attr("width",E).attr("height",C-1),x.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-x-axis-clip`).append("rect").attr("x",B).attr("y",C).attr("width",E).attr("height",yo),x.append("clipPath").attr("id",`${t.name.replace(/\s/g,"")}-y-axis-clip`).append("rect").attr("x",-u.left).attr("y",0).attr("width",u.left+B).attr("height",C);let b=x.append("g").attr("class","scatter-plot-content-group").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-chart-clip)`).attr("transform",`translate(${B}, 0)`);b.append("rect").attr("width",E).attr("height",C).style("opacity",0),b.append("g").attr("class","scatter-plot-grid-group");let D=b.append("g").attr("class","scatter-plot-scatter-group"),M=x.append("g").attr("class","axis-group");D.style("stroke","hsla(0, 0%, 0%, 0.5)").style("stroke-width",1).selectAll("circle.dot").data(y).join("circle").attr("class","dot").attr("cx",(t=>m(t.longLabelName))).attr("cy",(t=>I(t.shortLabelName))).attr("r",Dr).style("fill",(t=>v(t.additive)));let k=M.append("g").attr("class","x-axis-wrapper").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-x-axis-clip)`).append("g").attr("class","x-axis").attr("transform",`translate(${B}, ${C})`).call(sr.axisBottom(m));k.attr("font-family",p),i.longBinName.length>6&&k.selectAll("g.tick text").attr("y",0).attr("x",-9).attr("dy","-0.6em").attr("transform","rotate(-90)").style("text-anchor","end");const L=k.node().getBoundingClientRect().height/s*d;k.append("g").attr("transform",`translate(${E/2}, ${Math.min(75,L+5)})`).append("text").attr("class","x-axis-text").text(i.longName).style("fill","black").clone(!0).style("stroke","#FDFCFC").style("stroke-width",3).lower();let S=M.append("g").attr("class","y-axis-wrapper").attr("clip-path",`url(#${t.name.replace(/\s/g,"")}-y-axis-clip)`).append("g").attr("class","y-axis").attr("transform",`translate(${B}, 0)`);S.call(sr.axisLeft(I)),S.attr("font-family",p),S.append("g").attr("transform",`translate(${15-B}, ${C/2}) rotate(-90)`).append("text").attr("class","y-axis-text").text(i.shortName).style("fill","black");let G=n.append("g").attr("class","legend-group").attr("transform",`translate(${wo-l.width-u.right-u.left}, -20)`);kr(G,l,w);let N=[],R=sr.sum(i.longHistCount),F=i.longHistCount.map((t=>t/R));for(let t=0;t<F.length;t++)N.push({x1:i.longHistEdgeName[t],x2:i.longHistEdgeName[t+1],height:F[t]});let Y=sr.scaleLinear().domain(sr.extent(F)).range([0,yo]),$=Math.min(30,m(N[0].x2)-m(N[0].x1));Q.append("g").attr("class","hist-chart-content-group").attr("transform",`translate(${B}, ${C+c})`).selectAll("rect").data(N).join("rect").attr("class","hist-rect").attr("x",(t=>m(t.x1)-$/2)).attr("y",0).attr("width",$).attr("height",(t=>Y(t.height))).style("fill",h.hist);let j=x.append("g").attr("class","y-axis").attr("transform",`translate(${B}, ${C})`);j.call(sr.axisLeft(Y).ticks(2)),j.attr("font-family",p),j.selectAll("text").style("fill",h.histAxis).filter(((t,e,a)=>"0.0"===sr.select(a[e]).text())).text("0"),j.selectAll("path,line").style("stroke",h.histAxis),j.append("g").attr("class","y-axis-text").attr("transform",`translate(${15-B}, 45) rotate(-90)`).append("text").text("Density").style("fill",h.histAxis);let U=sr.zoom().scaleExtent(Eo).translateExtent([[0,0],[wo,d]]).on("zoom",(t=>((t,e,a,n,A,i,r,s,o,l,c,g)=>{let u=sr.select(n),d=t.transform,h=sr.scalePoint().domain(e.domain()).padding(br).range([d.applyX(0),d.applyX(s)]),p=sr.scalePoint().domain(a.domain()).padding(br).range([d.applyY(0),d.applyY(o)]);u.select("g.x-axis").call(sr.axisBottom(h)),u.select("g.y-axis").call(sr.axisLeft(p)),u.selectAll("g.scatter-plot-scatter-group").attr("transform",d).style("stroke-width",1/d.k),u.select("g.hist-chart-content-group").attr("transform",`translate(${r+d.x},\n        ${o+l})scale(${d.k}, 1)`),u.select("g.scatter-plot-grid-group").call(mo,h,p,s,o)})(t,m,I,o,0,0,B,E,C,c))).on("start",(()=>{})).on("end",(()=>{})).filter((t=>f?"wheel"===t.type||2===t.button:0===t.button||"wheel"===t.type));b.call(U).call(U.transform,sr.zoomIdentity),b.on("dblclick.zoom",null),b.on("dblclick",(()=>{b.transition("reset").duration(750).ease(sr.easeCubicInOut).call(U.transform,sr.zoomIdentity)}))};return t.$$set=t=>{"featureData"in t&&a(3,n=t.featureData),"labelEncoder"in t&&a(4,A=t.labelEncoder),"scoreRange"in t&&a(5,i=t.scoreRange),"svgWidth"in t&&a(2,r=t.svgWidth),"svgHeight"in t&&a(6,s=t.svgHeight)},t.$$.update=()=>{776&t.$$.dirty&&n&&c&&!g&&C(n)},[o,l,r,n,A,i,s,()=>{f=!f,sr.select(o).select("g.scatter-plot-content-group").classed("select-mode",f).select("g.brush rect.overlay").attr("cursor",null)},c,g,function(t){Z[t?"unshift":"push"]((()=>{o=t,a(0,o)}))},function(t){Z[t?"unshift":"push"]((()=>{l=t,a(1,l)}))}]}class xo extends xt{constructor(t){super(),vt(this,t,vo,Qo,r,{featureData:3,labelEncoder:4,scoreRange:5,svgWidth:2,svgHeight:6,selectModeSwitched:7})}get selectModeSwitched(){return this.$$.ctx[7]}}const bo=18,Do=22;let Mo={};function ko(e){let a,n,i,r,s,o,l,c,g,u,d,h,p,f,I;return{c(){a=Q("div"),n=Q("div"),i=Q("div"),r=Q("button"),r.innerHTML='<span class="is-small">Global</span>',s=v(),o=Q("div"),l=Q("button"),l.innerHTML='<span class="is-small">Selected</span>',c=v(),g=Q("div"),u=Q("select"),d=Q("option"),d.textContent="Slice",h=v(),p=Q("div"),p.innerHTML='<svg class="bar-svg svelte-1n5tzoo"></svg>',D(r,"class","button svelte-1n5tzoo"),D(r,"title","Show model performance across all validation samples"),G(r,"selected","global"===e[2].effectScope),D(i,"class","control svelte-1n5tzoo"),D(l,"class","button svelte-1n5tzoo"),D(l,"title","Show model performance on the selected validation samples"),G(l,"selected","selected"===e[2].effectScope),D(o,"class","control svelte-1n5tzoo"),d.selected=!0,d.__value="slice",d.value=d.__value,D(u,"class","button right-button select svelte-1n5tzoo"),D(u,"name","slice"),D(u,"id","slice-select"),D(u,"title","Show model performance on the sliced validation samples"),G(u,"selected","slice"===e[2].effectScope),D(g,"class","control svelte-1n5tzoo"),D(n,"class","scope-selection field has-addons svelte-1n5tzoo"),D(p,"class","metrics svelte-1n5tzoo"),D(a,"class","metrics-tab svelte-1n5tzoo")},m(t,A){E(t,a,A),C(a,n),C(n,i),C(i,r),C(n,s),C(n,o),C(o,l),C(n,c),C(n,g),C(g,u),C(u,d),e[8](u),C(a,h),C(a,p),e[10](a),f||(I=[b(r,"click",e[6]),b(l,"click",e[7]),b(u,"click",e[9]),b(u,"blur",Lo),b(u,"change",e[4])],f=!0)},p(t,[e]){4&e&&G(r,"selected","global"===t[2].effectScope),4&e&&G(l,"selected","selected"===t[2].effectScope),4&e&&G(u,"selected","slice"===t[2].effectScope)},i:t,o:t,d(t){t&&m(a),e[8](null),e[10](null),f=!1,A(I)}}}const Lo=()=>{};function So(t,e,a){let{sidebarStore:n}=e,A=null,i=null,r={},s=0,o=0;const l={top:10,right:15,bottom:40,left:15};let c={tn:[23.2,null,23,null],fn:[23.2,null,23,null],fp:[23.2,null,23,null],tp:[23.2,null,23,null]},g={accuracy:[.5,null,.5,null],rocAuc:[.5,null,.5,null],balancedAccuracy:[.5,null,.5,null]},u={rmse:[.5,null,.5,null],mae:[.5,null,.5,null],mape:[.5,null,.5,null]};z((()=>{s=A.getBoundingClientRect().width,o=A.getBoundingClientRect().height;let t=sr.select(A).select(".bar-svg").node().parentNode,e=t.offsetWidth-t.clientWidth;console.log(`effect tab: [${s}, ${o}, ${e}]`),s-=e,sr.select(A).selectAll(".bar-svg").attr("width",s).attr("height",455),a(2,r.loadingBar=null,r),sr.select(null).classed("animated",!1),n.set(r)}));const d=(t,e,a,n)=>{Object.keys(t).forEach((e=>{t[e][n]=t[e][a]})),Object.keys(e).forEach((t=>{e[t][n]=e[t][a]}))},h=t=>{let e=i.options[i.selectedIndex];r.effectScope!==t&&("slice"!==t||"slice"!==e.value)&&(a(2,r.curGroup=`${t}Clicked`,r),a(2,r.effectScope=t,r),n.set(r))},p=(t,e,a,n)=>{if((0!==n.confusionMatrix.length||!n.isClassification)&&(Object.keys(e).forEach((a=>{e[a][t]=n[a]})),n.isClassification)){let e=n.confusionMatrix.reduce(((t,e)=>t+e));["tn","fn","fp","tp"].forEach(((A,i)=>{e>1e4?(a[A][t]=n.confusionMatrix[i]/e,a[A][t]=`${Qr(100*a[A][t],1)}%`):a[A][t]=n.confusionMatrix[i]}))}};n.subscribe((t=>{switch(a(2,r=t),r.curGroup){case"original":{r.isClassification||(g=u),p(0,g,c,r),d(g,c,0,2),a(2,r.barData=JSON.parse(JSON.stringify(g)),r),a(2,r.confusionMatrixData=JSON.parse(JSON.stringify(c)),r),a(2,r.curGroup="originalCompleted",r);let t=sr.select(A).select("#slice-select");r.sliceOptions.forEach((e=>{let a=t.append("optgroup").attr("label",e[0].name);e.forEach((t=>{a.append("option").attr("value",t.featureID).attr("data-level",t.level).text(t.levelName)}))})),n.set(r);break}case"new-feature-original":Object.keys(g).forEach((t=>g[t][1]=null)),Object.keys(c).forEach((t=>c[t][1]=null)),a(2,r.barData=JSON.parse(JSON.stringify(g)),r),a(2,r.confusionMatrixData=JSON.parse(JSON.stringify(c)),r),a(2,r.curGroup="originalCompleted",r),n.set(r);break;case"current":p(2,g,c,r);break;case"last":d(g,c,2,1);break;case"commit":d(g,c,1,3),"global"===r.effectScope&&(a(2,r.barData=JSON.parse(JSON.stringify(g)),r),a(2,r.confusionMatrixData=JSON.parse(JSON.stringify(c)),r),a(2,r.curGroup="commitCompleted",r),n.set(r));break;case"commit-not-global":{let t=r.barData,e=r.confusionMatrixData;d(t,e,1,3),d(t,e,2,1),p(2,t,e,r),a(2,r.barData=JSON.parse(JSON.stringify(t)),r),a(2,r.confusionMatrixData=JSON.parse(JSON.stringify(e)),r),a(2,r.curGroup="commitCompleted",r),n.set(r);break}case"recover":d(g,c,1,2),d(g,c,3,1);break;case"overwrite":g=JSON.parse(JSON.stringify(r.barData)),c=JSON.parse(JSON.stringify(r.confusionMatrixData)),a(2,r.curGroup="overwriteCompleted",r),n.set(r);break;case"nullify":c={tn:[null,null,null,null],fn:[null,null,null,null],fp:[null,null,null,null],tp:[null,null,null,null]},Object.keys(g).forEach((t=>{g[t]=[null,null,null,null]})),a(2,r.curGroup="nullifyCompleted",r),n.set(r);break;case"nullify-last":Object.keys(c).forEach((t=>c[t][1]=null)),Object.keys(g).forEach((t=>g[t][1]=null));break;case"original-only":p(0,g,c,r);break;case"last-only":p(1,g,c,r);break;case"current-only":p(2,g,c,r)}"effect"===r.selectedTab&&null!==r.isClassification&&(r.isClassification?(((t,e,a,n)=>{const A=t-e.left-e.right;let i=sr.select(a).select(".bar-svg");const r=[{name:"accuracy",text:"Accuracy"},{name:"balancedAccuracy",text:"Balanced Accuracy"},{name:"rocAuc",text:"ROC AUC"},{name:"confusionMatrix",text:"Confusion Matrix"}];let s=sr.scaleLinear().domain([0,1]).range([0,t-e.left-e.right]).unknown(25);const o=["original","last","current"];if(0===i.select(".bar-group").size()){let t=i.append("g").attr("class","bar-group").attr("transform","translate(0, 10)"),a=t.selectAll("g.bar").data(r).join("g").attr("class",(t=>`bar ${t.name}-group`)).attr("transform",((t,a)=>`translate(${e.left}, ${104*a})`));a.append("text").attr("class","metric-title").text((t=>t.text)),a.append("path").attr("d",`M 0, 92 L ${A}, 92`).style("stroke","hsla(0, 0%, 0%, 0.2)").style("visibility",(t=>"confusionMatrix"===t.name?"hidden":"show"));const n=[{name:"origin",class:"original",title:"Metrics of the original graph",width:42,x:0},{name:"last",class:"last",title:"Metrics of the last edit",width:28,x:47},{name:"current",class:"current",title:"Metrics of the current graph",width:50,x:80}];let s=t.select(`g.${r[0].name}-group`).selectAll("g.legend-item").data(n).join("g").style("cursor","default").attr("transform",(t=>`translate(${80+t.x}, 0)`));s.append("title").text((t=>t.title)),s.append("rect").attr("width",(t=>t.width)).attr("height",16).attr("rx",3).attr("class",(t=>t.class)),s.append("text").attr("class","legend-title").attr("y",2).attr("x",(t=>t.width/2)).text((t=>t.name))}let l=i.select(".bar-group");0===i.selectAll("rect.bar").size()&&Object.keys(n).forEach((t=>{l.select(`.${t}-group`).selectAll("rect.bar").data(n[t].slice(0,3)).join("rect").attr("class",((t,e)=>`bar ${o[e]}`)).attr("y",((t,e)=>18*e+Do)).attr("width",(t=>s(t))).attr("height",bo),l.select(`.${t}-group`).selectAll("text.bar").data(n[t].slice(0,3)).join("text").attr("class",((t,e)=>`bar-label ${o[e]}`)).attr("x",3).attr("y",((t,e)=>18*e+9+Do+1)).text((t=>Qr(t,4)))})),Object.keys(n).forEach((t=>{for(let e=0;e<3;e++)l.select(`.${t}-group`).select(`rect.bar.${o[e]}`).transition("update-metric").duration(200).attr("width",s(n[t][e])),l.select(`.${t}-group`).select(`text.bar-label.${o[e]}`).text(null===n[t][e]||isNaN(n[t][e])?"NA":Qr(n[t][e],4))}))})(s,l,A,g),((t,e,a,n)=>{let A=sr.select(a).select(".bar-svg").select(".bar-group");if(A.select(".confusion-matrix-content").empty()){let a=A.select(".confusionMatrix-group").append("g").attr("class","confusion-matrix-content").attr("transform","translate(0, 22)");const n=6,i=20,r=14,s=40,o=(t-e.left-e.right-n-s)/4,l=2*o,c=(t,e)=>{t.selectAll("rect.matrix-element").data(e).join("rect").attr("class",(t=>`matrix-element ${t.group}`)).attr("x",(t=>t.x)).attr("y",(t=>t.y)).attr("width",(t=>t.width)).attr("height",i),t.selectAll("text.matrix-label").data(e).join("text").attr("class",(t=>`matrix-label ${t.group}`)).attr("x",(t=>t.x+t.width/2)).attr("y",(t=>t.y+i/2+1)).text("32")},g=[{x:0,y:0,width:o,group:"original"},{x:o,y:0,width:o,group:"last"},{x:0,y:i,width:l,group:"current"}],u=[{x:0,y:i,width:o,group:"original"},{x:o,y:i,width:o,group:"last"},{x:0,y:0,width:l,group:"current"}];let d=a.append("g").attr("class","matrix-group-tp").attr("transform","translate(0, 0)");d.append("text").attr("class","matrix-explanation").text("Predicted Yes"),d.append("g","matrix-element").attr("transform",`translate(0, ${r})`).call(c,g),d=a.append("g").attr("class","matrix-group-fp").attr("transform",`translate(${l+n}, 0)`),d.append("text").attr("class","matrix-explanation").text("Predicted No");let h=d.append("text").attr("class","matrix-explanation dominant-middle").attr("y",i+r-r/2+2);h.append("tspan").attr("class","dominant-middle").attr("x",l+3).attr("dy",0).text("Actual"),h.append("tspan").attr("class","dominant-middle").attr("x",l+3).attr("dy","1em").text("Yes"),d.append("g","matrix-element").attr("transform",`translate(0, ${r})`).call(c,g),d=a.append("g").attr("class","matrix-group-fn").attr("transform",`translate(0, ${2*i+n+r})`),d.append("g","matrix-element").attr("transform","translate(0, 0)").call(c,u),d=a.append("g").attr("class","matrix-group-tn").attr("transform",`translate(${l+n}, ${2*i+n+r})`),h=d.append("text").attr("class","matrix-explanation dominant-middle").attr("y",i-r/2+2),h.append("tspan").attr("class","dominant-middle").attr("x",l+3).attr("dy",0).text("Actual"),h.append("tspan").attr("class","dominant-middle").attr("x",l+3).attr("dy","1em").text("No"),d.append("g","matrix-element").attr("transform","translate(0, 0)").call(c,u)}let i=A.select(".confusion-matrix-content");Object.keys(n).forEach((t=>{let e=["original","last","current"];for(let a=0;a<e.length;a++){let A,r=e[a];A=null===n[t][a]?"NA":n[t][a],i.select(`.matrix-group-${t}`).select(`.matrix-label.${r}`).text(A)}}))})(s,l,A,c)):((t,e,a,n)=>{const A=t-e.left-e.right;let i=sr.select(a).select(".bar-svg");const r=[{name:"rmse",text:"RMSE",title:"Root Mean Squared Error"},{name:"mae",text:"MAE",title:"Mean Absolute Error"},{name:"mape",text:"MAPE",title:"Mean Absolute Percentage Error"}],s=["original","last","current"];if(0===i.select(".bar-group").size()){let t=i.append("g").attr("class","bar-group").attr("transform","translate(0, 10)"),a=t.selectAll("g.bar").data(r).join("g").attr("class",(t=>`bar ${t.name}-group`)).attr("transform",((t,a)=>`translate(${e.left}, ${104*a})`));a.append("text").attr("class","metric-title").text((t=>t.text)),a.append("path").attr("d",`M 0, 92 L ${A}, 92`).style("stroke","hsla(0, 0%, 0%, 0.2)").style("visibility",(t=>"confusionMatrix"===t.name?"hidden":"show"));const n=[{name:"origin",class:"original",title:"Metrics of the original graph",width:42,x:0},{name:"last",class:"last",title:"Metrics of the last edit",width:28,x:47},{name:"current",class:"current",title:"Metrics of the current graph",width:50,x:80}];let s=t.select(`g.${r[0].name}-group`).selectAll("g.legend-item").data(n).join("g").style("cursor","default").attr("transform",(t=>`translate(${60+t.x}, 0)`));s.append("title").text((t=>t.title)),s.append("rect").attr("width",(t=>t.width)).attr("height",16).attr("rx",3).attr("class",(t=>t.class)),s.append("text").attr("class","legend-title").attr("y",2).attr("x",(t=>t.width/2)).text((t=>t.name));let o=t.append("g").attr("class","metric-legend").attr("transform",`translate(${e.left},\n        318)`),l=o.append("text").style("dominant-baseline","hanging").style("font-size","0.85em").attr("x",0).attr("y",0);l.append("tspan").attr("x",0).attr("dy",0).style("font-weight",600).text("RMSE: "),l.append("tspan").text("Root Mean Squared Error"),l.append("tspan").attr("dy","1.1em").attr("x",0).style("fill","hsl(0, 0%, 60%)").text("Penalize larger errors");let c=o.append("text").attr("x",0).attr("y",52).style("font-size","0.85em");c.append("tspan").attr("x",0).attr("dy",0).style("font-weight",600).text("MAE: "),c.append("tspan").text("Mean Absolute Error"),c.append("tspan").attr("dy","1.1em").attr("x",0).style("fill","hsl(0, 0%, 60%)").text("Weight all errors equally");let g=o.append("text").attr("x",0).attr("y",83).style("dominant-baseline","hanging").style("font-size","0.85em");g.append("tspan").attr("x",0).attr("dy",0).style("font-weight",600).text("MAPE: "),g.append("tspan").text("Mean Abs Percentage Err"),g.append("tspan").attr("dy","1.1em").attr("x",0).style("fill","hsl(0, 0%, 60%)").text("Insensitive to the unit of errors")}let o=i.select(".bar-group");0===i.selectAll("rect.bar").size()&&Object.keys(n).forEach((a=>{const A=n[a][0]/38.197*100;Mo[a]=sr.scaleLinear().domain([0,A]).range([0,t-e.left-e.right]).unknown(25).clamp(!0),o.select(`.${a}-group`).selectAll("rect.bar").data(n[a].slice(0,3)).join("rect").attr("class",((t,e)=>`bar ${s[e]}`)).attr("y",((t,e)=>18*e+Do)).attr("width",(t=>Mo[a](t))).attr("height",bo),o.select(`.${a}-group`).selectAll("text.bar").data(n[a].slice(0,3)).join("text").attr("class",((t,e)=>`bar-label ${s[e]}`)).attr("x",3).attr("y",((t,e)=>18*e+9+Do+1)).text((t=>Qr(t,4)))})),Object.keys(n).forEach((t=>{for(let e=0;e<3;e++)o.select(`.${t}-group`).select(`rect.bar.${s[e]}`).transition("update-metric").duration(200).attr("width",Mo[t](n[t][e])),o.select(`.${t}-group`).select(`text.bar-label.${s[e]}`).text(null===n[t][e]||isNaN(n[t][e])?"NA":Qr(n[t][e],4))}))})(s,l,A,g))}));return t.$$set=t=>{"sidebarStore"in t&&a(5,n=t.sidebarStore)},[A,i,r,h,()=>{a(2,r.curGroup="sliceClicked",r),a(2,r.effectScope="slice",r);let t=i.options[i.selectedIndex];"slice"===t.value?(a(2,r.curGroup="globalClicked",r),a(2,r.effectScope="global",r)):a(2,r.sliceInfo={featureID:parseInt(t.value),level:parseInt(t.dataset.level)},r),n.set(r)},n,()=>h("global"),()=>h("selected"),function(t){Z[t?"unshift":"push"]((()=>{i=t,a(1,i)}))},()=>h("slice"),function(t){Z[t?"unshift":"push"]((()=>{A=t,a(0,A)}))}]}class Go extends xt{constructor(t){super(),vt(this,t,So,ko,r,{sidebarStore:5})}}function No(t){let e;return{c(){e=Q("div"),D(e,"class","svg-icon icon-two svelte-cqx12v")},m(t,a){E(t,e,a)},d(t){t&&m(e)}}}function Ro(t){let e;return{c(){e=Q("div"),D(e,"class","svg-icon icon-one svelte-cqx12v")},m(t,a){E(t,e,a)},d(t){t&&m(e)}}}function Fo(t){let e,a,n;return{c(){e=w("Drop a "),a=Q("u"),a.textContent="sample data file",n=w(" (.json) file here to start")},m(t,A){E(t,e,A),E(t,a,A),E(t,n,A)},d(t){t&&m(e),t&&m(a),t&&m(n)}}}function Yo(t){let e,a,n,A,i;return{c(){e=w("Drop a "),a=Q("u"),a.textContent="model file",n=w(" (.json) or a "),A=Q("u"),A.textContent="GAM Changer document",i=w(" (.gamchanger) here to start")},m(t,r){E(t,e,r),E(t,a,r),E(t,n,r),E(t,A,r),E(t,i,r)},d(t){t&&m(e),t&&m(a),t&&m(n),t&&m(A),t&&m(i)}}}function $o(e){let a,n,i,r,s,o,l,c,g,u,d,h,p;function f(t,e){return"modelData"===t[0]?Ro:No}let I=f(e),B=I(e);function y(t,e){return"modelData"===t[0]?Yo:Fo}let x=y(e),M=x(e);return{c(){a=Q("div"),n=Q("div"),B.c(),i=v(),r=Q("div"),M.c(),s=v(),o=Q("div"),o.innerHTML='<a href="https://gist.github.com/xiaohk/875b5374840c66689eb42a4b8820c3b5" target="_blank" class="svelte-cqx12v">How to generate this file?</a>',l=v(),c=Q("span"),g=w(e[4]),u=v(),d=Q("input"),D(r,"class","drop-message svelte-cqx12v"),D(o,"class","help-message svelte-cqx12v"),D(c,"class","error-message svelte-cqx12v"),D(d,"accept","json"),D(d,"type","file"),D(d,"autocomplete","off"),S(d,"display","none"),D(n,"class","dropzone svelte-cqx12v"),G(n,"drag-over",e[3]),D(a,"class","dropzone-tab svelte-cqx12v")},m(t,A){E(t,a,A),C(a,n),B.m(n,null),C(n,i),C(n,r),M.m(r,null),C(n,s),C(n,o),C(n,l),C(n,c),C(c,g),C(n,u),C(n,d),e[13](d),e[14](a),h||(p=[b(o,"click",jo),b(d,"change",e[10]),b(d,"click",e[11]),b(n,"click",e[5]),b(n,"dragenter",e[6]),b(n,"dragover",e[7]),b(n,"dragleave",e[8]),b(n,"drop",e[9])],h=!0)},p(t,[e]){I!==(I=f(t))&&(B.d(1),B=I(t),B&&(B.c(),B.m(n,i))),x!==(x=y(t))&&(M.d(1),M=x(t),M&&(M.c(),M.m(r,null))),16&e&&k(g,t[4]),8&e&&G(n,"drag-over",t[3])},i:t,o:t,d(t){t&&m(a),B.d(),M.d(),e[13](null),e[14](null),h=!1,A(p)}}}const jo=t=>{t.stopPropagation()};function Uo(t,e,a){let{dataType:n="sampleData"}=e,{sidebarStore:A}=e,i=null,r=null,s=!1,o=null,l=" ";const c=t=>t.replaceAll("black","currentcolor").replaceAll("fill:none","fill:currentcolor").replaceAll("stroke:none","fill:currentcolor"),g=async t=>{let e="gamchanger"===wr(t)[1];if("application/json"!==t.type&&!e)return a(4,l="It is not a JSON file"),!1;let A=await(t=>new Promise(((e,a)=>{let n=new FileReader;n.onload=()=>{e(JSON.parse(n.result))},n.onerror=a,n.readAsText(t)})))(t),i=!1;return"sampleData"===n&&(i=void 0!==A.featureNames&&void 0!==A.featureTypes&&void 0!==A.samples&&void 0!==A.labels),"modelData"===n&&(i=void 0!==A.intercept&&void 0!==A.features&&void 0!==A.labelEncoder&&void 0!==A.scoreRange),e&&(i=void 0!==A.modelData&&void 0!==A.sampleData),i?A:(a(4,l=e?"Not a valid .gamchanger document file":`Not a valid ${"sampleData"===n?"sample data":"model data"} file`),!1)};return z((()=>{sr.select(i).selectAll(".svg-icon.icon-one").html(c('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 497 497" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <g transform="matrix(1,0,0,1,-7164,-3762)">        <g transform="matrix(2.6436,0,0,3.65236,-5556.31,295.649)">            <g transform="matrix(0.378272,0,0,0.273795,2101.8,-80.9473)">                <path d="M7412.21,3762.73C7549.09,3762.73 7660.21,3873.86 7660.21,4010.73C7660.21,4147.61 7549.09,4258.73 7412.21,4258.73C7275.34,4258.73 7164.21,4147.61 7164.21,4010.73C7164.21,3873.86 7275.34,3762.73 7412.21,3762.73ZM7401.13,4163.11L7464.28,4163.11L7464.28,3858.35L7400.92,3858.35L7322.15,3913.05L7322.15,3969.65L7399.86,3916.86L7401.13,3916.86L7401.13,4163.11Z"/>            </g>        </g>    </g></svg>')),sr.select(i).selectAll(".svg-icon.icon-two").html(c('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 497 497" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <g transform="matrix(1,0,0,1,-7727,-3762)">        <g transform="matrix(2.6436,0,0,3.65236,-5556.31,295.649)">            <g transform="matrix(0.378272,0,0,0.273795,2100.16,-80.9473)">                <path d="M7979.79,3762.73C8116.67,3762.73 8227.79,3873.86 8227.79,4010.73C8227.79,4147.61 8116.67,4258.73 7979.79,4258.73C7842.92,4258.73 7731.79,4147.61 7731.79,4010.73C7731.79,3873.86 7842.92,3762.73 7979.79,3762.73ZM7870.82,4165.75L8092.36,4165.75L8092.36,4115.06L7954.24,4115.06L7954.24,4112.53L8018.02,4054.24C8070.61,4005.87 8088.14,3981.8 8088.14,3944.84L8088.14,3944.42C8088.14,3892.46 8043.78,3855.71 7979.37,3855.71C7914.95,3855.71 7867.23,3896.05 7867.23,3953.5L7867.23,3955.19L7926.36,3955.19L7926.57,3953.29C7927.42,3925.83 7948.53,3905.35 7979.79,3905.35C8006.82,3905.35 8025.83,3923.09 8026.04,3948.01L8026.04,3948.43C8026.04,3969.55 8017.81,3984.54 7978.53,4021.29L7870.82,4122.03L7870.82,4165.75Z"/>            </g>        </g>    </g></svg>'))})),t.$$set=t=>{"dataType"in t&&a(0,n=t.dataType),"sidebarStore"in t&&a(12,A=t.sidebarStore)},[n,i,r,s,l,()=>{r.click()},t=>{t.preventDefault(),a(3,s=!0),o=t.target},t=>{t.preventDefault()},t=>{t.preventDefault(),o===t.target&&a(3,s=!1)},async t=>{t.preventDefault();let e=!1,i=null;if(t.dataTransfer.items?"file"===t.dataTransfer.items[0].kind&&(i=t.dataTransfer.items[0].getAsFile(),e=await g(i)):(i=t.dataTransfer.files[0],e=await g(i)),!e)return;const r="gamchanger"===wr(i)[1];A.update((t=>(t.curGroup=r?"gamchangerCreated":`${n}Created`,t.loadedData=e,t))),a(3,s=!1)},async t=>{t.preventDefault();let e=!1,a=t.target.files[0];e=await g(a),e&&A.update((t=>(t.curGroup=`${n}Created`,t.loadedData=e,t)))},()=>{console.log("input clicked")},A,function(t){Z[t?"unshift":"push"]((()=>{r=t,a(2,r)}))},function(t){Z[t?"unshift":"push"]((()=>{i=t,a(1,i)}))}]}class Ho extends xt{constructor(t){super(),vt(this,t,Uo,$o,r,{dataType:0,sidebarStore:12})}}function Jo(t){const e=t-1;return e*e*e+1}function _o(t,e,a={}){const n=getComputedStyle(t),A="none"===n.transform?"":n.transform,r=e.from.width/t.clientWidth,s=e.from.height/t.clientHeight,o=(e.from.left-e.to.left)/r,l=(e.from.top-e.to.top)/s,c=Math.sqrt(o*o+l*l),{delay:g=0,duration:u=(t=>120*Math.sqrt(t)),easing:d=Jo}=a;return{delay:g,duration:i(u)?u(c):u,easing:d,css:(t,e)=>`transform: ${A} translate(${e*o}px, ${e*l}px);`}}function To(t,e,a){const n=t.slice();return n[19]=e[a],n}function zo(t,e,a){const n=t.slice();return n[19]=e[a],n}function Oo(e,a){let n,A,i,r,s,o,l=t;return{key:e,first:null,c(){n=Q("div"),A=y("svg"),r=v(),D(A,"id",i=`cont-feature-svg-${a[19].id}`),D(A,"width",a[0]),D(A,"height",Xo),D(n,"class",s=c(`feature feature-${a[19].id}`)+" svelte-whckx4"),D(n,"style",`height: ${Xo}px;`),this.first=n},m(t,e){E(t,n,e),C(n,A),C(n,r)},p(t,e){a=t,8&e&&i!==(i=`cont-feature-svg-${a[19].id}`)&&D(A,"id",i),1&e&&D(A,"width",a[0]),8&e&&s!==(s=c(`feature feature-${a[19].id}`)+" svelte-whckx4")&&D(n,"class",s)},r(){o=n.getBoundingClientRect()},f(){J(n),l()},a(){l(),l=H(n,o,_o,{duration:800})},d(t){t&&m(n)}}}function Po(e,a){let n,A,i,r,s,o,l=t;return{key:e,first:null,c(){n=Q("div"),A=y("svg"),r=v(),D(A,"id",i=`cat-feature-svg-${a[19].id}`),D(A,"width",a[0]),D(A,"height",Xo),D(n,"class",s=c(`feature feature-${a[19].id}`)+" svelte-whckx4"),D(n,"style",`height: ${Xo}px;`),this.first=n},m(t,e){E(t,n,e),C(n,A),C(n,r)},p(t,e){a=t,16&e&&i!==(i=`cat-feature-svg-${a[19].id}`)&&D(A,"id",i),1&e&&D(A,"width",a[0]),16&e&&s!==(s=c(`feature feature-${a[19].id}`)+" svelte-whckx4")&&D(n,"class",s)},r(){o=n.getBoundingClientRect()},f(){J(n),l()},a(){l(),l=H(n,o,_o,{duration:800})},d(t){t&&m(n)}}}function Ko(e){let a,n,i,r,s,o,l,c,g,u,d,h,p,f,I,B,y=[],w=new Map,x=[],M=new Map,k=e[3];const L=t=>t[19].id;for(let t=0;t<k.length;t+=1){let a=zo(e,k,t),n=L(a);w.set(n,y[t]=Oo(n,a))}let S=e[4];const N=t=>t[19].id;for(let t=0;t<S.length;t+=1){let a=To(e,S,t),n=N(a);M.set(n,x[t]=Po(n,a))}return{c(){a=Q("div"),n=Q("div"),i=Q("div"),r=Q("button"),r.innerHTML='<span class="is-small">Continuous</span>',s=v(),o=Q("div"),l=Q("button"),l.innerHTML='<span class="is-small">Categorical</span>',c=v(),g=Q("div"),u=Q("div"),u.innerHTML='<svg id="legend"></svg>',d=v(),h=Q("div");for(let t=0;t<y.length;t+=1)y[t].c();p=v(),f=Q("div");for(let t=0;t<x.length;t+=1)x[t].c();D(r,"class","button svelte-whckx4"),D(r,"title","show continuous variables"),G(r,"selected","cont"===e[1]),D(i,"class","control"),D(l,"class","button svelte-whckx4"),D(l,"title","show categorical variables"),G(l,"selected","cat"===e[1]),D(o,"class","control"),D(n,"class","scope-selection field has-addons svelte-whckx4"),D(u,"class","feature-legend svelte-whckx4"),D(h,"class","feature-cont svelte-whckx4"),G(h,"hidden","cont"!==e[1]),D(f,"class","feature-cat svelte-whckx4"),G(f,"hidden","cat"!==e[1]),D(g,"class","feature-list svelte-whckx4"),D(a,"class","feature-tab svelte-whckx4")},m(t,A){E(t,a,A),C(a,n),C(n,i),C(i,r),C(n,s),C(n,o),C(o,l),C(a,c),C(a,g),C(g,u),C(g,d),C(g,h);for(let t=0;t<y.length;t+=1)y[t].m(h,null);C(g,p),C(g,f);for(let t=0;t<x.length;t+=1)x[t].m(f,null);e[8](a),I||(B=[b(r,"click",e[6]),b(l,"click",e[7])],I=!0)},p(t,[e]){if(2&e&&G(r,"selected","cont"===t[1]),2&e&&G(l,"selected","cat"===t[1]),9&e){k=t[3];for(let t=0;t<y.length;t+=1)y[t].r();y=Bt(y,e,L,1,t,k,w,h,It,Oo,null,zo);for(let t=0;t<y.length;t+=1)y[t].a()}if(2&e&&G(h,"hidden","cont"!==t[1]),17&e){S=t[4];for(let t=0;t<x.length;t+=1)x[t].r();x=Bt(x,e,N,1,t,S,M,f,It,Po,null,To);for(let t=0;t<x.length;t+=1)x[t].a()}2&e&&G(f,"hidden","cat"!==t[1])},i:t,o:t,d(t){t&&m(a);for(let t=0;t<y.length;t+=1)y[t].d();for(let t=0;t<x.length;t+=1)x[t].d();e[8](null),I=!1,A(B)}}}const Xo=40;function Zo(t,e,a){let{sidebarStore:n}=e,{width:A=0}=e,i=null,r="cont",s={},o=!1,l=!1,c=0;const g={top:2,bottom:2,left:10,right:10},u=g;let d=0,h=[],p=[],f=null;z((()=>{c=i.getBoundingClientRect().height;let t=sr.select(i).select(".feature-list").node(),e=t.offsetWidth-t.clientWidth;console.log(`effect tab: [${A}, ${c}, ${e}]`),a(0,A-=e)})),O((()=>{const t=s.totalSampleNum;l&&(((t,e,a)=>{let n=sr.select(t).select("svg#legend").attr("width",e).attr("height",42),A=n.append("g").attr("class","left").attr("transform",`translate(${a.left}, 10)`),i=n.append("g").attr("class","right").attr("transform",`translate(${a.left+170}, 6)`);A.append("text").attr("x",0).attr("y",0).style("dominant-baseline","hanging").style("font-size","0.9em").style("font-weight",600).text("Frequency Distributions").append("tspan").style("font-size","0.9em").style("font-weight",400).style("fill","gray").style("dominant-baseline","hanging").attr("x",0).attr("y",0).attr("dy","1.1em").text("Sorted by correlation ↓"),i.append("rect").attr("width",48).attr("height",16).attr("rx",3).style("fill","#B5CEE3"),i.append("text").attr("class","legend-title").attr("y",2).attr("x",24).text("all"),i.append("rect").attr("y",20).attr("width",48).attr("height",16).attr("rx",3).style("fill","#FFD499"),i.append("text").attr("class","legend-title").attr("y",22).attr("x",24).text("select")})(i,A,g),h.forEach((e=>{((t,e,a,n,A,i,r)=>{let s=sr.select(t).select(`.feature-${e.id}`).select("svg"),o=s.append("g").attr("class","low-content").attr("transform",`translate(${a.left}, ${a.top})`),l=s.append("g").attr("class","mid-content").attr("transform",`translate(${a.left}, ${a.top})`);s.append("g").attr("class","top-content").attr("transform",`translate(${a.left}, ${a.top})`).append("text").attr("class","feature-title").attr("x",0).text(e.name);let c=e.histCount.map(((t,a)=>[e.histEdge[a],t/n])),g=(A-a.left-a.right)/e.histEdge.length,u=sr.scaleLinear().domain(sr.extent(e.histEdge)).range([0,A-a.left-a.right-g]),d=u(e.histEdge[1])-u(e.histEdge[0]),h=sr.scaleLinear().domain([0,sr.max(c,(t=>t[1]))]).range([i-a.bottom,a.top+r]);o.selectAll("rect.global-bar").data(c).join("rect").attr("class","global-bar").attr("x",(t=>u(t[0]))).attr("y",(t=>h(t[1]))).attr("width",d).attr("height",(t=>i-a.bottom-h(t[1])));let p=new Array(e.histCount.length).fill(0);const f=0===sr.max(p)?1:sr.max(p);let C=sr.scaleLinear().domain([0,f]).range([i-a.bottom,a.top+r]);l.selectAll("rect.selected-bar").data(p).join("rect").attr("class","selected-bar").attr("x",((t,a)=>u(e.histEdge[a]))).attr("y",(t=>C(t))).attr("width",d).attr("height",(t=>i-a.bottom-C(t)))})(i,e,u,t,A,Xo,10)})),d=(A-g.left-g.right)/sr.max(p,(t=>t.histCount.length)),p.forEach((e=>{((t,e,a,n,A,i,r,s,o)=>{let l=sr.select(t).select(`.feature-${e.id}`).select("svg"),c=l.append("g").attr("class","low-content").attr("transform",`translate(${a.left}, ${a.top})`),g=l.append("g").attr("class","mid-content").attr("transform",`translate(${a.left}, ${a.top})`),u=l.append("g").attr("class","top-content").attr("transform",`translate(${a.left}, ${a.top})`),d=e.histEdge.map(((t,a)=>({edge:e.histEdge[a],label:o[e.name][e.histEdge[a]],count:e.histCount[a],density:e.histCount[a]/n,selectedCount:0,selectedDensity:0}))),h=sr.scaleBand().domain(d.map((t=>t.edge))).paddingInner(.1).range([0,A-a.left-a.right]),p=sr.scaleLinear().domain([0,sr.max(d,(t=>t.density))]).range([r-a.bottom,a.top+s]);u.append("text").datum(e.name).attr("class","feature-title").attr("x",h(d[0].edge)).text((t=>t)),c.selectAll("rect.base-bar").data(d).join("rect").attr("class","base-bar").attr("x",(t=>h(t.edge))).attr("y",r-a.bottom-1).attr("width",h.bandwidth()).attr("height",1).style("fill","hsl(0, 0%, 95%)"),c.selectAll("rect.global-bar").data(d).join("rect").attr("class","global-bar").attr("x",(t=>h(t.edge))).attr("y",(t=>p(t.density))).attr("width",h.bandwidth()).attr("height",(t=>r-a.bottom-p(t.density))).on("mouseenter",(t=>{let e=sr.select(t.target).datum().label;sr.select(t.target.parentNode.parentNode).select(".top-content .feature-title").text((t=>t+": "+e))})).on("mouseleave",(t=>{sr.select(t.target.parentNode.parentNode).select(".top-content .feature-title").text((t=>t))}));let f=sr.scaleLinear().domain([0,1]).range([r-a.bottom,a.top+s]);g.selectAll("rect.selected-bar").data(d).join("rect").attr("class","selected-bar").attr("x",(t=>h(t.edge))).attr("y",(t=>f(t.selectedDensity))).attr("width",h.bandwidth()).attr("height",(t=>r-a.bottom-f(t.selectedDensity))).on("mouseenter",(t=>{let e=sr.select(t.target).datum().label;sr.select(t.target.parentNode.parentNode).select(".top-content .feature-title").text((t=>t+": "+e))})).on("mouseleave",(t=>{sr.select(t.target.parentNode.parentNode).select(".top-content .feature-title").text((t=>t))}))})(i,e,g,t,A,0,Xo,10,f)})),l=!1)})),n.subscribe((t=>{if(s=t,void 0===s.featurePlotData||o||(o=!0,a(3,h=s.featurePlotData.cont),a(4,p=s.featurePlotData.cat),f=s.featurePlotData.labelEncoder,l=!0),"updateFeature"===s.curGroup&&o){let t=s.featurePlotData.cont,e=s.featurePlotData.cat;const A=h[0].histSelectedCount.reduce(((t,e)=>t+e)),r=h[0].histCount.reduce(((t,e)=>t+e));let o=!1;t.forEach((t=>{o=((t,e,a,n,A,i,r)=>{let s=sr.select(t).select(`svg#cont-feature-svg-${e.id}`),o=e.histSelectedCount.map((t=>0===a?0:t/a)),l=e.histCount.map((t=>t/n));e.distanceScore=yr(l,o);const c=0===sr.max(o)?1:sr.max(o),g=0!==sr.max(o);let u=sr.scaleLinear().domain([0,c]).range([A-i.bottom,i.top+r]);return s.select("g.mid-content").selectAll("rect.selected-bar").data(o).join("rect").transition("bar").duration(500).attr("y",(t=>u(t))).attr("height",(t=>A-i.bottom-u(t))),g})(i,t,A,r,Xo,u,10)})),o?sr.timeout((()=>{t.sort(((t,e)=>e.distanceScore-t.distanceScore)),a(3,h=t)}),700):a(3,h=t),o=!1,e.forEach((t=>{o=((t,e,a,n,A,i,r,s)=>{let o=sr.select(t).select(`#cat-feature-svg-${e.id}`),l=e.histEdge.map(((t,n)=>({edge:e.histEdge[n],label:s[e.name][e.histEdge[n]],count:e.histCount[n],selectedCount:e.histSelectedCount[n],selectedDensity:0===a?0:e.histSelectedCount[n]/a}))),c=l.map((t=>t.selectedDensity)),g=l.map((t=>t.count/n));e.distanceScore=yr(g,c);const u=0===sr.max(l,(t=>t.selectedDensity))?1:sr.max(l,(t=>t.selectedDensity)),d=0!==sr.max(l,(t=>t.selectedDensity));let h=sr.scaleLinear().domain([0,u]).range([A-i.bottom,i.top+r]);return o.select("g.mid-content").selectAll("rect.selected-bar").data(l,(t=>t.edge)).join("rect").transition("cont-bar").duration(500).attr("y",(t=>h(t.selectedDensity))).attr("height",(t=>A-i.bottom-h(t.selectedDensity))),d})(i,t,A,r,Xo,g,10,f)})),o?sr.timeout((()=>{e.sort(((t,e)=>e.distanceScore-t.distanceScore)),a(4,p=e)}),700):a(4,p=e),s.curGroup="",n.set(s)}}));return t.$$set=t=>{"sidebarStore"in t&&a(5,n=t.sidebarStore),"width"in t&&a(0,A=t.width)},t.$$.update=()=>{t.$$.dirty},[A,r,i,h,p,n,()=>{a(1,r="cont")},()=>{a(1,r="cat")},function(t){Z[t?"unshift":"push"]((()=>{i=t,a(2,i)}))}]}class qo extends xt{constructor(t){super(),vt(this,t,Zo,Ko,r,{sidebarStore:5,width:0})}}function Wo(t,{delay:e=0,duration:a=400,easing:n=Jo,x:A=0,y:i=0,opacity:r=0}={}){const s=getComputedStyle(t),o=+s.opacity,l="none"===s.transform?"":s.transform,c=o*(1-r);return{delay:e,duration:a,easing:n,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*A}px, ${(1-t)*i}px);\n\t\t\topacity: ${o-c*e}`}}function Vo(t,{delay:e=0,duration:a=400,easing:n=Jo}={}){const A=getComputedStyle(t),i=+A.opacity,r=parseFloat(A.height),s=parseFloat(A.paddingTop),o=parseFloat(A.paddingBottom),l=parseFloat(A.marginTop),c=parseFloat(A.marginBottom),g=parseFloat(A.borderTopWidth),u=parseFloat(A.borderBottomWidth);return{delay:e,duration:a,easing:n,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*i};height: ${t*r}px;padding-top: ${t*s}px;padding-bottom: ${t*o}px;margin-top: ${t*l}px;margin-bottom: ${t*c}px;border-top-width: ${t*g}px;border-bottom-width: ${t*u}px;`}}function tl(t,e,a){const n=t.slice();return n[21]=e[a],n[22]=e,n[23]=a,n}function el(t){let e;return{c(){e=w(" (HEAD)")},m(t,a){E(t,e,a)},d(t){t&&m(e)}}}function al(t){let e,a,n,i,r,s,o,l,g,u,d,h,p,f,I,B,y,x,M,L,N,R,F,Y,$,j,U,H,J,_,T,z,O,P,K,X,Z,q,W=t[21].featureName+"",V=t[5](t[21].time)+"",tt=t[21].hash.substring(0,7)+"";function at(){t[12].call(I,t[22],t[23])}let nt=0===t[23]&&function(t){let e;return{c(){e=Q("div"),e.innerHTML='<div class="svg-icon icon-pen svelte-1p0w89"></div>',D(e,"class","commit-pen svelte-1p0w89")},m(t,a){E(t,e,a)},d(t){t&&m(e)}}}(),At=t[2].historyHead===t[23]&&el();function it(){return t[13](t[21])}function rt(){return t[14](t[23])}function st(){return t[15](t[23])}function ot(){return t[16](t[23])}return{c(){e=Q("div"),a=Q("div"),n=Q("div"),i=w(W),r=v(),s=Q("div"),o=w(V),l=v(),g=Q("div"),u=Q("div"),d=Q("div"),f=v(),I=Q("span"),B=v(),nt&&nt.c(),y=v(),x=Q("div"),M=Q("div"),L=w(tt),N=v(),At&&At.c(),F=v(),Y=Q("div"),$=Q("div"),$.innerHTML='<div class="svg-icon icon-box svelte-1p0w89"></div>',j=v(),U=Q("div"),U.innerHTML='<div class="svg-icon icon-thumbup svelte-1p0w89"></div>',H=v(),J=Q("div"),_=v(),T=Q("div"),z=v(),O=Q("div"),P=v(),D(n,"class","commit-feature svelte-1p0w89"),G(n,"current",t[2].featureName===t[21].featureName),D(s,"class","commit-time svelte-1p0w89"),D(a,"class","commit-title svelte-1p0w89"),D(d,"class",h=c(`svg-icon ${t[4][t[21].type]}`)+" svelte-1p0w89"),D(d,"title",p=t[21].type),G(d,"current",t[2].featureName===t[21].featureName),D(u,"class","commit-icon svelte-1p0w89"),D(I,"class","commit-message svelte-1p0w89"),D(I,"contenteditable",""),void 0===t[21].description&&et(at),D(g,"class","commit-content svelte-1p0w89"),D(M,"class","commit-hash svelte-1p0w89"),D(M,"title",R="copy hash: "+t[21].hash),D($,"class","checkbox-box svelte-1p0w89"),G($,"hidden",t[21].reviewed),D(U,"class","checkbox-check svelte-1p0w89"),G(U,"hidden",!t[21].reviewed),D(Y,"class","commit-checkbox svelte-1p0w89"),D(Y,"title","confirm"),D(J,"class","svg-icon icon-location selected svelte-1p0w89"),D(J,"title","current"),S(J,"cursor","default"),G(J,"hidden",t[2].historyHead!==t[23]),D(T,"class","svg-icon icon-right-arrow svelte-1p0w89"),D(T,"title","check out"),G(T,"hidden",t[2].historyHead===t[23]),G(T,"disabled",t[2].featureName!==t[21].featureName),D(O,"class","svg-icon icon-commit-delete svelte-1p0w89"),D(O,"title","delete"),G(O,"disabled","original"===t[21].type),D(x,"class","commit-bar svelte-1p0w89"),D(e,"class","commit svelte-1p0w89"),G(e,"current",t[2].featureName===t[21].featureName)},m(A,c){E(A,e,c),C(e,a),C(a,n),C(n,i),C(a,r),C(a,s),C(s,o),C(e,l),C(e,g),C(g,u),C(u,d),C(g,f),C(g,I),void 0!==t[21].description&&(I.innerHTML=t[21].description),C(g,B),nt&&nt.m(g,null),C(e,y),C(e,x),C(x,M),C(M,L),C(M,N),At&&At.m(M,null),C(x,F),C(x,Y),C(Y,$),C(Y,j),C(Y,U),C(x,H),C(x,J),C(x,_),C(x,T),C(x,z),C(x,O),C(e,P),X=!0,Z||(q=[b(I,"input",at),b(M,"click",it),b(Y,"click",rt),b(T,"click",st),b(O,"click",ot)],Z=!0)},p(a,A){t=a,(!X||2&A)&&W!==(W=t[21].featureName+"")&&k(i,W),6&A&&G(n,"current",t[2].featureName===t[21].featureName),(!X||2&A)&&V!==(V=t[5](t[21].time)+"")&&k(o,V),(!X||2&A&&h!==(h=c(`svg-icon ${t[4][t[21].type]}`)+" svelte-1p0w89"))&&D(d,"class",h),(!X||2&A&&p!==(p=t[21].type))&&D(d,"title",p),6&A&&G(d,"current",t[2].featureName===t[21].featureName),2&A&&t[21].description!==I.innerHTML&&(I.innerHTML=t[21].description),(!X||2&A)&&tt!==(tt=t[21].hash.substring(0,7)+"")&&k(L,tt),t[2].historyHead===t[23]?At||(At=el(),At.c(),At.m(M,null)):At&&(At.d(1),At=null),(!X||2&A&&R!==(R="copy hash: "+t[21].hash))&&D(M,"title",R),2&A&&G($,"hidden",t[21].reviewed),2&A&&G(U,"hidden",!t[21].reviewed),4&A&&G(J,"hidden",t[2].historyHead!==t[23]),4&A&&G(T,"hidden",t[2].historyHead===t[23]),6&A&&G(T,"disabled",t[2].featureName!==t[21].featureName),2&A&&G(O,"disabled","original"===t[21].type),6&A&&G(e,"current",t[2].featureName===t[21].featureName)},i(t){X||(et((()=>{K||(K=Ct(e,Vo,{duration:300},!0)),K.run(1)})),X=!0)},o(t){K||(K=Ct(e,Vo,{duration:300},!1)),K.run(0),X=!1},d(t){t&&m(e),nt&&nt.d(),At&&At.d(),t&&K&&K.end(),Z=!1,A(q)}}}function nl(t){let e,a,n,A,i,r,s,o=t[1],l=[];for(let e=0;e<o.length;e+=1)l[e]=al(tl(t,o,e));const c=t=>pt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=Q("div"),a=Q("div"),n=v(),A=Q("div"),A.innerHTML='<span class="svelte-1p0w89">No GAM is changed :(</span>',i=v(),r=Q("div");for(let t=0;t<l.length;t+=1)l[t].c();D(a,"class","icon-loading"),D(A,"class","empty-history svelte-1p0w89"),G(A,"hidden",t[1].length>0),D(r,"class","history svelte-1p0w89"),D(e,"class","history-tab svelte-1p0w89")},m(o,c){E(o,e,c),C(e,a),C(e,n),C(e,A),C(e,i),C(e,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);t[17](r),t[18](e),s=!0},p(t,[e]){if(2&e&&G(A,"hidden",t[1].length>0),502&e){let a;for(o=t[1],a=0;a<o.length;a+=1){const n=tl(t,o,a);l[a]?(l[a].p(n,e),ht(l[a],1)):(l[a]=al(n),l[a].c(),ht(l[a],1),l[a].m(r,null))}for(ut(),a=o.length;a<l.length;a+=1)c(a);dt()}},i(t){if(!s){for(let t=0;t<o.length;t+=1)ht(l[t]);s=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)pt(l[t]);s=!1},d(a){a&&m(e),function(t,e){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}(l,a),t[17](null),t[18](null)}}}function Al(t,e,a){let{sidebarStore:n}=e,{historyStore:A}=e,{ebm:i}=e,r=null,s=[],o=null,l=!1,c=null;n.subscribe((t=>{a(2,o=t)})),A.subscribe((t=>{a(1,s=t),l=!0}));const g=async(t,e,a)=>{let n=[],A=[],r=e[0],s=0;for(;null!==r.rightPointID;)n.push(r.x),A.push(r.y),r.ebmID=s,s++,r=e[r.rightPointID];n.push(r.x),A.push(r.y),r.ebmID=s,await i.setModel(n,A,a)},u=t=>{a(1,s[t].reviewed=!s[t].reviewed,s),a(1,s)},d=t=>{n.update((e=>(e.historyHead!==t&&(e.curGroup="headChanged"),e.previewHistory=t!==s.length-1,e.historyLastHead=e.historyHead,e.historyHead=t,e.effectScope="global",e)))},h=async t=>{const e=s[t].featureName;let i=!0;for(let a=t+1;a<s.length;a++)if(s[a].featureName===e){i=!1;break}let r=!0;if(r=i?confirm("Deleting a commit cannot be undone. Is it OK?"):confirm(`Deleting this commit will also remove all later commits on feature ${e}. This action cannot be undone. Is it OK?`),r){for(let a=s.length-1;a>=t;a--)s[a].featureName===e&&s.splice(a,1);for(let a=t-1;a>=0;a--)if(s[a].featureName===e){await g(0,s[a].state.pointData,e);break}o.historyHead>=t&&(a(2,o.curGroup="headChanged",o),a(2,o.previewHistory=!1,o),a(2,o.historyHead=s.length-1,o),a(2,o.effectScope="global",o)),A.set(s),n.set(o)}};O((()=>{l&&(xs(r),l=!1)})),z((()=>{xs(r)}));return t.$$set=t=>{"sidebarStore"in t&&a(9,n=t.sidebarStore),"historyStore"in t&&a(10,A=t.historyStore),"ebm"in t&&a(11,i=t.ebm)},[r,s,o,c,{increasing:"icon-increasing",decreasing:"icon-decreasing",move:"icon-updown",align:"icon-merge","equal-interpolate":"icon-interpolation","inplace-interpolate":"icon-inplace","equal-regression":"icon-interpolation","inplace-regression":"icon-regression",delete:"icon-delete",original:"icon-original"},t=>{let e=new Date(t);return`${e.getHours()}:${String(e.getMinutes()).padStart(2,"0")} ${["January","February","March","April","May","June","July","August","September","October","November","December"].map((t=>t.substring(0,3)))[e.getMonth()]} ${e.getDate()}, ${e.getFullYear()}`},u,d,h,n,A,i,function(t,e){t[e].description=this.innerHTML,a(1,s)},t=>navigator.clipboard.writeText(t.hash),t=>u(t),t=>d(t),t=>h(t),function(t){Z[t?"unshift":"push"]((()=>{c=t,a(3,c)}))},function(t){Z[t?"unshift":"push"]((()=>{r=t,a(0,r)}))}]}class il extends xt{constructor(t){super(),vt(this,t,Al,nl,r,{sidebarStore:9,historyStore:10,ebm:11})}}function rl(t){let e,a;return e=new Ho({props:{sidebarStore:t[0],dataType:"sampleData"}}),{c(){mt(e.$$.fragment)},m(t,n){Qt(e,t,n),a=!0},p(t,a){const n={};1&a&&(n.sidebarStore=t[0]),e.$set(n)},i(t){a||(ht(e.$$.fragment,t),a=!0)},o(t){pt(e.$$.fragment,t),a=!1},d(t){yt(e,t)}}}function sl(t){let e,a;return e=new Go({props:{sidebarStore:t[0]}}),{c(){mt(e.$$.fragment)},m(t,n){Qt(e,t,n),a=!0},p(t,a){const n={};1&a&&(n.sidebarStore=t[0]),e.$set(n)},i(t){a||(ht(e.$$.fragment,t),a=!0)},o(t){pt(e.$$.fragment,t),a=!1},d(t){yt(e,t)}}}function ol(t){let e,a;return e=new Ho({props:{sidebarStore:t[0],dataType:"sampleData"}}),{c(){mt(e.$$.fragment)},m(t,n){Qt(e,t,n),a=!0},p(t,a){const n={};1&a&&(n.sidebarStore=t[0]),e.$set(n)},i(t){a||(ht(e.$$.fragment,t),a=!0)},o(t){pt(e.$$.fragment,t),a=!1},d(t){yt(e,t)}}}function ll(t){let e,a;return e=new qo({props:{sidebarStore:t[0],width:t[2]}}),{c(){mt(e.$$.fragment)},m(t,n){Qt(e,t,n),a=!0},p(t,a){const n={};1&a&&(n.sidebarStore=t[0]),4&a&&(n.width=t[2]),e.$set(n)},i(t){a||(ht(e.$$.fragment,t),a=!0)},o(t){pt(e.$$.fragment,t),a=!1},d(t){yt(e,t)}}}function cl(t){let e,a,n,i,r,s,o,l,c,g,u,d,h,p,f,I,B,y,w,x,M,k,L;const S=[sl,rl],N=[];function R(t,e){return t[3]?0:1}u=R(t),d=N[u]=S[u](t);const F=[ll,ol],Y=[];function $(t,e){return t[3]?0:1}return f=$(t),I=Y[f]=F[f](t),w=new il({props:{sidebarStore:t[0],historyStore:t[1],ebm:t[4]}}),{c(){e=Q("div"),a=Q("div"),n=Q("div"),n.textContent="Metrics",i=v(),r=Q("div"),r.textContent="Feature",s=v(),o=Q("div"),o.textContent="History",l=v(),c=Q("div"),g=Q("div"),d.c(),h=v(),p=Q("div"),I.c(),B=v(),y=Q("div"),mt(w.$$.fragment),D(n,"class","tab-button svelte-e5c8fl"),D(n,"data-text","Metrics"),G(n,"selected","effect"===t[5].selectedTab),D(r,"class","tab-button svelte-e5c8fl"),D(r,"data-text","Feature"),G(r,"selected","feature"===t[5].selectedTab),D(o,"class","tab-button svelte-e5c8fl"),D(o,"data-text","History"),G(o,"selected","history"===t[5].selectedTab),D(a,"class","header svelte-e5c8fl"),D(g,"class","tab svelte-e5c8fl"),G(g,"hidden","effect"!==t[5].selectedTab),D(p,"class","tab svelte-e5c8fl"),G(p,"hidden","feature"!==t[5].selectedTab),D(y,"class","tab svelte-e5c8fl"),G(y,"hidden","history"!==t[5].selectedTab),D(c,"class","content svelte-e5c8fl"),D(e,"class","sidebar svelte-e5c8fl"),D(e,"style",x=`width: ${t[2]};`)},m(A,d){E(A,e,d),C(e,a),C(a,n),C(a,i),C(a,r),C(a,s),C(a,o),C(e,l),C(e,c),C(c,g),N[u].m(g,null),C(c,h),C(c,p),Y[f].m(p,null),C(c,B),C(c,y),Qt(w,y,null),t[11](e),M=!0,k||(L=[b(n,"click",t[8]),b(r,"click",t[9]),b(o,"click",t[10])],k=!0)},p(t,[a]){32&a&&G(n,"selected","effect"===t[5].selectedTab),32&a&&G(r,"selected","feature"===t[5].selectedTab),32&a&&G(o,"selected","history"===t[5].selectedTab);let A=u;u=R(t),u===A?N[u].p(t,a):(ut(),pt(N[A],1,1,(()=>{N[A]=null})),dt(),d=N[u],d?d.p(t,a):(d=N[u]=S[u](t),d.c()),ht(d,1),d.m(g,null)),32&a&&G(g,"hidden","effect"!==t[5].selectedTab);let i=f;f=$(t),f===i?Y[f].p(t,a):(ut(),pt(Y[i],1,1,(()=>{Y[i]=null})),dt(),I=Y[f],I?I.p(t,a):(I=Y[f]=F[f](t),I.c()),ht(I,1),I.m(p,null)),32&a&&G(p,"hidden","feature"!==t[5].selectedTab);const s={};1&a&&(s.sidebarStore=t[0]),2&a&&(s.historyStore=t[1]),16&a&&(s.ebm=t[4]),w.$set(s),32&a&&G(y,"hidden","history"!==t[5].selectedTab),(!M||4&a&&x!==(x=`width: ${t[2]};`))&&D(e,"style",x)},i(t){M||(ht(d),ht(I),ht(w.$$.fragment,t),M=!0)},o(t){pt(d),pt(I),pt(w.$$.fragment,t),M=!1},d(a){a&&m(e),N[u].d(),Y[f].d(),yt(w),t[11](null),k=!1,A(L)}}}function gl(t,e,a){let{sidebarStore:n}=e,{historyStore:A}=e,{width:i}=e,{sampleDataInitialized:r}=e,{ebm:s}=e,o={},l=null;n.subscribe((t=>{a(5,o=t)}));const c=t=>{a(5,o.selectedTab=t,o),a(5,o),n.set(o)};return t.$$set=t=>{"sidebarStore"in t&&a(0,n=t.sidebarStore),"historyStore"in t&&a(1,A=t.historyStore),"width"in t&&a(2,i=t.width),"sampleDataInitialized"in t&&a(3,r=t.sampleDataInitialized),"ebm"in t&&a(4,s=t.ebm)},[n,A,i,r,s,o,l,c,()=>{c("effect")},()=>{c("feature")},()=>{c("history")},function(t){Z[t?"unshift":"push"]((()=>{l=t,a(6,l)}))}]}class ul extends xt{constructor(t){super(),vt(this,t,gl,cl,r,{sidebarStore:0,historyStore:1,width:2,sampleDataInitialized:3,ebm:4})}}const dl="undefined"!=typeof BigUint64Array,hl=Symbol(),pl=new TextDecoder("utf-16le",{fatal:!0});function fl(t,e){let a=new Uint32Array(t)[e+-4>>>2]>>>1;const n=new Uint16Array(t,e,a);if(a<=192)return String.fromCharCode(...n);try{return pl.decode(n)}catch{let t="",e=0;for(;a-e>1024;)t+=String.fromCharCode(...n.subarray(e,e+=1024));return t+String.fromCharCode(...n.subarray(e))}}function Cl(t){const e={};function a(t,e){return t?fl(t.buffer,e):"<yet unknown>"}const n=t.env=t.env||{};return n.abort=n.abort||function(t,A,i,r){const s=e.memory||n.memory;throw Error(`abort: ${a(s,t)} at ${a(s,A)}:${i}:${r}`)},n.trace=n.trace||function(t,A,...i){const r=e.memory||n.memory;console.log(`trace: ${a(r,t)}${A?" ":""}${i.slice(0,A).join(", ")}`)},n.seed=n.seed||Date.now,t.Math=t.Math||Math,t.Date=t.Date||Date,e}const Il=function(){throw Error("Operation requires compiling with --exportRuntime")};function Bl(t,e){const a=e.exports,n=a.memory,A=a.table,i=a.__new||Il,r=a.__pin||Il,s=a.__unpin||Il,o=a.__collect||Il,l=a.__rtti_base,c=l?function(t){return t[l>>>2]}:Il;function g(t){const e=function(t){const e=new Uint32Array(n.buffer);if((t>>>=0)>=c(e))throw Error(`invalid id: ${t}`);return e[(l+4>>>2)+2*t]}(t);if(!(7&e))throw Error(`not an array: ${t}, flags=${e}`);return e}function u(t){const e=new Uint32Array(n.buffer);if((t>>>=0)>=c(e))throw Error(`invalid id: ${t}`);return e[(l+4>>>2)+2*t+1]}function d(t){return 31-Math.clz32(t>>>6&31)}function h(t,e,a){const A=n.buffer;if(a)switch(t){case 2:return new Float32Array(A);case 3:return new Float64Array(A)}else switch(t){case 0:return new(e?Int8Array:Uint8Array)(A);case 1:return new(e?Int16Array:Uint16Array)(A);case 2:return new(e?Int32Array:Uint32Array)(A);case 3:return new(e?BigInt64Array:BigUint64Array)(A)}throw Error(`unsupported align: ${t}`)}function p(t){const e=new Uint32Array(n.buffer),a=g(e[t+-8>>>2]),A=d(a);let i=4&a?t:e[t+4>>>2];const r=2&a?e[t+12>>>2]:e[i+-4>>>2]>>>A;return h(A,2048&a,4096&a).subarray(i>>>=A,i+r)}function f(t,e,a){return new t(C(t,e,a))}function C(t,e,a){const A=n.buffer,i=new Uint32Array(A),r=i[a+4>>>2];return new t(A,r,i[r+-4>>>2]>>>e)}function I(e,a,n){t[`__get${a}`]=f.bind(null,e,n),t[`__get${a}View`]=C.bind(null,e,n)}return t.__new=i,t.__pin=r,t.__unpin=s,t.__collect=o,t.__newString=function(t){if(null==t)return 0;const e=t.length,a=i(e<<1,1),A=new Uint16Array(n.buffer);for(var r=0,s=a>>>1;r<e;++r)A[s+r]=t.charCodeAt(r);return a},t.__getString=function(t){if(!t)return null;const e=n.buffer;if(1!==new Uint32Array(e)[t+-8>>>2])throw Error(`not a string: ${t}`);return fl(e,t)},t.__newArray=function(t,e){const a=g(t),A=d(a),o=e.length,l=i(o<<A,4&a?t:0);let c;if(4&a)c=l;else{r(l);const e=i(2&a?16:12,t);s(l);const g=new Uint32Array(n.buffer);g[e+0>>>2]=l,g[e+4>>>2]=l,g[e+8>>>2]=o<<A,2&a&&(g[e+12>>>2]=o),c=e}const u=h(A,2048&a,4096&a);if(16384&a)for(let t=0;t<o;++t){const a=e[t];u[(l>>>A)+t]=a}else u.set(e,l>>>A);return c},t.__getArrayView=p,t.__getArray=function(t){const e=p(t),a=e.length,n=new Array(a);for(let t=0;t<a;t++)n[t]=e[t];return n},t.__getArrayBuffer=function(t){const e=n.buffer,a=new Uint32Array(e)[t+-4>>>2];return e.slice(t,t+a)},[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach((t=>{I(t,t.name,31-Math.clz32(t.BYTES_PER_ELEMENT))})),dl&&[BigUint64Array,BigInt64Array].forEach((t=>{I(t,t.name.slice(3),3)})),t.__instanceof=function(t,e){const a=new Uint32Array(n.buffer);let A=a[t+-8>>>2];if(A<=c(a))do{if(A==e)return!0;A=u(A)}while(A);return!1},t.memory=t.memory||n,t.table=t.table||A,wl(a,t)}function El(t){return"undefined"!=typeof Response&&t instanceof Response}function ml(t){return t instanceof WebAssembly.Module}async function Ql(t,e={}){if(El(t=await t))return yl(t,e);const a=ml(t)?t:await WebAssembly.compile(t),n=Cl(e),A=await WebAssembly.instantiate(a,e);return{module:a,instance:A,exports:Bl(n,A)}}async function yl(t,e={}){if(!WebAssembly.instantiateStreaming)return Ql(El(t=await t)?t.arrayBuffer():t,e);const a=Cl(e),n=await WebAssembly.instantiateStreaming(t,e),A=Bl(a,n.instance);return{...n,exports:A}}function wl(t,e={}){const a=t.__argumentsLength?e=>{t.__argumentsLength.value=e}:t.__setArgumentsLength||t.__setargc||(()=>{});for(let n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const A=t[n];let i=n.split("."),r=e;for(;i.length>1;){let t=i.shift();Object.prototype.hasOwnProperty.call(r,t)||(r[t]={}),r=r[t]}let s=i[0],o=s.indexOf("#");if(o>=0){const e=s.substring(0,o),i=r[e];if(void 0===i||!i.prototype){const t=function(...e){return t.wrap(t.prototype.constructor(0,...e))};t.prototype={valueOf(){return this[hl]}},t.wrap=function(e){return Object.create(t.prototype,{[hl]:{value:e,writable:!1}})},i&&Object.getOwnPropertyNames(i).forEach((e=>Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e)))),r[e]=t}if(s=s.substring(o+1),r=r[e].prototype,/^(get|set):/.test(s)){if(!Object.prototype.hasOwnProperty.call(r,s=s.substring(4))){let e=t[n.replace("set:","get:")],a=t[n.replace("get:","set:")];Object.defineProperty(r,s,{get(){return e(this[hl])},set(t){a(this[hl],t)},enumerable:!0})}}else"constructor"===s?(r[s]=(...t)=>(a(t.length),A(...t))).original=A:(r[s]=function(...t){return a(t.length),A(this[hl],...t)}).original=A}else/^(get|set):/.test(s)?Object.prototype.hasOwnProperty.call(r,s=s.substring(4))||Object.defineProperty(r,s,{get:t[n.replace("set:","get:")],set:t[n.replace("get:","set:")],enumerable:!0}):"function"==typeof A&&A!==a?(r[s]=(...t)=>(a(t.length),A(...t))).original=A:r[s]=A}return e}var vl={instantiate:Ql,instantiateSync:function(t,e={}){const a=ml(t)?t:new WebAssembly.Module(t),n=Cl(e),A=new WebAssembly.Instance(a,e);return{module:a,instance:A,exports:Bl(n,A)}},instantiateStreaming:yl,demangle:wl};const xl=new class{constructor(){this._exports=null,this.wasmImports={consoleBindings:{_log:t=>{console.log(this._exports.__getString(t))}}}}get wasmExports(){return this._exports}set wasmExports(t){this._exports=t}getFn(t){if(!this.wasmExports)throw new Error("Make sure you set .wasmExports after instantiating the Wasm module but before running the Wasm module.");return this._exports.table.get(t)}},bl={...xl.wasmImports},Dl=(t,e,a,n)=>vl.instantiate(fetch("data:application/octet-binary;base64,AGFzbQEAAAABlwEXYAJ/fwBgAX8Bf2ACf38Bf2ADf39/AGABfwBgAn9/AXxgBH9/f38AYAF/AXxgAABgA39/fwF/YAJ/fAF/YAABf2ABfAF/YAN/f3wAYAF8AXxgAn98AGAOf39/f39/fH9/f39/f38Bf2ADf398AX9gBn5/fn9+fwF/YAJ8fwF8YAJ8fAF8YAd/f3x8fHx8AGAEf39/fwF/AjADA2VudgVhYm9ydAAGD2NvbnNvbGVCaW5kaW5ncwRfbG9nAAQDZW52BXRyYWNlABUDugG4AQUKAAQBAwQDAAAAAAAAAAAAAAgABAAAAwgLAgIAAgoAAAAAAwIDAwMAAQkAAQEKAwEDARIJDAwCAQANDQACAxMOFA4AAgUPBQUAAgAFBwEECAQEBAgIAgQQAgYGBgIBBwECCQABAQQBAQcBAQIBAQMLARYLCREBAQoBAAEAAQABAAEABw8BAAEAAQABAAEAAQABAAEAAQABAAEAAQABABACAgYGBgEBAgIBCQABBQUFAgEBBwcFEQcEBAFwAAIFAwEAAQaLARt/AEEDC38AQQQLfwBBBQt/AEEGC38AQQcLfwBBCAt/AEEJC38BQQALfwFBAAt/AUEAC38BQQALfwFBAAt/AUEAC38BQQALfwFBAAt/AUEAC38BQQALfgFCAAt+AUIAC38BQQALfwFBAAt+AUIAC38BQQALfwFBAAt/AEEKC38AQcAkC38BQcSlAQsH0g5PBV9fRUJNAxgNSW50MzJBcnJheV9JRAMAD0ludDMyQXJyYXkyRF9JRAMBD0Zsb2F0NjRBcnJheV9JRAMCEUZsb2F0NjRBcnJheTJEX0lEAwMRRmxvYXQ2NEFycmF5M0RfSUQDBA5TdHJpbmdBcnJheV9JRAMFEFN0cmluZ0FycmF5MkRfSUQDBgVfX25ldwAgBV9fcGluAFEHX191bnBpbgBSCV9fY29sbGVjdABTC19fcnR0aV9iYXNlAxkGbWVtb3J5AgAUX19zZXRBcmd1bWVudHNMZW5ndGgAVhZzZWFyY2hTb3J0ZWRMb3dlckluZGV4AHsWX19FQk0jZ2V0OmZlYXR1cmVOYW1lcwB8Fl9fRUJNI3NldDpmZWF0dXJlTmFtZXMAfRZfX0VCTSNnZXQ6ZmVhdHVyZVR5cGVzAH4WX19FQk0jc2V0OmZlYXR1cmVUeXBlcwB/El9fRUJNI2dldDpiaW5FZGdlcwCAARJfX0VCTSNzZXQ6YmluRWRnZXMAgQEQX19FQk0jZ2V0OnNjb3JlcwCCARBfX0VCTSNzZXQ6c2NvcmVzAIMBFl9fRUJNI2dldDpoaXN0QmluRWRnZXMAhAEWX19FQk0jc2V0Omhpc3RCaW5FZGdlcwCFARNfX0VCTSNnZXQ6aW50ZXJjZXB0AIYBE19fRUJNI3NldDppbnRlcmNlcHQAhwEcX19FQk0jZ2V0OmludGVyYWN0aW9uSW5kZXhlcwCIARxfX0VCTSNzZXQ6aW50ZXJhY3Rpb25JbmRleGVzAIkBG19fRUJNI2dldDppbnRlcmFjdGlvblNjb3JlcwCKARtfX0VCTSNzZXQ6aW50ZXJhY3Rpb25TY29yZXMAiwEdX19FQk0jZ2V0OmludGVyYWN0aW9uQmluRWRnZXMAjAEdX19FQk0jc2V0OmludGVyYWN0aW9uQmluRWRnZXMAjQERX19FQk0jZ2V0OnNhbXBsZXMAjgERX19FQk0jc2V0OnNhbXBsZXMAjwEQX19FQk0jZ2V0OmxhYmVscwCQARBfX0VCTSNzZXQ6bGFiZWxzAJEBHV9fRUJNI2dldDplZGl0aW5nRmVhdHVyZUluZGV4AJIBHV9fRUJNI3NldDplZGl0aW5nRmVhdHVyZUluZGV4AJMBGl9fRUJNI2dldDppc0NsYXNzaWZpY2F0aW9uAJQBGl9fRUJNI3NldDppc0NsYXNzaWZpY2F0aW9uAJUBFF9fRUJNI2dldDpwcmVkTGFiZWxzAJYBFF9fRUJNI3NldDpwcmVkTGFiZWxzAJcBE19fRUJNI2dldDpwcmVkUHJvYnMAmAETX19FQk0jc2V0OnByZWRQcm9icwCZASFfX0VCTSNnZXQ6ZWRpdGluZ0ZlYXR1cmVTYW1wbGVNYXAAmgEhX19FQk0jc2V0OmVkaXRpbmdGZWF0dXJlU2FtcGxlTWFwAJsBIl9fRUJNI2dldDplZGl0aW5nRmVhdHVyZVNhbXBsZU1hcHMAnAEiX19FQk0jc2V0OmVkaXRpbmdGZWF0dXJlU2FtcGxlTWFwcwCdARdfX0VCTSNnZXQ6aGlzdEJpbkNvdW50cwCeARdfX0VCTSNzZXQ6aGlzdEJpbkNvdW50cwCfARhfX0VCTSNnZXQ6c2xpY2VTYW1wbGVJRHMAoAEYX19FQk0jc2V0OnNsaWNlU2FtcGxlSURzAKEBEV9fRUJNI2NvbnN0cnVjdG9yAKIBGl9fRUJNI2dldFNlbGVjdGVkU2FtcGxlTnVtAKMBG19fRUJNI2dldFNlbGVjdGVkU2FtcGxlRGlzdACkARFfX0VCTSN1cGRhdGVNb2RlbAClAR1fX0VCTSN1cGRhdGVQcmVkaWN0aW9uUGFydGlhbACmAQ5fX0VCTSNzZXRNb2RlbACnARNfX0VCTSNnZXRQcmVkaWN0aW9uAKgBEF9fRUJNI2dldE1ldHJpY3MAqQEhX19FQk0jZ2V0TWV0cmljc09uU2VsZWN0ZWRTYW1wbGVzAKoBHl9fRUJNI2dldE1ldHJpY3NPblNlbGVjdGVkQmlucwCrAR9fX0VCTSNnZXRNZXRyaWNzT25TZWxlY3RlZFNsaWNlAKwBEl9fRUJNI3NldFNsaWNlRGF0YQCtARdfX0VCTSNzZXRFZGl0aW5nRmVhdHVyZQCuAQ9fX0VCTSNwcmludE5hbWUArwEUcm9vdE1lYW5TcXVhcmVkRXJyb3IAsAERbWVhbkFic29sdXRlRXJyb3IAsQEbbWVhbkFic29sdXRlUGVyY2VudGFnZUVycm9yALIBEGNvdW50QnlUaHJlc2hvbGQAswELZ2V0Uk9DQ3VydmUAtAEKZ2V0UFJDdXJ2ZQC1AQlnZXRST0NBdWMAtgETZ2V0QXZlcmFnZVByZWNpc2lvbgC3AQtnZXRBY2N1cmFjeQC4ARJnZXRDb25mdXNpb25NYXRyaXgAuQETZ2V0QmFsYW5jZWRBY2N1cmFjeQC6AQgBVwkHAQBBAQsBTQqZygG4ASkAIAEgACgCDE8EQEHACEGACUHjAEEqEAAACyAAKAIEIAFBA3RqKwMAC3UBA38gACgCDEEBayEDA0AgAyAEa0EBSgRAIAAgBLcgAyAEa0ECbbecoKoiAhADIAFjBEAgAiEEBSAAIAIQAyABZEUEQCACDwsgAiEDCwwBCwsgACADEAMgAWUEQCADDwsgACAEEAMgAWQEQCAEDwsgA0EBawsSACAAIAEgACgCBEEDcXI2AgQLWAEBfyAAKAIEQXxxIgFFBEBBACAAQcSlAUkgACgCCBtFBEBBAEGwCUH/AEESEAAACw8LIAAoAggiAEUEQEEAQbAJQYMBQRAQ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QcSlAWtBAXYkDEGgCxAHJA5BwAsQByQPCxoAIxpBxCVIBEBB4KUBQZCmAUEBQQEQAAALC/MBAQR/IxpBDGskGhBYIxpCADcDACMaQQA2AgggAUEBayICQQBIBEAjGkEMaiQaQaAPDwsgAkUEQCMaIAAoAgAiADYCACMaQQxqJBogAEGgDyAAGw8LQaAPIQEjGkGgDzYCBEGcDygCAEEBdiEFA0AgAiADSgRAIxogACADQQJ0aigCACIENgIAIAQEQCMaIAQ2AggjGiABIAQQOiIBNgIECyAFBEAjGiABQaAPEDoiATYCBAsgA0EBaiEDDAELCyMaIAAgAkECdGooAgAiADYCACAABEAjGiAANgIIIxogASAAEDoiATYCBAsjGkEMaiQaIAELkAEBAX8jGkEEayQaEFgjGkEANgIAIxpBDGskGhBYIxpCADcDACMaQQA2AggjGkGgDzYCACMaEHMiATYCBCMaQbAbNgIAQbAbQQEgABAyIxpBsBs2AgAjGkGgDzYCCEGwGxA7IQAjGiAANgIAIAEgABA8IAEQdCEAIxpBDGokGiMaIAA2AgAgABABIxpBBGokGguuEAIBfwF8IxpBKGskGhBYIxpCADcDACMaQgA3AwgjGkIANwMQIxpCADcDGCMaQgA3AyAgAEUEQCMaQdQAQQoQICIANgIACyAAQQAQCyAAQQAQDCAAQQAQDSAAQQAQDiAAQQAQDyAARAAAAAAAAAAAOQMYIABBABAQIABBABASIABBABARIABBABATIABBABAUIABBADYCNCAAQQA6ADggAEEAECIgAEEAECMgAEEAECQgAEEAECsgAEEAECUgAEEAEEYgACABEAsgACACEAwgACADEA0gACAEEA4gACAFEA8gACAGOQMYIAAgBxAQIAAgCBARIAAgCRASIAAgChATIAAgCxAUIAAgDDYCNCAAIA06ADgjGiAAKAIwIgE2AgggASgCDBBtIQEjGiABNgIEIAAgASAAKwMYECEQIiMaIAAoAjwiATYCCCABKAIMEG0hASMaIAE2AgQgACABRAAAAAAAAAAAECEQIyMaIAAoAggiATYCCCABIAAoAjQQbyEBIxogATYCBCAAIAEoAgwQbhAkIxogACgCECIBNgIEIAAgASgCDBBuECUDQCMaIAAoAggiATYCCCABIAAoAjQQbyEBIxogATYCBCAOIAEoAgxIBEAjGiAAKAJEIgI2AgRBABBwIQEjGiABNgIMIAIgDiABECogDkEBaiEODAELCyMaQQRrJBoQWCMaQQA2AgAjGkEYQQsQICIBNgIAIAFBEBBxEAsgAUEDNgIEIAFBMBBxEA0gAUEENgIMIAFBADYCECABQQA2AhQjGkEEaiQaIAAgARArIxogACgCSCIBNgIEIAAoAjQhAiMaIAAoAkQiAzYCDCABIAIgAxByQQAhDgNAIxogACgCCCIBNgIEIA4gASgCDEgEQCMaIAAoAkwiAjYCBCMaIAAoAhAiATYCFCABIA4QbyEBIxogATYCECABKAIMEHAhASMaIAE2AgwgARAvIQEjGiABNgIMIAIgDiABECogDkEBaiEODAELC0EAIQ4DQCMaIAAoAiwiATYCBCAOIAEoAgxIBEBBACEBA0AjGiAAKAIsIgI2AgggAkEAEG8hAiMaIAI2AgQgASACKAIMSARAIxogACgCACICNgIEIxogAiABEG8iAzYCGCMaIAAoAgQiAjYCBCMaIAIgARBvIgQ2AhwjGiAAKAIsIgI2AgggAiAOEG8hAiMaIAI2AgQgAiABEAMhDyMaQfANNgIIIAQQMAR/IxogACgCCCICNgIIIAIgARBvIQIjGiACNgIEIAIgDxAEIQIjGiAAKAIMIgM2AgggAyABEG8hAyMaIAM2AgQgAyACEAMhBiMaIAAoAhAiAzYCCCADIAEQbyEDIxogAzYCBCADIA8QBAUjGiAAKAIIIgI2AgggAiABEG8hAiMaIAI2AgQgAiAPEDEiAkEASAR8IxpBwA82AghBwA9BASADEDIjGkHADzYCCCAOEDUhAyMaIAM2AhBBwA9BAyADEDIjGkHADzYCCCABEDUhAyMaIAM2AhBBwA9BBSADEDIjGkHADzYCCCAPEDkhAyMaIAM2AhBBwA9BByADEDIjGkHADzYCCCMaQaAPNgIMQcAPEDshAyMaIAM2AgQgAxBaRAAAAAAAAAAABSMaIAAoAgwiAzYCCCADIAEQbyEDIxogAzYCBCADIAIQAwshBiMaIAAoAhAiAzYCCCADIAEQbyEDIxogAzYCBCADIA8QMSIDQQBIBH9BAAUgAwsLIQMjGiAAKAI8IgQ2AgQjGiAAKAI8IgU2AgggBCAOIAUgDhADIAagED4gAkEATkEAIAEgACgCNEYbBEAjGiAAKAJEIgQ2AgggBCACEG8hAiMaIAI2AgQgAiAOED8LIxogACgCTCICNgIIIAIgARBvIQIjGiACNgIEIxogACgCTCIENgIMIAQgARBvIQQjGiAENgIIIAIgAyAEIAMQQEEBahBBIAFBAWohAQwBCwtBACEBA0AjGiAAKAIgIgI2AgQgASACKAIMSARAIxogACgCICICNgIEIxogAiABEG8iAjYCICMaIAAoAgQiAzYCBCMaIAMgAkEAEEAQbyIENgIkIxogACgCBCIDNgIEIxogAyACQQEQQBBvIgU2AhwjGiAAKAIsIgM2AgggAyAOEG8hAyMaIAM2AgQgAyACQQAQQBADIQYjGiAAKAIsIgM2AgggAyAOEG8hAyMaIAM2AgQgAyACQQEQQBADIQ8jGkHwDTYCCCAEEDAEfyMaIAAoAigiAjYCDCACIAEQbyECIxogAjYCCCACQQAQbyECIxogAjYCBCACIAYQBAUjGiAAKAIoIgI2AgwgAiABEG8hAiMaIAI2AgggAkEAEG8hAiMaIAI2AgQgAiAGEDELIQIjGkHwDTYCCEEBIAUQMAR/IxogACgCKCIDNgIMIAMgARBvIQMjGiADNgIIIANBARBvIQMjGiADNgIEIAMgDxAEBSMaIAAoAigiAzYCDCADIAEQbyEDIxogAzYCCCADQQEQbyEDIxogAzYCBCADIA8QMQsiA0EASCACQQBIGwR8RAAAAAAAAAAABSMaIAAoAiQiBDYCDCAEIAEQbyEEIxogBDYCCCAEIAIQbyECIxogAjYCBCACIAMQAwshBiMaIAAoAjwiAjYCBCMaIAAoAjwiAzYCCCACIA4gAyAOEAMgBqAQPiABQQFqIQEMAQsLIAAtADgEQCMaIAAoAkAiATYCBCMaIAAoAjwiAjYCCCABIA4gAiAOEAMQRRA+CyAOQQFqIQ4MAQsLIABBAEECQQNB0BsQdRBGIxpBKGokGiAAC/kEAgl/AXwjGkEcayQaEFgjGkIANwMAIxpCADcDCCMaQgA3AxAjGkEANgIYIxogACgCECIDNgIAIxogAygCDBBuIgU2AgQDQCMaIAAoAhAiAzYCACAEIAMoAgxIBEAjGiAAKAIQIgM2AhAgAyAEEG8hAyMaIAM2AgggAygCDBBwIQMjGiADNgIMIAMQLyEDIxogAzYCCCAFIAQgAxAqIARBAWohBAwBCwtBACEEA0AgBCABKAIMSARAIxogACgCRCIDNgIAIxogAyABIAQQQBBvIgg2AhRBACEGA0AgBiAIKAIMSARAIAggBhBAIQlBACEDA0AjGiAAKAIQIgI2AgAgAyACKAIMSARAIxogACgCBCICNgIAIxogAiADEG8iBzYCGCMaIAAoAiwiAjYCDCACIAkQbyECIxogAjYCACACIAMQAyELIxpB8A02AgwgBxAwBH8jGiAAKAIQIgI2AgwgAiADEG8hAiMaIAI2AgAgAiALEAQFIxogACgCECICNgIMIAIgAxBvIQIjGiACNgIAIAIgCxAxIgJBAEgEfyMaQeAcNgIMIAkQNSECIxogAjYCEEHgHEEBIAIQMiMaQeAcNgIMIAMQNSECIxogAjYCEEHgHEEDIAIQMiMaQeAcNgIMIAsQOSECIxogAjYCEEHgHEEFIAIQMiMaQeAcNgIMIxpBoA82AghB4BwQOyECIxogAjYCACACEFpBAAUgAgsLIQIgBSADEG8hByMaIAc2AgAgBSADEG8hCiMaIAo2AgwgByACIAogAhBAQQFqEEEgA0EBaiEDDAELCyAGQQFqIQYMAQsLIARBAWohBAwBCwsjGkEcaiQaIAUL6QEBBn8jGkEMayQaEFgjGkIANwMAIxpBADYCCANAIAYgASgCDEgEQCABIAYQQCEFIxohByMaIAAoAkgiBDYCBCAEIAMQRyEEIxogBDYCACAHIAQgBRBvIgc2AghBACEEA0AgBCAHKAIMSARAIAcgBBBAIQUjGiAAKAI8Igg2AgAjGiAAKAI8Igk2AgQgCCAFIAkgBRADIAIgBhADoBA+IAAtADgEQCMaIAAoAkAiCDYCACMaIAAoAjwiCTYCBCAIIAUgCSAFEAMQRRA+CyAEQQFqIQQMAQsLIAZBAWohBgwBCwsjGkEMaiQaC7QBAgR/AXwjGkEMayQaEFgjGkIANwMAIxpBADYCCCMaIAIoAgwQbSIGNgIAA0AgBSABKAIMSARAIAEgBRBAIQcgAiAFEAMhCCMaIAAoAgwiBDYCCCAEIAMQbyEEIxogBDYCBCAGIAUgCCAEIAcQA6EQPiMaIAAoAgwiBDYCCCAEIAMQbyEEIxogBDYCBCAEIAcgAiAFEAMQPiAFQQFqIQUMAQsLIAAgASAGIAMQXSMaQQxqJBoLowYCBn8BfCMaQRhrJBoQWCMaQgA3AwAjGkIANwMIIxpCADcDEANAIxogACgCCCIENgIEIAQgAxBvIQQjGiAENgIAIAUgBCgCDEgEQCMaIQcjGiAAKAJIIgQ2AgQgBCADEEchBCMaIAQ2AgAgByAEIAUQbyIHNgIIIxogACgCDCIENgIEIAQgAxBvIQQjGiAENgIAIAQgBRADIQpBACEEA0AgBCAHKAIMSARAIAcgBBBAIQYjGiAAKAI8Igg2AgAjGiAAKAI8Igk2AgQgCCAGIAkgBhADIAqhED4gBEEBaiEEDAELCyAFQQFqIQUMAQsLIxogACgCCCIFNgIAIAUgAyABECojGiAAKAIMIgU2AgAgBSADIAIQKiMaIAEoAgwQbiIHNgIMQQAhBQNAIAUgASgCDEgEQEEAEHAhBCMaIAQ2AhAgByAFIAQQKiAFQQFqIQUMAQsLQQAhBQNAIxogACgCLCIENgIAIAUgBCgCDEgEQCMaIAAoAiwiBDYCBCAEIAUQbyEEIxogBDYCACAEIAMQAyEKIxogACgCBCIENgIQIAQgAxBvIQQjGiAENgIAIxpB8A02AgQgBBAwBHwgAiABIAoQBCIEEAMFIAEgChAxIgRBAEgEfCMaQcAeNgIEIxogACgCACIGNgIUIAYgAxBvIQYjGiAGNgIUQcAeQQEgBhAyIxpBwB42AgQgBRA1IQYjGiAGNgIUQcAeQQMgBhAyIxpBwB42AgQgChA5IQYjGiAGNgIUQcAeQQUgBhAyIxpBwB42AgQjGkGgDzYCEEHAHhA7IQYjGiAGNgIAIAYQWkQAAAAAAAAAAAUgAiAEEAMLCyEKIxogACgCPCIGNgIAIxogACgCPCIINgIEIAYgBSAIIAUQAyAKoBA+IAAtADgEQCMaIAAoAkAiBjYCACMaIAAoAjwiCDYCBCAGIAUgCCAFEAMQRRA+CyAEQQBOBEAgByAEEG8hBCMaIAQ2AgAgBCAFED8LIAVBAWohBQwBCwsjGiAAKAJIIgE2AgAgASADIAcQciMaIAAoAkgiATYCACAAIAEgAxBHECQjGkEYaiQaC7cGAgh/AXwjGkEoayQaEFgjGkIANwMAIxpCADcDCCMaQgA3AxAjGkIANwMYIxpCADcDICMaQQAQbSIHNgIAIxpBABBtIgg2AgQjGkEAEG0iCTYCCCMaIQUjGkEIayQaEFgjGkIANwMAIxpBEEEGECAiAzYCACADQQAQCyADQQA2AgQgA0EANgIIIANBADYCDCMaQSBBABAgIgQ2AgQgBEEgEB8gAyAEEAsgAyAENgIEIANBIDYCCCADQQA2AgwjGkEIaiQaIAUgAzYCDCMaQQAQbSIFNgIQIxpBABBtIgQ2AhQDQCACIAAoAgxIBEAjGkECQQNBBUEAEHUiBjYCHCMaIAYoAgQ2AiAgBkEAIAAgAhADED0gBkEBIAEgAhADED0jGiAGNgIYIAMgBhBMIAJBAWohAgwBCwsjGkHwHjYCGCMaQQhrJBoQWCMaQgA3AwACQCADKAIMIgFBAUwNACADKAIEIQAgAUECRgRAIxogACgCBCIBNgIAIxogACgCACICNgIEQQIkFyABIAJB8B4oAgARAgBBAEgEQCAAIAI2AgQgACABNgIACwwBCyAAIAEQTgsjGkEIaiQaQQAhAgNAIAIgAygCDEgEQCADIAIQbyEAIxogADYCJCAFIABBABADEEkgAyACEG8hACMaIAA2AiQgBCAAQQEQAxBJIAJBAWohAgwBCwsgByAEQQAQAxBJQQEhAgNAIAIgBCgCDEgEQCAHIAcoAgxBAWsQAyAEIAIQA2IEQCAHIAQgAhADEEkLIAJBAWohAgwBCwtBACECQQAhA0EAIQEDQCABIAcoAgxIBEAgByABEAMhCkEAIQADQCAAIAQoAgxIBEAgBCAAEAMgCmYiBgRAIAUgABADIAa3YQRAIANBAWohAwUgAkEBaiACIAUgABADIAa3YhshAgsgAEEBaiEADAILCwsgCCACtxBJIAkgA7cQSSMaIAQgACAEKAIMEHciBDYCFCMaIAUgACAFKAIMEHciBTYCECABQQFqIQEMAQsLIxpBA0ECQQZBABB1IgA2AiAjGiAAKAIENgIcIABBACAIECkgAEEBIAkQKSAAQQIgBxApIxpBKGokGiAAC54EAgZ/AnwjGkEkayQaEFgjGkIANwMAIxpCADcDCCMaQgA3AxAjGkIANwMYIxpBADYCICMaIABBABBvIgI2AgAjGiAAQQEQbyIANgIEIxohASMaQQFBA0EFQQAQdSIENgIIIxogBCgCBDYCDCAEQQAgAkEAEAMQPSABIAQ2AgwjGiEBIxpBAUEDQQVBABB1IgM2AggjGiADKAIENgIQIANBACAAQQAQAxA9IAEgAzYCEEEAIQEDQCABIAAoAgxBAmtIBEBBASACIAFBAmoiBhADIAIgAUEBaiIFEAOhIAIgBRADIAIgARADoaFEAAAAAAAAAABiIAAgBhADIAAgBRADoSAAIAUQAyAAIAEQA6GhRAAAAAAAAAAAYhsEQCAEIAIgAUEBaiIFEAMQSSADIAAgBRADEEkLIAFBAWohAQwBCwsgBCACIAIoAgxBAWsQAxBJIAMgACAAKAIMQQFrEAMQSSAEIAQoAgxBAWsQAyEHIAMgAygCDEEBaxADIQgjGiEBIxpBAUECQQZBABB1IgA2AggjGiAAKAIENgIUIABBAEECQQNBBUGQHxB1ECkgASAANgIUQQAhAQNAIAEgAygCDEgEQCMaQQJBA0EFQQAQdSICNgIcIxogAigCBDYCICACQQAgAyABEAMgCKMQPSACQQEgBCABEAMgB6MQPSMaIAI2AhggACACEEwgAUEBaiEBDAELCyMaQSRqJBogAAvJAQIDfwN8IxpBCGskGhBYIxpCADcDACMaIQIgABB5IQAjGiAANgIAIAIgABB6IgI2AgQDQCABIAIoAgxBAWtIBEAgAiABEG8hACMaIAA2AgAgAEEBEAMhBCACIAFBAWoiABBvIQMjGiADNgIAIAQgA0EBEAOhIQQgAiABEG8hASMaIAE2AgAgAUEAEAMhBiACIAAQbyEBIxogATYCACAFIAQgBiABQQAQA6CiRAAAAAAAAOA/oqAhBSAAIQEMAQsLIxpBCGokGiAFC4sEAgR/A3wjGkEoayQaEFgjGkIANwMAIxpCADcDCCMaQgA3AxAjGkIANwMYIxpCADcDICMaEHYiBDYCACAALQA4BEAjGiAAKAIwIgE2AggjGiAAKAJAIgI2AgwjGiABIAIQYCIBNgIEIxogARBhIgM2AhQjGiAAKAIwIgE2AggjGiAAKAJAIgI2AgwjGiABIAJEAAAAAAAA4D8QeCICNgIQIxpBAUECQQZBABB1IgE2AhgjGiABKAIENgIcIAFBACACECkjGiABNgIMIAQgARBMIAMQYiEFIxogACgCMCIBNgIIIxogACgCQCIANgIMIAEgABBPIQYgAhBQIQcjGkEBQQJBBkEAEHUiATYCHCMaIAEoAgQ2AhgjGkEDQQNBBUEAEHUiADYCICMaIAAoAgQ2AiQgAEEAIAYQPSAAQQEgBRA9IABBAiAHED0gAUEAIAAQKSMaIAE2AgwgBCABEEwFIxpBABBtIgE2AgQjGiAAKAIwIgI2AggjGiAAKAI8IgM2AgwgASACIAMQSBBJIxogACgCMCICNgIIIxogACgCPCIDNgIMIAEgAiADEEoQSSMaIAAoAjAiAjYCCCMaIAAoAjwiADYCDCABIAIgABBLEEkjGkEBQQJBBkEAEHUiADYCECMaIAAoAgQ2AhQgAEEAIAEQKSMaIAA2AgwgBCAAEEwLIxpBKGokGiAEC9gEAgZ/A3wjGkEwayQaEFgjGkIANwMAIxpCADcDCCMaQgA3AxAjGkIANwMYIxpCADcDICMaQgA3AygjGhB2IgY2AgAgAC0AOARAIxogASgCDBBtIgM2AgwjGiABKAIMEG0iBDYCCANAIAIgASgCDEgEQCMaIAAoAjAiBTYCECADIAIgBSABIAIQQBADED4jGiAAKAJAIgU2AhAgBCACIAUgASACEEAQAxA+IAJBAWohAgwBCwsjGiADIAQQYCIANgIEIxogABBhIgI2AhwjGiADIAREAAAAAAAA4D8QeCIBNgIYIxpBAUECQQZBABB1IgA2AiAjGiAAKAIENgIkIABBACABECkjGiAANgIUIAYgABBMIAIQYiEIIAMgBBBPIQkgARBQIQojGkEBQQJBBkEAEHUiATYCJCMaIAEoAgQ2AiAjGkEDQQNBBUEAEHUiADYCKCMaIAAoAgQ2AiwgAEEAIAkQPSAAQQEgCBA9IABBAiAKED0gAUEAIAAQKSMaIAE2AhQgBiABEEwFIxpBABBtIgI2AgQjGiABKAIMEG0iBDYCCCMaIAEoAgwQbSIFNgIMA0AgAyABKAIMSARAIxogACgCMCIHNgIQIAQgAyAHIAEgAxBAEAMQPiMaIAAoAjwiBzYCECAFIAMgByABIAMQQBADED4gA0EBaiEDDAELCyACIAQgBRBIEEkgAiAEIAUQShBJIAIgBCAFEEsQSSMaQQFBAkEGQQAQdSIANgIYIxogACgCBDYCHCAAQQAgAhApIxogADYCFCAGIAAQTAsjGkEwaiQaIAYLvQIBAn8jGkEQayQaEFgjGkIANwMAIxpCADcDCCMaIAAoAgQiAzYCCCADIAEQbyEDIxogAzYCACMaQfANNgIEIAMQMARAIxpBgCA2AgQjGiAAKAIAIgA2AgwgACABEG8hACMaIAA2AghBgCAgABA6IQAjGiAANgIAIABBAEQAAAAAAAAAAEQAAAAAAAAAAEQAAAAAAAAAAEQAAAAAAAAAAEQAAAAAAAAAABACIxpBEGokGkF/DwsgAEEAQQJBA0HwIBB1EEYDQCMaIAAoAiwiAzYCACAEIAMoAgxIBEAjGiAAKAIsIgM2AgQgAyAEEG8hAyMaIAM2AgAgAyABEAMgArdhBEAjGiAAKAJQIgM2AgAgAyAEED8LIARBAWohBAwBCwsjGiAAKAJQIgA2AgAgACgCDCEAIxpBEGokGiAAC9gDAgN/AXwjGkEQayQaEFgjGkIANwMAIxpCADcDCCAAIAE2AjQjGiAAKAJIIgI2AgAgAiABIAEQLBAtRQRAIxogACgCCCICNgIEIAIgACgCNBBvIQIjGiACNgIAIAAgAigCDBBuECQDQCMaIAAoAggiAjYCBCACIAAoAjQQbyECIxogAjYCACADIAIoAgxIBEAjGiAAKAJEIgQ2AgBBABBwIQIjGiACNgIIIAQgAyACECogA0EBaiEDDAELC0EAIQMDQCMaIAAoAiwiAjYCACADIAIoAgxIBEAjGiAAKAIEIgI2AgAjGiACIAEQbyIENgIMIxogACgCLCICNgIEIAIgAxBvIQIjGiACNgIAIAIgARADIQUjGkHwDTYCBCAEEDAEfyMaIAAoAggiAjYCBCACIAEQbyECIxogAjYCACACIAUQBAUjGiAAKAIIIgI2AgQgAiABEG8hAiMaIAI2AgAgAiAFEDELIgJBAE4EQCMaIAAoAkQiBDYCBCAEIAIQbyECIxogAjYCACACIAMQPwsgA0EBaiEDDAELCyMaIAAoAkgiAjYCACMaIAAoAkQiAzYCCCACIAEgAxByCyMaIAAoAkgiAjYCACAAIAIgARBHECQjGkEQaiQaC30BAX8jGkEQayQaEFgjGkIANwMAIxpCADcDCCMaQaAPNgIAIxoQcyIBNgIEIxpBoCI2AgAgABA1IQAjGiAANgIIQaAiQQEgABAyIxpBoCI2AgAjGkGgDzYCDEGgIhA7IQAjGiAANgIAIAEgABA8IAEQdCEAIxpBEGokGiAAC/4BAQR/IxpBEGskGhBYIxpCADcDACMaQgA3AwgjGkGgDzYCACMaEHMiAjYCBCMaQeAhNgIAIAJB4CEQPCAAIAAoAgxBAWsQQCEEA0AgAyAAKAIMQQFrSARAIAAgAxBAIQEjGkGAIjYCACABEGchASMaIAE2AghBgCJBASABEDIjGkGAIjYCACMaQaAPNgIMQYAiEDshASMaIAE2AgAgAiABEDwgA0EBaiEDDAELCyMaQeAiNgIAIAQQZyEAIxogADYCCEHgIkEBIAAQMiMaQeAiNgIAIxpBoA82AgxB4CIQOyEAIxogADYCACACIAAQPCACEHQhACMaQRBqJBogAAsqACMaQQRrJBoQWCMaQQA2AgAgABBoIQAjGiAANgIAIAAQASMaQQRqJBoLhAMBA38jGkEUayQaEFgjGkIANwMAIxpCADcDCCMaQQA2AhAjGkGQITYCAEGQIUEBIAAoAjS3RAAAAAAAAAAARAAAAAAAAAAARAAAAAAAAAAARAAAAAAAAAAAEAIjGiEDIxpBCGskGhBYIxpCADcDACMaQRBBDxAgIgE2AgAgAUEAEAsgAUEANgIEIAFBADYCCCABQQA2AgwjGkEgQQAQICICNgIEIAJBIBAfIAEgAhALIAEgAjYCBCABQSA2AgggAUEANgIMIxpBCGokGiADIAE2AgQjGkEAEG4iAjYCCCABIAIQTCMaQQNBAkEDQcAhEHUiATYCDCACIAEQTCACQQAQbyEBIxogATYCACABEGkjGiACQQAQbyIBNgIQIAFBAEEKEEEgAkEAEG8hASMaIAE2AgAgARBpIxpBAkECQQNBgCMQdSIBNgIQIAFBAEEUEEEgAkEAEG8hASMaIAE2AgAgARBpIxogACgCBCIBNgIAIAEgACgCNBBvIQAjGkEUaiQaIAALlwICBH8BfCMaQRxrJBoQWCMaQgA3AwAjGkIANwMIIxpCADcDECMaQQA2AhgjGiAAQQAQbyIENgIAIxogAEEBEG8iATYCBCABIAEoAgxBAWsQAyEFIxohACMaQQFBAkEGQQAQdSICNgIIIxogAigCBDYCDCACQQBBAkEDQQVBoCMQdRApIAAgAjYCDEEAIQADQCAAIAEoAgxIBEACQCMaQQJBA0EFQQAQdSIDNgIUIxogAygCBDYCGCADQQAgASAAEAMgASAAEAMgBCAAEAOgoxA9IANBASABIAAQAyAFoxA9IxogAzYCECACIAMQTCABIAAQAyAFo0QAAAAAAADwP2ENACAAQQFqIQAMAgsLCyMaQRxqJBogAgulAQIDfwJ8IxpBCGskGhBYIxpCADcDACMaIQIgABB5IQAjGiAANgIAIAIgABB6IgI2AgQDQCABIAIoAgxBAWtIBEAgAiABEG8hACMaIAA2AgAgAEEBEAMhBCACIAFBAWoiABBvIQMjGiADNgIAIAQgA0EBEAOhIQQgAiABEG8hASMaIAE2AgAgBSAEIAFBABADoqAhBSAAIQEMAQsLIxpBCGokGiAFC5kBAQN/IxpBCGskGhBYIxpCADcDACMaQRBBBRAgIgE2AgAgAUEAEAsgAUEANgIEIAFBADYCCCABQQA2AgwgAEH///8/SwRAQcAKQYAJQcAAQTwQAAALIxogAEEIIABBCEsbQQN0IgNBABAgIgI2AgQgAiADEB8gASACEAsgASACNgIEIAEgAzYCCCABIAA2AgwjGkEIaiQaIAELmgEBA38jGkEIayQaEFgjGkIANwMAIxpBEEEEECAiATYCACABQQAQCyABQQA2AgQgAUEANgIIIAFBADYCDCAAQf////8ASwRAQcAKQYAJQcAAQTwQAAALIxogAEEIIABBCEsbQQJ0IgNBABAgIgI2AgQgAiADEB8gASACEAsgASACNgIEIAEgAzYCCCABIAA2AgwjGkEIaiQaIAELXQAjGkEEayQaEFgjGkEANgIAIAEgACgCDE8EQEHACEGACUHjAEEqEAAACyMaIAAoAgQgAUECdGooAgAiADYCACAARQRAQbAMQYAJQecAQSgQAAALIxpBBGokGiAAC5oBAQN/IxpBCGskGhBYIxpCADcDACMaQRBBAxAgIgE2AgAgAUEAEAsgAUEANgIEIAFBADYCCCABQQA2AgwgAEH/////AEsEQEHACkGACUHAAEE8EAAACyMaIABBCCAAQQhLG0ECdCIDQQAQICICNgIEIAIgAxAfIAEgAhALIAEgAjYCBCABIAM2AgggASAANgIMIxpBCGokGiABC0kBAX8jGkEEayQaEFgjGkEANgIAIABB/P///wNLBEBBwApBsA1BMUErEAAACyMaIABBABAgIgE2AgAgASAAEB8jGkEEaiQaIAEL2wEBA38jGkEEayQaEFgjGkEANgIAIAAgASABECwiBBAtIgMEQCADIAI2AgQgACACQQEQCgUgACgCECAAKAIMRgRAIAAgACgCFCAAKAIMQQNsQQRtSAR/IAAoAgQFIAAoAgRBAXRBAXILEC4LIxogACgCCCIDNgIAIAAgACgCECIFQQFqNgIQIAMgBUEMbGoiAyABNgIAIAMgAjYCBCAAIAJBARAKIAAgACgCFEEBajYCFCADIAAoAgAgBCAAKAIEcUECdGoiACgCADYCCCAAIAM2AgALIxpBBGokGgt1AQJ/IxpBBGskGhBYIxpBADYCACMaQQhBDRAgIgA2AgAgAEEAEAsgAEEANgIEIABBnA8oAgBBAXZBAXQiAUHAACABQcAASxtBABAgEAsgAQRAIAAoAgBBoA8gARAmIAAgASAAKAIEajYCBAsjGkEEaiQaIAALSwECfyMaQQRrJBoQWCMaQQA2AgAgACgCBCIBRQRAIxpBBGokGkGgDw8LIxogAUEBECAiAjYCACACIAAoAgAgARAmIxpBBGokGiACC3EBAn8jGkEEayQaEFgjGkEANgIAIxoCfyAAIAF0IgQhBSAEQQAQICEBIAMEQCABIAMgBRAmCyABIgMLNgIAQRAgAhAgIgEgAzYCACABIANBABAKIAEgAzYCBCABIAQ2AgggASAANgIMIxpBBGokGiABC3MBAn8jGkEIayQaEFgjGkIANwMAIxpBEEEHECAiADYCACAAQQAQCyAAQQA2AgQgAEEANgIIIABBADYCDCMaQSBBABAgIgE2AgQgAUEgEB8gACABEAsgACABNgIEIABBIDYCCCAAQQA2AgwjGkEIaiQaIAALnwEBAX8jGkEEayQaEFgjGkEANgIAIAAoAgwhAyABQQBIBH8gASADaiIBQQAgAUEAShsFIAEgAyABIANIGwshASMaIAJBAEgEfyACIANqIgJBACACQQBKGwUgAiADIAIgA0gbCyABayICQQAgAkEAShsiA0EDQQVBABB1IgI2AgAgAigCBCAAKAIEIAFBA3RqIANBA3QQJiMaQQRqJBogAgvmAQICfwF8IxpBBGskGhBYIxpBADYCACMaQQRBA0EFQcAfEHUiAzYCAANAIAQgACgCDEgEQEQAAAAAAADwP0QAAAAAAAAAACABIAQQAyACZhsiBUQAAAAAAADwP2EEQCAAIAQQAyAFYQRAIANBAyADQQMQA0QAAAAAAADwP6AQPgUgA0EBIANBARADRAAAAAAAAPA/oBA+CwUgACAEEAMgBWEEQCADQQAgA0EAEANEAAAAAAAA8D+gED4FIANBAiADQQIQA0QAAAAAAADwP6AQPgsLIARBAWohBAwBCwsjGkEEaiQaIAMLmwEBBX8jGkEEayQaEFgjGkEANgIAQQAgACgCDCIBIAFBAEobIQIjGiABIAJrIgFBACABQQBKGyIDQQJBBkEAEHUiATYCACABKAIEIQQgACgCBCACQQJ0aiECQQAhACADQQJ0IQMDQCAAIANJBEAgACAEaiAAIAJqKAIAIgU2AgAgASAFQQEQCiAAQQRqIQAMAQsLIxpBBGokGiABC3YBA38jGkEEayQaEFgjGkEANgIAIAAoAgwiAQRAIAAoAgQhAiAAKAIEIAFBAWtBAnRqIQEDQCABIAJLBEAjGiACKAIAIgM2AgAgAiABKAIANgIAIAEgAzYCACACQQRqIQIgAUEEayEBDAELCwsjGkEEaiQaIAALIwAjGkEEayQaEFgjGiAANgIAIAAgARAEIQAjGkEEaiQaIAALIgAjGkEEayQaEFgjGiAANgIAIAAoAgAhACMaQQRqJBogAAsmACMaQQhrJBoQWCMaIAA2AgAjGiABNgIEIAAgARALIxpBCGokGgsiACMaQQRrJBoQWCMaIAA2AgAgACgCBCEAIxpBBGokGiAACyYAIxpBCGskGhBYIxogADYCACMaIAE2AgQgACABEAwjGkEIaiQaCyIAIxpBBGskGhBYIxogADYCACAAKAIIIQAjGkEEaiQaIAALJgAjGkEIayQaEFgjGiAANgIAIxogATYCBCAAIAEQDSMaQQhqJBoLIgAjGkEEayQaEFgjGiAANgIAIAAoAgwhACMaQQRqJBogAAsmACMaQQhrJBoQWCMaIAA2AgAjGiABNgIEIAAgARAOIxpBCGokGgsiACMaQQRrJBoQWCMaIAA2AgAgACgCECEAIxpBBGokGiAACyYAIxpBCGskGhBYIxogADYCACMaIAE2AgQgACABEA8jGkEIaiQaCyQBAXwjGkEEayQaEFgjGiAANgIAIAArAxghASMaQQRqJBogAQsgACMaQQRrJBoQWCMaIAA2AgAgACABOQMYIxpBBGokGgsiACMaQQRrJBoQWCMaIAA2AgAgACgCICEAIxpBBGokGiAACyYAIxpBCGskGhBYIxogADYCACMaIAE2AgQgACABEBAjGkEIaiQaCyIAIxpBBGskGhBYIxogADYCACAAKAIkIQAjGkEEaiQaIAALJgAjGkEIayQaEFgjGiAA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").then((t=>t.arrayBuffer())),bl).then((({exports:A})=>{xl.wasmExports=A;const i=A,r=i.__pin,s=i.__unpin,o=i.__newArray,l=i.__getArray,c=i.__newString,g=i.__getString,u=t=>{let e=t.map((t=>r(c(t)))),a=r(o(i.StringArray_ID,e));return e.forEach((t=>s(t))),a},d=t=>{for(let e=0;e<t.length;e++)s(t[e]);s(t)},h=t=>{for(let e=0;e<t.length;e++){for(let a=0;a<t[e].length;a++)s(t[e][a]);s(t[e])}s(t)};return new class{ebm;sampleDataNameMap;editingFeatureIndex;editingFeatureName;constructor(t,e,a,n){this.isClassification=n;let A=new Map;t.features.forEach(((t,e)=>A.set(t.name,e))),this.sampleDataNameMap=new Map,e.featureNames.forEach(((t,e)=>this.sampleDataNameMap.set(t,e)));let l=u(e.featureNames),c=u(e.featureTypes),g=this.sampleDataNameMap.get(a);this.editingFeatureIndex=g,this.editingFeatureName=a;let p=[],f=[],C=[];for(let a=0;a<e.featureNames.length;a++){let n,s,l=e.featureNames[a],c=A.get(l),g=t.features[c].additive.slice();"categorical"===e.featureTypes[a]?(n=t.features[c].binLabel.slice(),s=t.features[c].histEdge.slice()):(n=t.features[c].binEdge.slice(0,-1),s=t.features[c].histEdge.slice(0,-1));let u=r(o(i.Float64Array_ID,n)),d=r(o(i.Float64Array_ID,g)),h=r(o(i.Float64Array_ID,s));p.push(u),f.push(d),C.push(h)}const I=r(o(i.Float64Array2D_ID,p)),B=r(o(i.Float64Array2D_ID,f)),E=r(o(i.Float64Array2D_ID,C));let m=[],Q=[],y=[];t.features.forEach((t=>{if("interaction"===t.type){let a,n,A=e.featureNames.indexOf(t.name1),s=e.featureNames.indexOf(t.name2),l=r(o(i.Int32Array_ID,[A,s]));m.push(l),a="categorical"===e.featureTypes[A]?r(o(i.Float64Array_ID,t.binLabel1.slice())):r(o(i.Float64Array_ID,t.binLabel1.slice(0,-1))),n="categorical"===e.featureTypes[s]?r(o(i.Float64Array_ID,t.binLabel2.slice())):r(o(i.Float64Array_ID,t.binLabel2.slice(0,-1)));let c=r(o(i.Float64Array2D_ID,[a,n]));y.push(c);let g=t.additive.map((t=>r(o(i.Float64Array_ID,t)))),u=r(o(i.Float64Array2D_ID,g));Q.push(u)}}));let w=r(o(i.Int32Array2D_ID,m)),v=r(o(i.Float64Array3D_ID,y)),x=r(o(i.Float64Array3D_ID,Q)),b=e.samples.map((t=>r(o(i.Float64Array_ID,t)))),D=r(o(i.Float64Array2D_ID,b)),M=r(o(i.Float64Array_ID,e.labels));this.ebm=i.__EBM(l,c,I,B,E,t.intercept,w,v,x,D,M,g,n),r(this.ebm),s(M),d(D),h(x),h(v),d(w),d(E),d(B),d(I),s(c),s(l)}destroy(){s(this.ebm),this.ebm=null}printData(){let t=this.ebm.printName(),e=g(t);console.log("Editing: ",e)}getProb(){return l(this.ebm.getPrediction())}getScore(){return l(this.ebm.predLabels)}getPrediction(){if(this.isClassification){return l(this.ebm.getPrediction()).map((t=>t>=.5?1:0))}return l(this.ebm.getPrediction())}getSelectedSampleNum(t){let e=r(o(i.Int32Array_ID,t)),a=this.ebm.getSelectedSampleNum(e);return s(e),a}getSelectedSampleDist(t){let e=r(o(i.Int32Array_ID,t)),a=l(this.ebm.getSelectedSampleDist(e));return a=a.map((t=>l(t))),s(e),a}getHistBinCounts(){let t=l(this.ebm.histBinCounts);return t=t.map((t=>l(t))),t}setEditingFeature(t){let e=this.sampleDataNameMap.get(t);this.ebm.setEditingFeature(e),this.editingFeatureName=t,this.editingFeatureIndex=this.sampleDataNameMap.get(t)}updateModel(t,e,a){let n=this.editingFeatureIndex;void 0!==a&&(n=this.sampleDataNameMap.get(a));let A=r(o(i.Int32Array_ID,t)),l=r(o(i.Float64Array_ID,e));this.ebm.updateModel(A,l,n),s(A),s(l)}setModel(t,e,a){let n=this.editingFeatureIndex;void 0!==a&&(n=this.sampleDataNameMap.get(a));let A=r(o(i.Float64Array_ID,t)),l=r(o(i.Float64Array_ID,e));this.ebm.setModel(A,l,n),s(A),s(l)}getMetrics(){let t={};if(this.isClassification){let e=l(this.ebm.getMetrics()),a=r(e),n=l(e[0]),A=r(n),i=l(n[0]),o=r(i);t.confusionMatrix=i,s(o),s(A),n=l(e[1]),A=r(n),i=l(n[0]),o=r(i),t.accuracy=i[0],t.rocAuc=i[1],t.balancedAccuracy=i[2],s(o),s(A),s(a)}else{let e=l(this.ebm.getMetrics()),a=r(e),n=l(e[0]),A=r(n),i=l(n[0]),o=r(i);t.rmse=i[0],t.mae=i[1],t.mape=i[2],s(o),s(A),s(a)}return t}getMetricsOnSelectedBins(t){let e={};if(0===t.length)return this.isClassification?(e.confusionMatrix=[null,null,null,null],e.accuracy=null,e.rocAuc=null,e.balancedAccuracy=null):(e.rmse=null,e.mae=null,e.mape=null),e;let a=r(o(i.Int32Array_ID,t));if(this.isClassification){let t=l(this.ebm.getMetricsOnSelectedBins(a)),n=r(t),A=l(t[0]),i=r(A),o=l(A[0]),c=r(o);e.confusionMatrix=o,s(c),s(i),A=l(t[1]),i=r(A),o=l(A[0]),c=r(o),e.accuracy=o[0],e.rocAuc=o[1],e.balancedAccuracy=o[2],s(c),s(i),s(n)}else{let t=l(this.ebm.getMetricsOnSelectedBins(a)),n=r(t),A=l(t[0]),i=r(A),o=l(A[0]),c=r(o);e.rmse=o[0],e.mae=o[1],e.mape=o[2],s(c),s(i),s(n)}return s(a),e}getMetricsOnSelectedSlice(){let t={};if(this.isClassification){let e=l(this.ebm.getMetricsOnSelectedSlice()),a=r(e),n=l(e[0]),A=r(n),i=l(n[0]),o=r(i);t.confusionMatrix=i,s(o),s(A),n=l(e[1]),A=r(n),i=l(n[0]),o=r(i),t.accuracy=i[0],t.rocAuc=i[1],t.balancedAccuracy=i[2],s(o),s(A),s(a)}else{let e=l(this.ebm.getMetricsOnSelectedSlice()),a=r(e),n=l(e[0]),A=r(n),i=l(n[0]),o=r(i);t.rmse=i[0],t.mae=i[1],t.mape=i[2],s(o),s(A),s(a)}return t}setSliceData(t,e){return this.ebm.setSliceData(t,e)}}(t,e,a,n)})),Ml=(t,e,a,n)=>new class{ebm;editingFeatureName;constructor(t,e,a,n){this.isClassification=n,this.ebm={},this.isDummy=!0}destroy(){this.ebm={}}printData(){}getProb(){return[]}getScore(){return[]}getPrediction(){return[]}getSelectedSampleNum(t){return 0}getSelectedSampleDist(t){return[[]]}getHistBinCounts(){return[[]]}updateModel(t,e){}setModel(t,e){}getMetrics(){let t={};return this.isClassification?(t.rocCurve=[],t.confusionMatrix=[null,null,null,null],t.accuracy=null,t.rocAuc=null,t.balancedAccuracy=null):(t.rmse=null,t.mae=null),t}getMetricsOnSelectedBins(t){let e={};return this.isClassification?(e.rocCurve=[],e.confusionMatrix=[null,null,null,null],e.accuracy=null,e.rocAuc=null,e.balancedAccuracy=null):(e.rmse=null,e.mae=null),e}getMetricsOnSelectedSlice(){let t={};return this.isClassification?(t.rocCurve=[],t.confusionMatrix=[null,null,null,null],t.accuracy=null,t.rocAuc=null,t.balancedAccuracy=null):(t.rmse=null,t.mae=null),t}setSliceData(t,e){}setEditingFeature(t){this.editingFeatureName=t}}(t,e,a,n),kl=t=>{let e=[],a=[];if(void 0===t[0]){for(let n=1;n<Object.keys(t).length+1;n++)e.push(t[n].id),a.push(t[n].y);return{newBinEdges:e,newScores:a}}{let n=t[0],A=0;for(;null!==n.rightPointID;)e.push(n.x),a.push(n.y),n.ebmID=A,A++,n=t[n.rightPointID];return e.push(n.x),a.push(n.y),n.ebmID=A,{newBinEdges:e,newScores:a}}};function Ll(t){let e,a;function n(t,e){return 0===t[11].historyHead?Gl:Sl}let A=n(t),i=A(t);return{c(){e=Q("div"),a=Q("span"),i.c(),D(a,"class","hash"),D(e,"class","header__history svelte-tqmpuh"),G(e,"past",t[11].previewHistory)},m(t,n){E(t,e,n),C(e,a),i.m(a,null)},p(t,r){A===(A=n(t))&&i?i.p(t,r):(i.d(1),i=A(t),i&&(i.c(),i.m(a,null))),2048&r[0]&&G(e,"past",t[11].previewHistory)},d(t){t&&m(e),i.d()}}}function Sl(t){let e,a,n=t[10][t[11].historyHead].hash.substring(0,7)+"";function A(t,e){return t[11].previewHistory?Rl:Nl}let i=A(t),r=i(t);return{c(){r.c(),e=v(),a=w(n)},m(t,n){r.m(t,n),E(t,e,n),E(t,a,n)},p(t,s){i!==(i=A(t))&&(r.d(1),r=i(t),r&&(r.c(),r.m(e.parentNode,e))),3072&s[0]&&n!==(n=t[10][t[11].historyHead].hash.substring(0,7)+"")&&k(a,n)},d(t){r.d(t),t&&m(e),t&&m(a)}}}function Gl(e){let a;return{c(){a=w("Original")},m(t,e){E(t,a,e)},p:t,d(t){t&&m(a)}}}function Nl(t){let e;return{c(){e=w("Latest Edit:")},m(t,a){E(t,e,a)},d(t){t&&m(e)}}}function Rl(t){let e;return{c(){e=w("Previous Edit:")},m(t,a){E(t,e,a)},d(t){t&&m(e)}}}function Fl(t){let e,a,n,A;return a=new Ho({props:{sidebarStore:t[14],dataType:"modelData"}}),{c(){e=Q("div"),mt(a.$$.fragment),D(e,"class","dropzone-wrapper"),D(e,"style",n=`width: ${t[0]}px; height: ${Ol+6}px;`)},m(t,n){E(t,e,n),Qt(a,e,null),A=!0},p(t,a){(!A||1&a[0]&&n!==(n=`width: ${t[0]}px; height: ${Ol+6}px;`))&&D(e,"style",n)},i(t){A||(ht(a.$$.fragment,t),A=!0)},o(t){pt(a.$$.fragment,t),A=!1},d(t){t&&m(e),yt(a)}}}function Yl(t){let e,a,n,A,i,r,s="continuous"===t[8].type&&$l(t),o="categorical"===t[8].type&&jl(t),l="cont-cont"===t[8].type&&Ul(t),c="cont-cat"===t[8].type&&Hl(t),g="cat-cat"===t[8].type&&Jl(t);return{c(){s&&s.c(),e=v(),o&&o.c(),a=v(),l&&l.c(),n=v(),c&&c.c(),A=v(),g&&g.c(),i=x()},m(t,u){s&&s.m(t,u),E(t,e,u),o&&o.m(t,u),E(t,a,u),l&&l.m(t,u),E(t,n,u),c&&c.m(t,u),E(t,A,u),g&&g.m(t,u),E(t,i,u),r=!0},p(t,r){"continuous"===t[8].type?s?(s.p(t,r),256&r[0]&&ht(s,1)):(s=$l(t),s.c(),ht(s,1),s.m(e.parentNode,e)):s&&(ut(),pt(s,1,1,(()=>{s=null})),dt()),"categorical"===t[8].type?o?(o.p(t,r),256&r[0]&&ht(o,1)):(o=jl(t),o.c(),ht(o,1),o.m(a.parentNode,a)):o&&(ut(),pt(o,1,1,(()=>{o=null})),dt()),"cont-cont"===t[8].type?l?(l.p(t,r),256&r[0]&&ht(l,1)):(l=Ul(t),l.c(),ht(l,1),l.m(n.parentNode,n)):l&&(ut(),pt(l,1,1,(()=>{l=null})),dt()),"cont-cat"===t[8].type?c?(c.p(t,r),256&r[0]&&ht(c,1)):(c=Hl(t),c.c(),ht(c,1),c.m(A.parentNode,A)):c&&(ut(),pt(c,1,1,(()=>{c=null})),dt()),"cat-cat"===t[8].type?g?(g.p(t,r),256&r[0]&&ht(g,1)):(g=Jl(t),g.c(),ht(g,1),g.m(i.parentNode,i)):g&&(ut(),pt(g,1,1,(()=>{g=null})),dt())},i(t){r||(ht(s),ht(o),ht(l),ht(c),ht(g),r=!0)},o(t){pt(s),pt(o),pt(l),pt(c),pt(g),r=!1},d(t){s&&s.d(t),t&&m(e),o&&o.d(t),t&&m(a),l&&l.d(t),t&&m(n),c&&c.d(t),t&&m(A),g&&g.d(t),t&&m(i)}}}function $l(t){let e,a,n;function A(e){t[25](e)}let i={featureData:null===t[8]?null:t[8].data,scoreRange:null===t[1]?null:t[1].scoreRange,sidebarStore:t[14],footerStore:t[15],footerActionStore:t[16],historyStore:t[13],svgHeight:500,svgWidth:t[0]};return void 0!==t[3]&&(i.ebm=t[3]),e=new Ns({props:i}),Z.push((()=>Et(e,"ebm",A))),t[26](e),{c(){mt(e.$$.fragment)},m(t,a){Qt(e,t,a),n=!0},p(t,n){const A={};256&n[0]&&(A.featureData=null===t[8]?null:t[8].data),2&n[0]&&(A.scoreRange=null===t[1]?null:t[1].scoreRange),1&n[0]&&(A.svgWidth=t[0]),!a&&8&n[0]&&(a=!0,A.ebm=t[3],at((()=>a=!1))),e.$set(A)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(a){t[26](null),yt(e,a)}}}function jl(t){let e,a,n;function A(e){t[27](e)}let i={featureData:null===t[8]?null:t[8].data,labelEncoder:null===t[1]?null:t[1].labelEncoder[t[8].name],scoreRange:null===t[1]?null:t[1].scoreRange,sidebarStore:t[14],footerStore:t[15],footerActionStore:t[16],historyStore:t[13],svgHeight:500,svgWidth:t[0]};return void 0!==t[3]&&(i.ebm=t[3]),e=new no({props:i}),Z.push((()=>Et(e,"ebm",A))),t[28](e),{c(){mt(e.$$.fragment)},m(t,a){Qt(e,t,a),n=!0},p(t,n){const A={};256&n[0]&&(A.featureData=null===t[8]?null:t[8].data),258&n[0]&&(A.labelEncoder=null===t[1]?null:t[1].labelEncoder[t[8].name]),2&n[0]&&(A.scoreRange=null===t[1]?null:t[1].scoreRange),1&n[0]&&(A.svgWidth=t[0]),!a&&8&n[0]&&(a=!0,A.ebm=t[3],at((()=>a=!1))),e.$set(A)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(a){t[28](null),yt(e,a)}}}function Ul(t){let e,a,n={featureData:null===t[8]?null:t[8].data,scoreRange:null===t[1]?null:t[1].scoreRange,svgHeight:500,svgWidth:t[0]};return e=new Bo({props:n}),t[29](e),{c(){mt(e.$$.fragment)},m(t,n){Qt(e,t,n),a=!0},p(t,a){const n={};256&a[0]&&(n.featureData=null===t[8]?null:t[8].data),2&a[0]&&(n.scoreRange=null===t[1]?null:t[1].scoreRange),1&a[0]&&(n.svgWidth=t[0]),e.$set(n)},i(t){a||(ht(e.$$.fragment,t),a=!0)},o(t){pt(e.$$.fragment,t),a=!1},d(a){t[29](null),yt(e,a)}}}function Hl(t){let e,a,n={featureData:null===t[8]?null:t[8].data,labelEncoder:null===t[1]?null:t[1].labelEncoder,scoreRange:null===t[1]?null:t[1].scoreRange,svgHeight:500,svgWidth:t[0],chartType:"bar"};return e=new uo({props:n}),t[30](e),{c(){mt(e.$$.fragment)},m(t,n){Qt(e,t,n),a=!0},p(t,a){const n={};256&a[0]&&(n.featureData=null===t[8]?null:t[8].data),2&a[0]&&(n.labelEncoder=null===t[1]?null:t[1].labelEncoder),2&a[0]&&(n.scoreRange=null===t[1]?null:t[1].scoreRange),1&a[0]&&(n.svgWidth=t[0]),e.$set(n)},i(t){a||(ht(e.$$.fragment,t),a=!0)},o(t){pt(e.$$.fragment,t),a=!1},d(a){t[30](null),yt(e,a)}}}function Jl(t){let e,a,n={featureData:null===t[8]?null:t[8].data,labelEncoder:null===t[1]?null:t[1].labelEncoder,scoreRange:null===t[1]?null:t[1].scoreRange,svgHeight:500,svgWidth:t[0]};return e=new xo({props:n}),t[31](e),{c(){mt(e.$$.fragment)},m(t,n){Qt(e,t,n),a=!0},p(t,a){const n={};256&a[0]&&(n.featureData=null===t[8]?null:t[8].data),2&a[0]&&(n.labelEncoder=null===t[1]?null:t[1].labelEncoder),2&a[0]&&(n.scoreRange=null===t[1]?null:t[1].scoreRange),1&a[0]&&(n.svgWidth=t[0]),e.$set(n)},i(t){a||(ht(e.$$.fragment,t),a=!0)},o(t){pt(e.$$.fragment,t),a=!1},d(a){t[31](null),yt(e,a)}}}function _l(t){let e,a,n,A;const i=[Yl,Fl],r=[];function s(t,e){return null!==t[8]?0:1}return e=s(t),a=r[e]=i[e](t),{c(){a.c(),n=x()},m(t,a){r[e].m(t,a),E(t,n,a),A=!0},p(t,A){let o=e;e=s(t),e===o?r[e].p(t,A):(ut(),pt(r[o],1,1,(()=>{r[o]=null})),dt(),a=r[e],a?a.p(t,A):(a=r[e]=i[e](t),a.c()),ht(a,1),a.m(n.parentNode,n))},i(t){A||(ht(a),A=!0)},o(t){pt(a),A=!1},d(t){r[e].d(t),t&&m(n)}}}function Tl(t){let e,a,n,A,i,r,s,o,l,c,g,u=t[12].help+"",d=t[12].sample+"",h=t[12].slice+"",p=t[12].state+"";return{c(){e=Q("span"),a=v(),n=Q("div"),A=v(),i=Q("span"),r=v(),s=Q("span"),o=v(),l=Q("div"),c=v(),g=Q("span"),D(e,"class","svelte-tqmpuh"),D(n,"class","separator svelte-tqmpuh"),D(i,"class","svelte-tqmpuh"),D(s,"class","svelte-tqmpuh"),D(l,"class","separator svelte-tqmpuh"),D(g,"class","svelte-tqmpuh")},m(t,f){E(t,e,f),e.innerHTML=u,E(t,a,f),E(t,n,f),E(t,A,f),E(t,i,f),i.innerHTML=d,E(t,r,f),E(t,s,f),s.innerHTML=h,E(t,o,f),E(t,l,f),E(t,c,f),E(t,g,f),g.innerHTML=p},p(t,a){4096&a[0]&&u!==(u=t[12].help+"")&&(e.innerHTML=u),4096&a[0]&&d!==(d=t[12].sample+"")&&(i.innerHTML=d),4096&a[0]&&h!==(h=t[12].slice+"")&&(s.innerHTML=h),4096&a[0]&&p!==(p=t[12].state+"")&&(g.innerHTML=p)},d(t){t&&m(e),t&&m(a),t&&m(n),t&&m(A),t&&m(i),t&&m(r),t&&m(s),t&&m(o),t&&m(l),t&&m(c),t&&m(g)}}}function zl(e){let a,n,i,s,o,l,c,g,u,d,h,p,f,I,B,y,w,x,M,k,L,G,N,R,F,Y,$,j,U,H,J,_,T,z,O,P,K,X,Z,q,W=e[9],V=null!==e[8]&&Ll(e);M=new oo({props:{name:"cont"}}),e[24](M),M.$on("selectModeSwitched",e[17]);let tt=_l(e);N=new ul({props:{sidebarStore:e[14],historyStore:e[13],width:Pl,sampleDataInitialized:null!==e[2],ebm:e[3]}});let et=null!==e[8]&&Tl(e);return{c(){a=Q("div"),n=Q("a"),i=v(),s=Q("div"),o=Q("div"),l=Q("div"),c=Q("div"),g=Q("div"),u=Q("select"),d=Q("option"),d.textContent="No data loaded",h=v(),p=Q("div"),f=Q("select"),I=Q("option"),B=v(),V&&V.c(),y=v(),w=Q("div"),x=Q("div"),mt(M.$$.fragment),k=v(),tt.c(),L=v(),G=Q("div"),mt(N.$$.fragment),R=v(),F=Q("div"),Y=Q("div"),et&&et.c(),$=v(),j=Q("div"),U=Q("div"),H=Q("button"),H.innerHTML='<span class="icon is-small"><div class="svg-icon icon-undo svelte-tqmpuh"></div></span>',J=v(),_=Q("div"),T=Q("button"),T.innerHTML='<span class="icon is-small"><div class="svg-icon icon-redo svelte-tqmpuh"></div></span>',z=v(),O=Q("div"),P=Q("button"),P.innerHTML='<span class="icon is-small"><div class="svg-icon icon-export svelte-tqmpuh"></div></span>',D(n,"id","download-anchor"),S(n,"display","none"),d.__value="No data loaded",d.value=d.__value,D(u,"name","feature"),D(u,"id","feature-select"),D(u,"title","Select a feature"),D(u,"class","svelte-tqmpuh"),D(g,"class","select svelte-tqmpuh"),D(I,"id","hidden-option"),I.__value="",I.value=I.__value,D(f,"id","hidden-select"),D(f,"class","svelte-tqmpuh"),D(p,"class","select svelte-tqmpuh"),D(c,"class","header__info svelte-tqmpuh"),D(x,"class","toggle-switch-wrapper svelte-tqmpuh"),D(w,"class","header__control-panel svelte-tqmpuh"),D(l,"class","header svelte-tqmpuh"),D(o,"class","feature-window svelte-tqmpuh"),D(G,"class","sidebar-wrapper"),D(G,"style",`width: ${Pl}px;`),D(s,"class","tool svelte-tqmpuh"),D(Y,"class","message-line svelte-tqmpuh"),D(H,"class","button svelte-tqmpuh"),D(H,"title","undo last edit"),D(U,"class","control"),D(T,"class","button svelte-tqmpuh"),D(T,"title","redo last undo"),D(_,"class","control"),D(P,"class","button right-button svelte-tqmpuh"),D(P,"title","save edits"),D(O,"class","control"),D(j,"class","field has-addons svelte-tqmpuh"),D(F,"class","tool-footer svelte-tqmpuh"),D(a,"class","main-tool svelte-tqmpuh"),D(a,"style",K=`width: ${Pl+e[0]+2}px;`)},m(t,A){E(t,a,A),C(a,n),C(a,i),C(a,s),C(s,o),C(o,l),C(l,c),C(c,g),C(g,u),C(u,d),e[23](u),C(c,h),C(c,p),C(p,f),C(f,I),C(c,B),V&&V.m(c,null),C(l,y),C(l,w),C(w,x),Qt(M,x,null),C(o,k),tt.m(o,null),C(s,L),C(s,G),Qt(N,G,null),C(a,R),C(a,F),C(F,Y),et&&et.m(Y,null),C(F,$),C(F,j),C(j,U),C(U,H),C(j,J),C(j,_),C(_,T),C(j,z),C(j,O),C(O,P),e[35](a),X=!0,Z||(q=[b(u,"blur",Kl),b(u,"change",e[19]),b(H,"click",e[32]),b(T,"click",e[33]),b(P,"click",e[34])],Z=!0)},p(e,n){null!==e[8]?V?V.p(e,n):(V=Ll(e),V.c(),V.m(c,null)):V&&(V.d(1),V=null);M.$set({}),512&n[0]&&r(W,W=e[9])?(ut(),pt(tt,1,1,t),dt(),tt=_l(e),tt.c(),ht(tt),tt.m(o,null)):tt.p(e,n);const A={};4&n[0]&&(A.sampleDataInitialized=null!==e[2]),8&n[0]&&(A.ebm=e[3]),N.$set(A),null!==e[8]?et?et.p(e,n):(et=Tl(e),et.c(),et.m(Y,null)):et&&(et.d(1),et=null),(!X||1&n[0]&&K!==(K=`width: ${Pl+e[0]+2}px;`))&&D(a,"style",K)},i(t){X||(ht(M.$$.fragment,t),ht(tt),ht(N.$$.fragment,t),X=!0)},o(t){pt(M.$$.fragment,t),pt(tt),pt(N.$$.fragment,t),X=!1},d(t){t&&m(a),e[23](null),V&&V.d(),e[24](null),yt(M),tt.d(t),yt(N),et&&et.d(),e[35](null),Z=!1,A(q)}}}const Ol=500,Pl=250,Kl=()=>{};function Xl(t,e,a){let n,{modelName:A=null}=e,{sampleName:i=null}=e,{svgWidth:r=null}=e,{inNotebook:s=!1}=e,o=null,c=null,g=null,u=Ml(0,0,0,0),d=null,h=null,p=null,f=null,C=null,I=!0,B=null;null===r&&(r=Ol/2*3);let E=null,m=ys([]);m.subscribe((t=>{a(10,E=t)}));let Q={},y=ys({rmse:0,mae:0,mape:0,accuracy:0,rocAuc:0,balancedAccuracy:0,confusionMatrix:[],isClassification:null,prCurve:[],rocCurve:[],curGroup:"",selectedTab:"effect",effectScope:"global",historyHead:0,previewHistory:!1,barData:JSON.parse(JSON.stringify({accuracy:[.5,null,.5,null],rocAuc:[.5,null,.5,null],balancedAccuracy:[.5,null,.5,null]})),confusionMatrixData:JSON.parse(JSON.stringify({tn:[23.2,null,23,null],fn:[23.2,null,23,null],fp:[23.2,null,23,null],tp:[23.2,null,23,null]})),totalSampleNum:0,hasUpdatedLastMetrics:!1}),w=ys({sample:"",slice:"",help:"",state:"",baselineInit:!1,baseline:0});l(t,w,(t=>a(12,n=t)));let v=ys("");y.subscribe((async t=>{if(a(11,Q=t),"sampleDataCreated"===t.curGroup&&(a(2,c=t.loadedData),t.loadedData=null,t.curGroup="",await D(),y.set(Q)),"modelDataCreated"===t.curGroup&&(a(1,o=t.loadedData),t.loadedData=null,t.curGroup="",await b(),null!==c&&await D(),y.set(Q)),"gamchangerCreated"===t.curGroup&&(a(1,o=t.loadedData.modelData),a(2,c=t.loadedData.sampleData),a(10,E=t.loadedData.historyList),m.set(E),t.loadedData=null,t.curGroup="",await b(),await D(),y.set(Q)),"headChanged"===t.curGroup){const e=E[t.historyHead].featureName;if(e!==C.name){["continuous","categorical","interaction"].forEach((t=>{let n=B[t].findIndex((t=>t.name===e));-1!==n&&(a(8,C={}),a(8,C.type=t,C),a(8,C.data=o.features[B.continuous[n].featureID],C),a(8,C.id=B.continuous[n].featureID,C),a(8,C.name=B.continuous[n].name,C),a(7,f.selectedIndex=n,f),a(11,Q.featureName=e,Q),u.setEditingFeature(e),L(),a(9,I=!I),y.set(Q))}))}}}));const x=t=>t.replaceAll("black","currentcolor").replaceAll("fill:none","fill:currentcolor").replaceAll("stroke:none","fill:currentcolor"),b=async()=>{if(null===o)return;g=o.isClassifier,B={continuous:[],categorical:[],interaction:[]},o.features.forEach(((t,e)=>{B[t.type].push({name:t.name,featureID:e,importance:t.importance})})),Object.keys(B).forEach((t=>B[t].sort(((t,e)=>t.name.localeCompare(e.name)))));let t=sr.select(d).select("#feature-select");t.selectAll("option").remove();["continuous","categorical","interaction"].forEach((e=>{let a=e.charAt(0).toUpperCase()+e.slice(1),n=t.append("optgroup").attr("label",a+" (name - importance)");B[e].forEach((t=>{n.append("option").attr("value",t.featureID).attr("data-level",t.level).text(`${t.name} - ${Qr(t.importance,3)}`)}))}));let e=null,n={};if(E.length>0){const t=E[E.length-1].featureName;o.features.forEach((e=>{e.name===t&&(n.type=e.type)})),e=B[n.type].map((t=>t.name)).indexOf(t)}else 0!==B.continuous.length?(e=sr.maxIndex(B.continuous,(t=>t.importance)),n.type="continuous"):(e=sr.maxIndex(B.categorical,(t=>t.importance)),n.type="categorical");n.data=o.features[B[n.type][e].featureID],n.id=B[n.type][e].featureID,n.name=B[n.type][e].name;let A=Array.from(f.options).reduce(((t,e,a)=>(parseInt(e.value)===n.id&&t.push(a),t)),[])[0];if(a(7,f.selectedIndex=A,f),L(),u.setEditingFeature(n.name),E.length>0){a(3,u=await Dl(o,c,E[0].featureName,g));let t=u.getMetrics();u.isClassification?(a(11,Q.accuracy=t.accuracy,Q),a(11,Q.rocAuc=t.rocAuc,Q),a(11,Q.balancedAccuracy=t.balancedAccuracy,Q),a(11,Q.confusionMatrix=t.confusionMatrix,Q)):(a(11,Q.rmse=t.rmse,Q),a(11,Q.mae=t.mae,Q));for(let t=0;t<E.length;t++){let e=E[t];if(e.featureName!==u.editingFeatureName&&u.setEditingFeature(e.featureName),"original"!==e.type){let t=kl(e.state.pointData);u.setModel(t.newBinEdges,t.newScores)}}a(11,Q.historyHead=E.length-1,Q)}a(8,C=n),a(9,I=!I),a(11,Q.isClassification=o.isClassifier,Q),a(11,Q.totalSampleNum=0,Q),a(11,Q.featureName=C.name,Q),a(11,Q.historyHead=0,Q),a(11,Q.previewHistory=!1,Q),y.set(Q),w.update((t=>(t.totalSampleNum=Q.totalSampleNum,t.sample=`<b>0/${Q.totalSampleNum}</b> validation samples selected`,t)))},D=async()=>{if(null===o||null===c)return;g=o.isClassifier;let t={cont:[],cat:[],labelEncoder:o.labelEncoder},e=new Map;o.features.forEach(((t,a)=>e.set(t.name,a)));let n=new Map;if(c.featureNames.forEach(((t,e)=>n.set(t,e))),void 0!==u.isDummy){a(3,u=await Dl(o,c,C.name,g));let t=u.getMetrics();u.isClassification?(a(11,Q.accuracy=t.accuracy,Q),a(11,Q.rocAuc=t.rocAuc,Q),a(11,Q.balancedAccuracy=t.balancedAccuracy,Q),a(11,Q.confusionMatrix=t.confusionMatrix,Q)):(a(11,Q.rmse=t.rmse,Q),a(11,Q.mae=t.mae,Q),a(11,Q.mape=t.mape,Q))}a(11,Q.isClassification=o.isClassifier,Q),a(11,Q.curGroup="original",Q);const A=u.getHistBinCounts();for(let a=0;a<A.length;a++){let i=c.featureNames[a];if("continuous"===c.featureTypes[a]){let r=o.features[e.get(i)].histEdge.slice(0,-1);t.cont.push({id:n.get(i),name:i,histEdge:r,histCount:A[a],histSelectedCount:new Array(A[a].length).fill(0)})}else{let r=o.features[e.get(i)].histEdge;t.cat.push({id:n.get(i),name:i,histEdge:r,histCount:A[a],histSelectedCount:new Array(A[a].length).fill(0)})}}a(11,Q.featurePlotData=t,Q),a(11,Q.totalSampleNum=c.samples.length,Q),w.update((t=>(t.totalSampleNum=Q.totalSampleNum,t.sample=`<b>0/${Q.totalSampleNum}</b> validation samples selected`,t)));let i=[];if(o.features.forEach((t=>{if("categorical"===t.type){let e=[];t.binLabel.forEach((a=>e.push({name:t.name,level:a,levelName:o.labelEncoder[t.name][parseInt(a)],featureID:n.get(t.name)}))),i.push(e)}})),i.sort(((t,e)=>t[0].name.localeCompare(e[0].name))),a(11,Q.sliceOptions=i,Q),y.set(Q),E.length>0){for(;"originalCompleted"!==Q.curGroup;)await new Promise((t=>setTimeout(t,500)));a(10,E[0].metrics.barData=JSON.parse(JSON.stringify(Q.barData)),E),a(10,E[0].metrics.confusionMatrixData=JSON.parse(JSON.stringify(Q.confusionMatrixData)),E),m.set(E)}},M=(t,e)=>{a(1,o=t),a(2,c=e),console.log("Loaded inline data"),b(),D()},k=t=>{if(v.set(t),"save"===t){let t=!0;if(E.forEach((e=>t=t&&e.reviewed)),t){let t=(new Date).toLocaleDateString().replaceAll("/","-");t=`edit-${t}.gamchanger`,((t,e,a="download.json")=>{let n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t));var A=e.node();A.setAttribute("href",n),A.setAttribute("download",`${a}`),A.click()})({modelData:o,sampleData:c,historyList:E},sr.select(d).select("#download-anchor"),t)}else alert("You need to confirm all edits in the History panel (click 👍 icons) before saving the model.")}},L=()=>{let t=f.options[f.selectedIndex],e=sr.select(d).select("#hidden-select").style("display","initial");e.select("#hidden-option").text(t.text);let a=e.node().clientWidth+5+"px";e.style("display","none"),sr.select(d).select("#feature-select").style("width",a)};z((()=>{var t,e,a;sr.select(d).selectAll(".svg-icon.icon-redo").html(x('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="redo-alt" class="svg-inline--fa fa-redo-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"></path></svg>')),sr.select(d).selectAll(".svg-icon.icon-undo").html(x('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="undo-alt" class="svg-inline--fa fa-undo-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"></path></svg>')),sr.select(d).selectAll(".svg-icon.icon-export").html(x('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="save" class="svg-inline--fa fa-save fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"></path></svg>')),t=()=>k("undo"),e=()=>k("redo"),a=()=>k("selectAll"),sr.select("body").on("keydown",(n=>{!n.metaKey&&!n.ctrlKey||n.shiftKey||"z"!==n.key?n.metaKey&&n.shiftKey&&"z"===n.key||n.ctrlKey&&n.shiftKey&&"Z"===n.key?(n.preventDefault(),n.stopPropagation(),e()):!n.metaKey&&!n.ctrlKey||n.shiftKey||"a"!==n.key||(n.preventDefault(),n.stopPropagation(),a()):(n.preventDefault(),n.stopPropagation(),t())})),s&&(sr.select(d).style("border-radius",0).style("border-bottom-left-radius","5px").style("border-bottom-right-radius","5px"),document.addEventListener("gamchangerData",(t=>{let e=t.data;M(e.model,e.sample)})))}));return t.$$set=t=>{"modelName"in t&&a(20,A=t.modelName),"sampleName"in t&&a(21,i=t.sampleName),"svgWidth"in t&&a(0,r=t.svgWidth),"inNotebook"in t&&a(22,s=t.inNotebook)},t.$$.update=()=>{3145728&t.$$.dirty[0]&&A&&i&&(async(t="iow-house-ebm-binary",e="iow-house-sample-binary")=>{console.log("loading data"),g=!0,a(1,o=await sr.json(`/gam-changer/data/${t}.json`)),a(2,c=await sr.json(`/gam-changer/data/${e}.json`)),console.log("loaded data"),b(),D()})(A,i)},[r,o,c,u,d,h,p,f,C,I,E,Q,n,m,y,w,v,()=>{p.selectModeSwitched()},k,async()=>{console.log("feature select changed"),L();let t=f.options[f.selectedIndex].value;const e=o.features[t];if("interaction"===e.type){let t=e.id.map((t=>o.features[t].type));t.includes("continuous")&&t.includes("categorical")?a(8,C.type="cont-cat",C):t.includes("continuous")?a(8,C.type="cont-cont",C):a(8,C.type="cat-cat",C)}else a(8,C.type=e.type,C);if(a(8,C.name=e.name,C),a(8,C.data=e,C),a(8,C.id=t,C),"interaction"!==e.type&&(console.log("Change feature in ebm"),u.setEditingFeature(C.name),a(3,u)),a(11,Q.curGroup="overwrite",Q),y.set(Q),null!==c)for(;"overwriteCompleted"!==Q.curGroup;)await new Promise((t=>setTimeout(t,300)));let n=u.getMetrics();u.isClassification?(a(11,Q.accuracy=n.accuracy,Q),a(11,Q.rocAuc=n.rocAuc,Q),a(11,Q.balancedAccuracy=n.balancedAccuracy,Q),a(11,Q.confusionMatrix=n.confusionMatrix,Q)):(a(11,Q.rmse=n.rmse,Q),a(11,Q.mae=n.mae,Q)),a(11,Q.curGroup="new-feature-original",Q),a(11,Q.effectScope="global",Q),a(11,Q.featureName=C.name,Q),y.set(Q),a(9,I=!I),h.reset()},A,i,s,function(t){Z[t?"unshift":"push"]((()=>{f=t,a(7,f)}))},function(t){Z[t?"unshift":"push"]((()=>{h=t,a(5,h)}))},function(t){u=t,a(3,u)},function(t){Z[t?"unshift":"push"]((()=>{p=t,a(6,p)}))},function(t){u=t,a(3,u)},function(t){Z[t?"unshift":"push"]((()=>{p=t,a(6,p)}))},function(t){Z[t?"unshift":"push"]((()=>{p=t,a(6,p)}))},function(t){Z[t?"unshift":"push"]((()=>{p=t,a(6,p)}))},function(t){Z[t?"unshift":"push"]((()=>{p=t,a(6,p)}))},()=>k("undo"),()=>k("redo"),()=>k("save"),function(t){Z[t?"unshift":"push"]((()=>{d=t,a(4,d)}))}]}class Zl extends xt{constructor(t){super(),vt(this,t,Xl,zl,r,{modelName:20,sampleName:21,svgWidth:0,inNotebook:22},null,[-1,-1])}}function ql(e){let a,n,A,i,r=e[0].html+"";return{c(){a=Q("div"),n=Q("div"),A=v(),i=new R,D(n,"class","svelte-1yrhbtz"),G(n,"arrow-up","n"===e[0].orientation),G(n,"arrow-down","s"===e[0].orientation),i.a=null,D(a,"class","tooltip svelte-1yrhbtz"),D(a,"style",e[2])},m(t,s){E(t,a,s),C(a,n),C(a,A),i.m(r,a),e[3](a)},p(t,[e]){1&e&&G(n,"arrow-up","n"===t[0].orientation),1&e&&G(n,"arrow-down","s"===t[0].orientation),1&e&&r!==(r=t[0].html+"")&&i.p(r),4&e&&D(a,"style",t[2])},i:t,o:t,d(t){t&&m(a),e[3](null)}}}function Wl(t,e,a){let n,A={show:!1,html:"null",left:0,top:0,width:80,maxWidth:80,fontSize:"14px",orientation:"s"},i=!1,r=null;return ws.subscribe((t=>{let e=sr.select(r);null!==t&&(t.show?("n"===A.orientation?t.top+=8:"s"===A.orientation&&(t.top-=8),a(0,A=t),e.style("visibility","visible"),sr.select(r).transition("show").duration(100).ease(sr.easeQuadInOut).style("opacity",1),i=!0):(i&&(sr.select(r).style("visibility","hidden"),i=!1),a(0,A=t)))})),z((()=>{sr.select(r).style("visibility","hidden")})),t.$$.update=()=>{1&t.$$.dirty&&a(2,n=`left: ${A.left}px; top: ${A.top}px;\n    width: ${A.width}px; max-width: ${A.maxWidth}px;\n    font-size: ${A.fontSize}`)},[A,r,n,function(t){Z[t?"unshift":"push"]((()=>{r=t,a(1,r)}))}]}class Vl extends xt{constructor(t){super(),vt(this,t,Wl,ql,r,{})}}function tc(e){let a;return{c(){a=Q("div"),D(a,"id",e[0])},m(t,e){E(t,a,e)},p(t,[e]){1&e&&D(a,"id",t[0])},i:t,o:t,d(t){t&&m(a)}}}var ec=document.createElement("script");ec.src="https://www.youtube.com/iframe_api";var ac=document.getElementsByTagName("script")[0];function nc(t,e,a){let n,{videoId:A}=e,{playerId:i="player"}=e;function r(t){n.mute()}return K(),window.addEventListener("iframeApiReady",(function(t){n=new YT.Player(i,{videoId:A,width:"780",height:"439",events:{onReady:r}})})),t.$$set=t=>{"videoId"in t&&a(1,A=t.videoId),"playerId"in t&&a(0,i=t.playerId)},[i,A,function(t=0){n.seekTo(t),n.playVideo()}]}ac.parentNode.insertBefore(ec,ac),window.onYouTubeIframeAPIReady=()=>window.dispatchEvent(new Event("iframeApiReady"));class Ac extends xt{constructor(t){super(),vt(this,t,nc,tc,r,{videoId:1,playerId:0,play:2})}get play(){return this.$$.ctx[2]}}function ic(a){let n,r,s,o,l;return r=new Zl({props:{modelName:a[4][a[3]].modelName,sampleName:a[4][a[3]].sampleName,svgWidth:null}}),{c(){n=Q("div"),mt(r.$$.fragment),D(n,"class","gam-changer svelte-k7z95y")},m(t,e){E(t,n,e),Qt(r,n,null),l=!0},p(t,e){const a={};8&e&&(a.modelName=t[4][t[3]].modelName),8&e&&(a.sampleName=t[4][t[3]].sampleName),r.$set(a)},i(a){l||(ht(r.$$.fragment,a),et((()=>{o&&o.end(1),s=function(a,n,A){let r,s,o=n(a,A),l=!1,c=0;function g(){r&&U(a,r)}function d(){const{delay:n=0,duration:A=300,easing:i=e,tick:d=t,css:h}=o||ft;h&&(r=j(a,0,1,A,n,i,h,c++)),d(0,1);const p=u()+n,C=p+A;s&&s.abort(),l=!0,et((()=>lt(a,!0,"start"))),s=f((t=>{if(l){if(t>=C)return d(1,0),lt(a,!0,"end"),g(),l=!1;if(t>=p){const e=i((t-p)/A);d(e,1-e)}}return l}))}let h=!1;return{start(){h||(h=!0,U(a),i(o)?(o=o(),ot().then(d)):d())},invalidate(){h=!1},end(){l&&(g(),l=!1)}}}(n,Wo,{x:2e3,duration:800}),s.start()})),l=!0)},o(a){pt(r.$$.fragment,a),s&&s.invalidate(),o=function(a,n,r){let s,o=n(a,r),l=!0;const c=gt;function g(){const{delay:n=0,duration:i=300,easing:r=e,tick:g=t,css:d}=o||ft;d&&(s=j(a,1,0,i,n,r,d));const h=u()+n,p=h+i;et((()=>lt(a,!1,"start"))),f((t=>{if(l){if(t>=p)return g(0,1),lt(a,!1,"end"),--c.r||A(c.c),!1;if(t>=h){const e=r((t-h)/i);g(1-e,e)}}return l}))}return c.r+=1,i(o)?ot().then((()=>{o=o(),g()})):g(),{end(t){t&&o.tick&&o.tick(1,0),l&&(s&&U(a,s),l=!1)}}}(n,Wo,{x:-2e3,duration:800}),l=!1},d(t){t&&m(n),yt(r),t&&o&&o.end()}}}function rc(e){let a,n,s,l,c,g,u,d,h,p,f,I,B,y,x,M,k,L,N,R,F,Y,$,j,U,H,J,_,T,z,O,P,K,X,Z,q,W,V,tt,et,at,nt,At,it,rt,st,ot,lt,ct,gt,ft,Ct,It,Bt,Et,wt,vt,xt,bt,Dt,Mt,kt,Lt,St,Gt,Nt,Rt,Ft,Yt,$t,jt,Ut,Ht,Jt,_t,Tt,zt,Ot,Pt,Kt,Xt,Zt,qt,Wt,Vt,te,ee,ae,ne,Ae,ie,re,se,oe,le,ce,ge,ue,de,he,pe,fe,Ce,Ie,Be,Ee,me,Qe,ye,we,ve,xe,be,De,Me,ke,Le,Se,Ge,Ne,Re,Fe,Ye,$e,je,Ue,He,Je,_e,Te,ze,Oe,Pe,Ke,Xe,Ze,qe,We,Ve,ta,ea,aa,na,Aa,ia,ra,sa,oa,la,ca,ga,ua,da,ha,pa,fa,Ca,Ia,Ba,Ea,ma,Qa,ya,wa,va,xa,ba,Da,Ma,ka,La,Sa,Ga,Na,Ra,Fa,Ya,$a,ja,Ua,Ha,Ja,_a,Ta,za,Oa,Pa,Ka,Xa,Za,qa,Wa,Va,tn,en=e[3];c=new Vl({props:{}}),e[6](c);let an=ic(e);return Da=new Ac({props:{videoId:"D6whtfInqTc",playerId:"demo_video"}}),e[11](Da),{c(){a=Q("script"),s=v(),l=Q("div"),mt(c.$$.fragment),g=v(),u=Q("div"),d=Q("div"),h=v(),p=Q("div"),f=v(),I=Q("div"),I.innerHTML='<div class="logo-icon svelte-k7z95y"><img src="/gam-changer/img/logo.svg" alt="logo img"/></div>',B=v(),an.c(),y=v(),x=Q("div"),x.innerHTML='<a target="_blank" href="https://github.com/interpretml/gam-changer" class="svelte-k7z95y"><div class="svg-icon icon-github svelte-k7z95y" title="Open-source code"></div> \n        <span class="svelte-k7z95y">Code</span></a> \n\n      <a target="_blank" href="https://youtu.be/D6whtfInqTc" class="svelte-k7z95y"><div class="svg-icon icon-youtube svelte-k7z95y" title="Demo video"></div> \n        <span class="svelte-k7z95y">Video</span></a> \n\n      <a target="_blank" href="https://dl.acm.org/doi/10.1145/3534678.3539074" class="svelte-k7z95y"><div class="svg-icon icon-pdf svelte-k7z95y" title="Paper"></div> \n        <span class="svelte-k7z95y">Paper</span></a>',M=v(),k=Q("div"),L=Q("div"),N=Q("span"),N.textContent="Choose a model:",R=v(),F=Q("span"),F.textContent="iowa house price",Y=v(),$=Q("span"),$.textContent="lending club",j=v(),U=Q("span"),U.textContent="census income",H=v(),J=Q("span"),J.textContent="my model",_=v(),T=Q("div"),z=Q("h2"),z.innerHTML='What is <span class="tool-text svelte-k7z95y">GAM Changer</span>?',O=v(),P=Q("p"),P.textContent="Machine Learning (ML) researchers have developed many techniques to make ML models interpretable.\n      However, it is unclear how we can use interpretability to improve ML models.\n      GAM Changer is an interactive tool that turns interpretability into actions—it empowers domain experts and data scientists\n      to easily and responsibly edit the weights of Generalized Additive Models (GAMs), the state-of-the-art interpretable ML model\n      for tabular data. With GAM Changer, you can align model behaviors with your domain knowledge and values.",K=v(),X=Q("p"),Z=w("Don’t worry if you are not familiar with GAMs.\n      These models have emerged as one of the most popular model classes among today’s data science community.\n      GAMs’ predictive performance is on par with more complex, state-of-the-art models, yet GAMs remain simple enough for humans to understand its decision process.\n      Given an "),q=Q("span"),q.textContent="input",W=v(),V=w(sc),tt=w(" and a "),et=Q("span"),et.textContent="target",at=v(),nt=w(oc),At=w(",\n      a GAM with a "),it=Q("span"),it.textContent="link function",rt=v(),st=w(gc),ot=w(" and "),lt=Q("span"),lt.textContent="shape function",ct=v(),gt=w(uc),ft=w(" for each feature \\(j\\) can be written as:"),Ct=v(),It=w(lc),Bt=v(),Et=Q("p"),wt=w("The "),vt=Q("span"),vt.textContent="link function",xt=v(),bt=w(gc),Dt=w(" is determined by the task. For example, in binary classification, "),Mt=w(gc),kt=w(" is "),Lt=Q("span"),Lt.textContent="logit",St=w(".\n      In the equation above, "),Gt=w(dc),Nt=w(" represents the "),Rt=Q("span"),Rt.textContent="intercept constant",Ft=w(".\n      There are many options for the "),Yt=Q("span"),Yt.textContent="shape functions",$t=v(),jt=w(uc),Ut=w(",\n      such as "),Ht=Q("a"),Ht.innerHTML='<span style="" class="svelte-k7z95y">splines</span>',Jt=w(",\n      "),_t=Q("a"),_t.innerHTML='<span style="" class="svelte-k7z95y">gradient-boosted trees</span>',Tt=w(",\n      and "),zt=Q("a"),zt.innerHTML='<span style="" class="svelte-k7z95y">neural networks</span>',Ot=w(".\n      Some GAMs also support pair-wise interaction terms "),Pt=w(cc),Kt=w(".\n      Different GAM variants come with different training methods, but once trained, they all have the same form.\n      The interpretability and editability of GAMs stems from the fact that people can visualize and modify each individual feature "),Xt=w(hc),Zt=w("'s\n      contribution score to the model’s prediction by inspecting and adjusting the "),qt=Q("span"),qt.textContent="shape functions",Wt=v(),Vt=w(uc),te=w(".\n      The contribution score is measured by the output of "),ee=w(pc),ae=w(".\n      Since GAMs are additive, we can edit different "),ne=Q("span"),ne.textContent="shape functions",Ae=w(" independently."),ie=v(),re=Q("h2"),re.textContent="Why do I Want to Change GAMs?",se=v(),oe=Q("p"),oe.innerHTML='&quot;All models are wrong, and some are harmful&quot; is a modern realization of George Box’s <a href="https://en.wikipedia.org/wiki/All_models_are_wrong" class="svelte-k7z95y">famous quote</a>.\n      This is particularly true for ML-powered systems in high-stake domains (e.g., healthcare, finance, and criminal justice),\n      as a simple mistake can lead to catastrophic impacts on countless individuals.\n      These model mistakes can be caused by human label error, questionable training data, or even training stochasticity.\n      With interpretable ML models, we see many models exploit problematic patterns in the training data to make predictions.',le=v(),ce=Q("p"),ce.innerHTML='Here is an example where domain experts want to fix their GAMs.\n      Doctors have trained an <a href="https://github.com/interpretml/interpret" class="svelte-k7z95y">Explainable Boosting Machine (EBM)</a> model, a tree-based GAM, to predict the risk of dying from pneumonia.\n      The model uses continuous (e.g., <code class="svelte-k7z95y">age</code>), categorical (e.g., <code class="svelte-k7z95y">having asthma</code>) features, and their pair-wise interaction terms from a dataset collected in a US hospital.\n      The model’s prediction pattern on the feature <code class="svelte-k7z95y">age</code> is visualized in Figure 1.',ge=v(),ue=Q("div"),ue.innerHTML='<img src="https://i.imgur.com/1jtTWUj.png" alt="Shape function of age on pneumonia risk prediction EBM" width="90%" align="middle" class="svelte-k7z95y"/> \n      <div class="figure-caption svelte-k7z95y">Figure 1.  The shape function of age in an EBM model trained to predict the risk of dying from pneumonia.\n        The curve shows that the model predicts older patients to have a higher risk, but the predicted risk mysteriously drops when the patients are older than 100 years old.\n        This prediction pattern can deprive needy patients of care and cause harm in deployment.</div>',de=v(),he=Q("p"),he.innerHTML="The shape function visualization shows that the model predicts younger patients to have lower risk, and the risk increases when patients grow older.\n      However, the predicted risk suddenly plunges when the age passes 100—leading to a similar risk score as if the patient is 30 years younger!\n      One hypothesis is that this dangerous pattern might be due to outliers in this age range, especially the range with a small sample size.\n      To identify the true impact of age on pneumonia risk, additional causal experiments and analysis are needed.\n      Without robust evidence that people over 100 are truly at lower risk, doctors might fear that they may be injuring patients by depriving needy older people of care,\n      and violating their primary obligation to <strong>do no harm</strong>.\n      Therefore, some doctors would like to manually set the risk of older patients equal to that of their slightly younger neighbors.",pe=v(),fe=Q("p"),fe.innerHTML="Interpretability helps us discover model errors like the sudden drop of predicted risk of older patients; however,\n      it is unclear how we can fix these dangerous patterns.\n      GAM Changer aims to address this practical challenge.\n      With this tool, you can easily <em>investigate</em>, <em>validate</em>, and <em>align</em> GAM behaviors with your domain knowledge\n      and values through interactively editing model parameters.",Ce=v(),Ie=Q("h2"),Ie.textContent="How to Use GAM Changer?",Be=v(),Ee=Q("div"),Ee.innerHTML='<video autoplay="" loop="" muted="" playsinline="" class="loop-video svelte-k7z95y"><source src="/gam-changer/video/drag.mp4" type="video/mp4"/></video> \n      <div class="figure-caption svelte-k7z95y">Figure 2-1.  In the <a href="#top" style="font-variant: small-caps;" class="svelte-k7z95y">my model</a> tab, users can use simple drag-and-drop to start editing their GAM models.</div>',me=v(),Qe=Q("div"),Qe.innerHTML='<video autoplay="" loop="" muted="" playsinline="" class="loop-video no-shadow svelte-k7z95y"><source src="/gam-changer/video/jupyter.mp4" type="video/mp4"/></video> \n      <div class="figure-caption svelte-k7z95y">Figure 2-2.  Users can use GAM Changer directly in computational notebooks (e.g., Jupyter Notebook, Google Colab).</div>',ye=v(),we=Q("p"),we.innerHTML='We provide two options to use GAM Changer to edit your GAM models.\n      The first option is to select <a href="#top" style="font-variant: small-caps;" class="svelte-k7z95y">my model</a> on the top of this page, and then upload your model and sample data by dragging them to the interface (Figure 2-1).\n      You can follow <a href="https://gist.github.com/xiaohk/875b5374840c66689eb42a4b8820c3b5" class="svelte-k7z95y">this instruction</a> to export GAM model and sample data.\n      Alternatively, you can directly use GAM Changer in any computational notebooks (e.g., <a href="https://jupyter.org/" class="svelte-k7z95y">Jupyter Notebook/Lab</a>, <a href="https://colab.research.google.com" class="svelte-k7z95y">Google Colab</a>).\n      You can follow the steps in this <a href="https://colab.research.google.com/drive/1OgAVZKqs2VwmY13QuOjCxlOEyexsYjtm?usp=sharing" class="svelte-k7z95y">example notebook</a> (Figure 2-2).',ve=v(),xe=Q("h4"),xe.textContent="GAM Canvas",be=v(),De=Q("p"),De.textContent="The GAM Canvas (Figure 3) is the primary view of GAM Changer.\n      It visualizes one input feature’s contribution to the model’s prediction by plotting its shape function.\n      As a GAM’s inference varies by feature type, we apply different visualization designs for different feature types.\n      You can use the feature selection drop-down to switch features. To start, GAM Changer chooses the feature with the highest importance score for you.",Me=v(),ke=Q("div"),ke.innerHTML='<video autoplay="" loop="" muted="" playsinline="" class="loop-video svelte-k7z95y"><source src="/gam-changer/video/editing.mp4" type="video/mp4"/></video> \n      <div class="figure-caption svelte-k7z95y">Figure 3.  In the <em>GAM Canvas</em>, you can inspect the shape function with zooming and panning.\n        In the Selection Mode, you apply various editing tools to modify the shape function and change the model prediction behaviors.</div>',Le=v(),Se=Q("p"),Se.innerHTML="In the <em>Move Mode</em>, you can pan and zoom to inspect the graphs. To edit the model, you can switch to <em>Selection Mode</em> and select bins you want to change by drawing a bounding box around them.\n      Then, the <em>Context Toolbar</em> will appear, where you can apply different preset editing tools.\n      For example, with the <em>Move</em> tool, you can drag the selected bins up and down to change their contribution scores.\n      With the interpolation tool, you can (1) geometrically interpolate between two extreme points, (2) fit a mini-regression, or (3) use an arbitrary number of points to connect two extreme points (either geometric interpolation or regression).",Ge=v(),Ne=Q("h4"),Ne.textContent="Metric Panel",Re=v(),Fe=Q("div"),Fe.innerHTML='<video autoplay="" loop="" muted="" playsinline="" class="loop-video svelte-k7z95y"><source src="/gam-changer/video/performance.mp4" type="video/mp4"/></video> \n      <div class="figure-caption svelte-k7z95y">Figure 4. A &quot;live&quot; GAM model is running in your browser.\n        As you modify the shape function, GAM Changer changes this model and immediately evaluates it on the sample data.\n        The model performance is visualized in real-time in the <em>Metric Panel</em>.</div>',Ye=v(),$e=Q("p"),$e.innerHTML="Model editing empowers domain experts and data scientists to exercise human agency, but <strong>demands caution</strong>.\n      Changing an ML model can have serious consequences—you should only edit the model when you are confident that it would improve the model.\n      Fortunately, GAMs are glass-box models so that you can identify the effects of model changes.\n      To help you keep track of the editing effects on the model performance over the sample dataset, we have developed the <em>Metric Panel</em> (Figure 4).\n      In real-time, it visualizes the model performance metrics of the original model, the last version, and the current version.\n      You can also choose different metric scopes to focus on the selected bins or a dataset slice (e.g., houses with paved alley).",je=v(),Ue=Q("h4"),Ue.textContent="Feature Panel",He=v(),Je=Q("div"),Je.innerHTML='<video autoplay="" loop="" muted="" playsinline="" class="loop-video svelte-k7z95y"><source src="/gam-changer/video/feature.mp4" type="video/mp4"/></video> \n      <div class="figure-caption svelte-k7z95y">Figure 5. By identifying correlated features, GAM Changer helps you get an overview of the samples that are affected by your edits.\n        With the <em>Feature Panel</em>, we hope you are aware that the affected samples might share some other important attributes,\n        and model edits might have disproportional impact on some particular sub-populations.</div>',_e=v(),Te=Q("p"),Te.innerHTML="Besides model performance, we also hope you to <strong>be mindful about fairness issues</strong> during model editing;\n      some edits can disproportionally affect certain sub-groups in the dataset.\n      For example, in a house price prediction model (Figure 5), editing the model&#39;s prediction on high-quality houses would implicitly affect houses built in recent years.\n      This is because the house quality is correlated with when the house was built.\n      In healthcare, model edits created for older patients tend to affect women more than men, because in average women live longer than men.\n      To help you be aware of the characteristics of samples that are affected by your edits, we have designed the <em>Feature Panel</em> (Figure 5).\n      Every time you select an editing region on the <em>GAM Canvas</em>, the <em>Feature Panel</em> automatically identifies other correlated features (both continuous and categorical) and sorts them based on the correlation.\n      It also visualizes the distribution of the affected samples vs. all samples in the dataset.\n      You can also hover over the histogram bins in the Categorical tab to view their labels.",ze=v(),Oe=Q("h4"),Oe.textContent="History Panel",Pe=v(),Ke=Q("p"),Ke.innerHTML='With the <em>Metric Panel</em> and <em>Feature Panel</em>, GAM Changer helps you identify and envision potential consequences of model edits and make good edits.\n      But don’t worry if you have accidentally made a mistake! You can always click the <em>Undo</em> and <em>Redo</em> buttons to revert or re-apply any edits!\n      You can also use keyboard shortcuts <kbd class="svelte-k7z95y">cmd</kbd> + <kbd class="svelte-k7z95y">z</kbd> (<kbd class="svelte-k7z95y">ctrl</kbd> on Windows) and <kbd class="svelte-k7z95y">cmd</kbd> + <kbd class="svelte-k7z95y">shift</kbd> + <kbd class="svelte-k7z95y">z</kbd>.',Xe=v(),Ze=Q("div"),Ze.innerHTML='<video autoplay="" loop="" muted="" playsinline="" class="loop-video svelte-k7z95y"><source src="/gam-changer/video/history.mp4" type="video/mp4"/></video> \n      <div class="figure-caption svelte-k7z95y">Figure 6. With GAM Changer, you are safe to explore different editing options, as all edits are reversible.\n        GAM Changer keeps track of all your edits in the <em>History Panel</em>, and it automatically generates a short description to help you review edits in the future.\n        We strongly recommend you document your edits by typing in the text box; it will help other stakeholders (e.g., colleagues, auditors, users) make sense of your changes.</div>',qe=v(),We=Q("p"),We.innerHTML="GAM Changer keeps track of all the edits you have made, and it organizes them as a timeline in the <em>History Panel</em> (Figure 6).\n      You can also see the <em>timestamp</em>, <em>feature type</em>, <em>feature name</em>, and an automatically generated <em>description</em> of each edit.\n      By clicking the <em>Check out</em> button, you can preview the model from a previous version.\n      We encourage you to document all edits by typing in the text box.\n      You can write the motivations and contexts of your edits; they will become very helpful when you review edits in the future, or share the history with your colleagues.\n      Finally, before saving the model (by clicking the <em>Save</em> button on the bottom right), GAM Changer forces you to review and confirm all edits by clicking the <em>Thumbs-up</em> buttons.\n      GAM Changer also saves the entire editing history and descriptions so that you can review or continue editing in the future. Again, we hope this design can help you make responsible edits!",Ve=v(),ta=Q("h2"),ta.textContent="Video Tutorial",ea=v(),aa=Q("ul"),na=Q("li"),na.innerHTML='Introduction\n        <small class="svelte-k7z95y">(0:00-0:16)</small>',Aa=v(),ia=Q("li"),ia.innerHTML='<em>Problems revealed by interpretability</em> \n        <small class="svelte-k7z95y">(0:16-0:50)</small>',ra=v(),sa=Q("li"),sa.innerHTML='Introducing <em>GAM Changer</em> \n        <small class="svelte-k7z95y">(0:50-1:07)</small>',oa=v(),la=Q("li"),la.innerHTML='Democratizing model editing\n        <small class="svelte-k7z95y">(1:07-1:16)</small>',ca=v(),ga=Q("li"),ga.innerHTML='Navigation\n        <small class="svelte-k7z95y">(1:16-1:31)</small>',ua=v(),da=Q("li"),da.innerHTML='Editing categorical variables\n        <small class="svelte-k7z95y">(1:31-1:56)</small>',ha=v(),pa=Q("li"),pa.innerHTML='Editing continuous variables\n        <small class="svelte-k7z95y">(1:56-2:45)</small>',fa=v(),Ca=Q("li"),Ca.innerHTML='Responsible editing\n        <small class="svelte-k7z95y">(2:45-3:00)</small>',Ia=v(),Ba=Q("li"),Ba.innerHTML='<em>Metric Panel</em> \n        <small class="svelte-k7z95y">(3:00-3:09)</small>',Ea=v(),ma=Q("li"),ma.innerHTML='<em>Feature Panel</em> \n        <small class="svelte-k7z95y">(3:09-3:18)</small>',Qa=v(),ya=Q("li"),ya.innerHTML='<em>History Panel</em> \n        <small class="svelte-k7z95y">(3:18-3:41)</small>',wa=v(),va=Q("li"),va.innerHTML='Contributions\n        <small class="svelte-k7z95y">(3:41-3:55)</small>',xa=v(),ba=Q("div"),mt(Da.$$.fragment),Ma=v(),ka=Q("h2"),ka.innerHTML='How is <span class="tool-text svelte-k7z95y">GAM Changer</span> Developed?',La=v(),Sa=Q("p"),Sa.innerHTML='GAM Changer uses <a href="https://webassembly.org" class="svelte-k7z95y">WebAssembly</a>, a modern web technology to accelerate in-browser computation.\n      It enables GAM Changer to run a live EBM model along with isotonic regression and correlation computations directly <strong>in your browser</strong>!\n      In other words, the entire app runs locally and privately, and your model and data would not leave your machine.\n      The interactive system is written in Javascript using <a href="https://svelte.dev" class="svelte-k7z95y">Svelte</a> as a framework and <a href="https://d3js.org" class="svelte-k7z95y">D3.js</a> for visualizations.',Ga=v(),Na=Q("h2"),Na.innerHTML='Who Developed <span class="tool-text svelte-k7z95y">GAM Changer</span>?',Ra=v(),Fa=Q("p"),Fa.innerHTML='Led by <a href="https://zijie.wang" class="svelte-k7z95y">Jay Wang</a>, GAM Changer started as an intern project at <a href="https://www.microsoft.com/en-us/research/" class="svelte-k7z95y">Microsoft Research</a>.\n      The work is a result of a collaboration between ML and Human-computer Interaction researchers, data scientists, and doctors.\n      GAM Changer is created by <a href="https://zijie.wang" class="svelte-k7z95y">Jay Wang</a>,\n      <a href="http://students.washington.edu/kalea/" class="svelte-k7z95y">Alex Kale</a>,\n      <a href="https://www.linkedin.com/in/harshanori/" class="svelte-k7z95y">Harsha Nori</a>,\n      <a href="https://nyulangone.org/doctors/1548522964/peter-a-stella" class="svelte-k7z95y">Peter Stella</a>,\n      <a href="https://nyulangone.org/doctors/1144385360/mark-e-nunnally" class="svelte-k7z95y">Mark Nunnally</a>,\n      <a href="https://www.cc.gatech.edu/~dchau/" class="svelte-k7z95y">Polo Chau</a>,\n      <a href="https://www.microsoft.com/en-us/research/people/mivorvor/" class="svelte-k7z95y">Mickey Vorvoreanu</a>,\n      <a href="http://www.jennwv.com" class="svelte-k7z95y">Jenn Wortman Vaughan</a>,\n      and <a href="https://www.microsoft.com/en-us/research/people/rcaruana/" class="svelte-k7z95y">Rich Caruana</a>.',Ya=v(),$a=Q("p"),$a.textContent="We are also grateful to Scott Lundberg,\n      Steven Drucker,\n      Adam Fourney,\n      Saleema Amershi,\n      Dean Carignan,\n      Rob DeLine,\n      Haekyu Park,\n      the InterpretML team,\n      user study participants,\n      and anonymous reviewers\n      for their helpful feedback.",ja=v(),Ua=Q("h2"),Ua.textContent="How Can I Contribute?",Ha=v(),Ja=Q("p"),Ja.innerHTML='If you have any questions or feedback, feel free to <a href="https://github.com/interpretml/gam-changer/issues" class="svelte-k7z95y">open an issue</a> or contact <a href="https://zijie.wang" class="svelte-k7z95y">Jay Wang</a>.',_a=v(),Ta=Q("p"),Ta.innerHTML='We’d love to hear your experience with GAM Changer!\n      If you’d like to share (e.g., why you use GAM Changer, what functions you find most helpful),\n      please reach out to us.\n      GAM Changer is open-source, and we welcome <a href="https://github.com/interpretml/gam-changer/pulls" class="svelte-k7z95y">pull requests</a> for new feature implementations and bug fixes.',za=v(),Oa=Q("div"),Pa=Q("div"),Ka=Q("div"),Ka.innerHTML='<a target="_blank" href="https://www.microsoft.com/en-us/research/"><div class="svg-logo icon-ms svelte-k7z95y" title="Microsoft Research"></div></a> \n\n        <a target="_blank" href="https://www.gatech.edu/"><div class="svg-logo icon-gt svelte-k7z95y" title="Georgia Tech"></div></a> \n\n        <a target="_blank" href="https://www.washington.edu/"><div class="svg-logo icon-uw svelte-k7z95y" title="University of Washington"></div></a> \n\n        <a target="_blank" href="https://nyulangone.org/"><div class="svg-logo icon-nyu svelte-k7z95y" title="NYU Langone Health"></div></a>',Xa=v(),Za=Q("div"),qa=Q("div"),qa.textContent=`Copyright © ${(new Date).getFullYear()} The InterpretML Contributors`,D(a,"id","MathJax-script"),o(a.src,n="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js")||D(a,"src","https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"),D(d,"class","top-fill svelte-k7z95y"),D(p,"class","top-empty svelte-k7z95y"),D(I,"class","logo-container svelte-k7z95y"),D(x,"class","icon-container svelte-k7z95y"),D(N,"class","tab-title svelte-k7z95y"),D(F,"class","option svelte-k7z95y"),D(F,"data-text","iowa house price"),G(F,"selected","iowa"===e[3]),D($,"class","option svelte-k7z95y"),D($,"data-text","lending club"),G($,"selected","lc"===e[3]),D(U,"class","option svelte-k7z95y"),D(U,"data-text","census income"),G(U,"selected","adult"===e[3]),D(J,"class","option svelte-k7z95y"),D(J,"data-text","my model"),G(J,"selected","my"===e[3]),D(L,"class","tab-options svelte-k7z95y"),D(k,"class","gam-tab svelte-k7z95y"),D(u,"class","top svelte-k7z95y"),D(u,"id","top"),D(z,"id","what-is-gam-changer"),D(z,"class","svelte-k7z95y"),D(P,"class","svelte-k7z95y"),S(q,"color","hsl(24, 95%, 59%)"),S(et,"color","hsl(148, 71%, 44%)"),S(it,"color","hsl(265, 57%, 57%)"),S(lt,"color","hsl(206, 100%, 45%)"),D(X,"class","svelte-k7z95y"),S(vt,"color","hsl(265, 57%, 57%)"),S(Lt,"color","hsl(265, 57%, 57%)"),S(Rt,"color","hsl(213, 28%, 41%)"),S(Yt,"color","hsl(206, 100%, 45%)"),D(Ht,"href","https://www.routledge.com/Generalized-Additive-Models/Hastie-Tibshirani/p/book/9780412343902"),D(Ht,"class","svelte-k7z95y"),D(_t,"href","https://dl.acm.org/doi/10.1145/2783258.2788613"),D(_t,"class","svelte-k7z95y"),D(zt,"href","https://arxiv.org/abs/2004.13912"),D(zt,"class","svelte-k7z95y"),S(qt,"color","hsl(206, 100%, 45%)"),S(ne,"color","hsl(206, 100%, 45%)"),D(Et,"class","svelte-k7z95y"),D(re,"id","why-do-i-want-to-change-gams"),D(re,"class","svelte-k7z95y"),D(oe,"class","svelte-k7z95y"),D(ce,"class","svelte-k7z95y"),D(ue,"class","figure svelte-k7z95y"),D(he,"class","svelte-k7z95y"),D(fe,"class","svelte-k7z95y"),D(Ie,"id","how-to-use-gam-changer"),D(Ie,"class","svelte-k7z95y"),D(Ee,"class","video svelte-k7z95y"),D(Qe,"class","video svelte-k7z95y"),S(Qe,"margin-top","30px"),D(we,"class","svelte-k7z95y"),D(xe,"id","gam-canvas"),D(xe,"class","svelte-k7z95y"),D(De,"class","svelte-k7z95y"),D(ke,"class","video svelte-k7z95y"),D(Se,"class","svelte-k7z95y"),D(Ne,"id","metric-panel"),D(Ne,"class","svelte-k7z95y"),D(Fe,"class","video svelte-k7z95y"),D($e,"class","svelte-k7z95y"),D(Ue,"id","feature-panel"),D(Ue,"class","svelte-k7z95y"),D(Je,"class","video svelte-k7z95y"),D(Te,"class","svelte-k7z95y"),D(Oe,"id","history-panel"),D(Oe,"class","svelte-k7z95y"),D(Ke,"class","svelte-k7z95y"),D(Ze,"class","video svelte-k7z95y"),D(We,"class","svelte-k7z95y"),D(ta,"id","video-tutorial"),D(ta,"class","svelte-k7z95y"),D(na,"class","video-link svelte-k7z95y"),D(ia,"class","video-link svelte-k7z95y"),D(sa,"class","video-link svelte-k7z95y"),D(la,"class","video-link svelte-k7z95y"),D(ga,"class","video-link svelte-k7z95y"),D(da,"class","video-link svelte-k7z95y"),D(pa,"class","video-link svelte-k7z95y"),D(Ca,"class","video-link svelte-k7z95y"),D(Ba,"class","video-link svelte-k7z95y"),D(ma,"class","video-link svelte-k7z95y"),D(ya,"class","video-link svelte-k7z95y"),D(va,"class","video-link svelte-k7z95y"),D(aa,"class","svelte-k7z95y"),D(ba,"class","video svelte-k7z95y"),S(ba,"margin-bottom","2em"),D(ka,"id","how-is-gam-changer-developed"),D(ka,"class","svelte-k7z95y"),D(Sa,"class","svelte-k7z95y"),D(Na,"id","who-developed-gam-changer"),D(Na,"class","svelte-k7z95y"),D(Fa,"class","svelte-k7z95y"),D($a,"class","svelte-k7z95y"),D(Ua,"id","how-can-i-contribute"),D(Ua,"class","svelte-k7z95y"),D(Ja,"class","svelte-k7z95y"),D(Ta,"class","svelte-k7z95y"),D(T,"class","article svelte-k7z95y"),D(Ka,"class","footer-logo svelte-k7z95y"),D(Za,"class","footer-cp svelte-k7z95y"),D(Pa,"class","footer-main svelte-k7z95y"),D(Oa,"class","article-footer svelte-k7z95y"),D(l,"class","page svelte-k7z95y")},m(t,n){C(document.head,a),E(t,s,n),E(t,l,n),Qt(c,l,null),C(l,g),C(l,u),C(u,d),C(u,h),C(u,p),C(u,f),C(u,I),C(u,B),an.m(u,null),C(u,y),C(u,x),C(u,M),C(u,k),C(k,L),C(L,N),C(L,R),C(L,F),C(L,Y),C(L,$),C(L,j),C(L,U),C(L,H),C(L,J),C(l,_),C(l,T),C(T,z),C(T,O),C(T,P),C(T,K),C(T,X),C(X,Z),C(X,q),C(X,W),C(X,V),C(X,tt),C(X,et),C(X,at),C(X,nt),C(X,At),C(X,it),C(X,rt),C(X,st),C(X,ot),C(X,lt),C(X,ct),C(X,gt),C(X,ft),C(T,Ct),C(T,It),C(T,Bt),C(T,Et),C(Et,wt),C(Et,vt),C(Et,xt),C(Et,bt),C(Et,Dt),C(Et,Mt),C(Et,kt),C(Et,Lt),C(Et,St),C(Et,Gt),C(Et,Nt),C(Et,Rt),C(Et,Ft),C(Et,Yt),C(Et,$t),C(Et,jt),C(Et,Ut),C(Et,Ht),C(Et,Jt),C(Et,_t),C(Et,Tt),C(Et,zt),C(Et,Ot),C(Et,Pt),C(Et,Kt),C(Et,Xt),C(Et,Zt),C(Et,qt),C(Et,Wt),C(Et,Vt),C(Et,te),C(Et,ee),C(Et,ae),C(Et,ne),C(Et,Ae),C(T,ie),C(T,re),C(T,se),C(T,oe),C(T,le),C(T,ce),C(T,ge),C(T,ue),C(T,de),C(T,he),C(T,pe),C(T,fe),C(T,Ce),C(T,Ie),C(T,Be),C(T,Ee),C(T,me),C(T,Qe),C(T,ye),C(T,we),C(T,ve),C(T,xe),C(T,be),C(T,De),C(T,Me),C(T,ke),C(T,Le),C(T,Se),C(T,Ge),C(T,Ne),C(T,Re),C(T,Fe),C(T,Ye),C(T,$e),C(T,je),C(T,Ue),C(T,He),C(T,Je),C(T,_e),C(T,Te),C(T,ze),C(T,Oe),C(T,Pe),C(T,Ke),C(T,Xe),C(T,Ze),C(T,qe),C(T,We),C(T,Ve),C(T,ta),C(T,ea),C(T,aa),C(aa,na),C(aa,Aa),C(aa,ia),C(aa,ra),C(aa,sa),C(aa,oa),C(aa,la),C(aa,ca),C(aa,ga),C(aa,ua),C(aa,da),C(aa,ha),C(aa,pa),C(aa,fa),C(aa,Ca),C(aa,Ia),C(aa,Ba),C(aa,Ea),C(aa,ma),C(aa,Qa),C(aa,ya),C(aa,wa),C(aa,va),C(T,xa),C(T,ba),Qt(Da,ba,null),C(T,Ma),C(T,ka),C(T,La),C(T,Sa),C(T,Ga),C(T,Na),C(T,Ra),C(T,Fa),C(T,Ya),C(T,$a),C(T,ja),C(T,Ua),C(T,Ha),C(T,Ja),C(T,_a),C(T,Ta),C(l,za),C(l,Oa),C(Oa,Pa),C(Pa,Ka),C(Pa,Xa),C(Pa,Za),C(Za,qa),e[12](l),Wa=!0,Va||(tn=[b(F,"click",e[7]),b($,"click",e[8]),b(U,"click",e[9]),b(J,"click",e[10]),b(na,"click",(function(){i(e[1].play(0))&&e[1].play(0).apply(this,arguments)})),b(ia,"click",(function(){i(e[1].play(16))&&e[1].play(16).apply(this,arguments)})),b(sa,"click",(function(){i(e[1].play(50))&&e[1].play(50).apply(this,arguments)})),b(la,"click",(function(){i(e[1].play(67))&&e[1].play(67).apply(this,arguments)})),b(ga,"click",(function(){i(e[1].play(76))&&e[1].play(76).apply(this,arguments)})),b(da,"click",(function(){i(e[1].play(91))&&e[1].play(91).apply(this,arguments)})),b(pa,"click",(function(){i(e[1].play(116))&&e[1].play(116).apply(this,arguments)})),b(Ca,"click",(function(){i(e[1].play(165))&&e[1].play(165).apply(this,arguments)})),b(Ba,"click",(function(){i(e[1].play(180))&&e[1].play(180).apply(this,arguments)})),b(ma,"click",(function(){i(e[1].play(189))&&e[1].play(189).apply(this,arguments)})),b(ya,"click",(function(){i(e[1].play(198))&&e[1].play(198).apply(this,arguments)})),b(va,"click",(function(){i(e[1].play(221))&&e[1].play(221).apply(this,arguments)}))],Va=!0)},p(a,[n]){e=a;c.$set({}),8&n&&r(en,en=e[3])?(ut(),pt(an,1,1,t),dt(),an=ic(e),an.c(),ht(an),an.m(u,y)):an.p(e,n),8&n&&G(F,"selected","iowa"===e[3]),8&n&&G($,"selected","lc"===e[3]),8&n&&G(U,"selected","adult"===e[3]),8&n&&G(J,"selected","my"===e[3]);Da.$set({})},i(t){Wa||(ht(c.$$.fragment,t),ht(an),ht(Da.$$.fragment,t),Wa=!0)},o(t){pt(c.$$.fragment,t),pt(an),pt(Da.$$.fragment,t),Wa=!1},d(t){m(a),t&&m(s),t&&m(l),e[6](null),yt(c),an.d(t),e[11](null),yt(Da),e[12](null),Va=!1,A(tn)}}}const sc="\\( \\textcolor{hsl(24, 95%, 59%)}{x \\in \\mathbb{R}^{M}} \\)",oc="\\( \\textcolor{hsl(148, 71%, 44%)}{y \\in \\mathbb{R}} \\)",lc="$$ \\textcolor{hsl(265, 57%, 57%)}{g \\left( \\textcolor{hsl(148, 71%, 44%)}{y} \\right)} = \\textcolor{hsl(213, 28%, 41%)}{\\beta_0} + \\textcolor{hsl(206, 100%, 45%)}{f_1 \\left( \\textcolor{hsl(24, 95%, 59%)}{x_1} \\right)} + \\textcolor{hsl(206, 100%, 45%)}{f_2 \\left( \\textcolor{hsl(24, 95%, 59%)}{x_2} \\right)} + \\cdots + \\textcolor{hsl(206, 100%, 45%)}{f_M \\left( \\textcolor{hsl(24, 95%, 59%)}{x_M} \\right)} $$",cc="\\( \\textcolor{hsl(206, 100%, 45%)}{f_{ij}\\left( \\textcolor{hsl(24, 95%, 59%)}{x_i ,x_j} \\right) }\\)",gc="\\( \\textcolor{hsl(265, 57%, 57%)}{g} \\)",uc="\\( \\textcolor{hsl(206, 100%, 45%)}{f_j} \\)",dc="\\( \\textcolor{hsl(213, 28%, 41%)}{\\beta_0} \\)",hc="\\( \\textcolor{hsl(24, 95%, 59%)}{x_j} \\)",pc="\\( \\textcolor{hsl(206, 100%, 45%)}{f_{ij}\\left( \\textcolor{hsl(24, 95%, 59%)}{x_i} \\right) }\\)";function fc(t,e,a){let n=null,A=null,i=null;ws.subscribe((t=>{}));let r="iowa";const s=t=>t.replaceAll("black","currentcolor").replaceAll("fill:none","fill:currentcolor").replaceAll("stroke:none","fill:currentcolor"),o=t=>{a(3,r=t)};z((()=>{sr.select(n).selectAll(".svg-icon.icon-github").html(s('<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github-alt" class="svg-inline--fa fa-github-alt fa-w-15" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path fill="currentColor" d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg>')),sr.select(n).selectAll(".svg-icon.icon-youtube").html(s('<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="youtube" class="svg-inline--fa fa-youtube fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg>')),sr.select(n).selectAll(".svg-icon.icon-pdf").html(s('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-pdf" class="svg-inline--fa fa-file-pdf fa-w-12" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"></path></svg>')),sr.select(n).selectAll(".svg-logo.icon-ms").html(s('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 506 109" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <g transform="matrix(1,0,0,1,-8240,-5349)">        <g transform="matrix(0.622121,0,0,0.417008,8066.43,2758.66)">            <g id="ms" transform="matrix(2.4075,0,0,3.59166,279.114,6212.49)">                <path d="M140.4,14.4L140.4,57.6L132.9,57.6L132.9,23.7L132.8,23.7L119.4,57.6L114.4,57.6L100.7,23.7L100.6,23.7L100.6,57.6L93.7,57.6L93.7,14.4L104.5,14.4L116.9,46.4L117.1,46.4L130.2,14.4L140.4,14.4ZM146.6,17.7C146.6,16.5 147,15.5 147.9,14.7C148.8,13.9 149.8,13.5 151,13.5C152.3,13.5 153.4,13.9 154.2,14.7C155,15.5 155.5,16.5 155.5,17.7C155.5,18.9 155.1,19.9 154.2,20.7C153.3,21.5 152.3,21.9 151,21.9C149.7,21.9 148.7,21.5 147.9,20.7C147.1,19.8 146.6,18.8 146.6,17.7ZM154.7,26.6L154.7,57.6L147.4,57.6L147.4,26.6L154.7,26.6ZM176.8,52.3C177.9,52.3 179.1,52.1 180.4,51.5C181.7,51 182.9,50.3 184,49.5L184,56.3C182.8,57 181.5,57.5 180,57.8C178.5,58.1 176.9,58.3 175.1,58.3C170.5,58.3 166.8,56.9 164,54C161.1,51.1 159.7,47.4 159.7,43C159.7,38 161.2,33.9 164.1,30.7C167,27.5 171.1,25.9 176.5,25.9C177.9,25.9 179.3,26.1 180.6,26.4C182,26.7 183.1,27.2 183.9,27.6L183.9,34.6C182.8,33.8 181.6,33.1 180.5,32.7C179.3,32.3 178.1,32 176.9,32C174,32 171.7,32.9 169.9,34.8C168.1,36.7 167.3,39.2 167.3,42.4C167.3,45.5 168.2,48 169.9,49.7C171.6,51.4 173.9,52.3 176.8,52.3ZM204.7,26.1C205.3,26.1 205.8,26.1 206.3,26.2C206.8,26.3 207.2,26.4 207.5,26.5L207.5,33.9C207.1,33.6 206.6,33.3 205.8,33.1C205,32.9 204.2,32.7 203.1,32.7C201.3,32.7 199.8,33.5 198.6,35C197.4,36.5 196.7,38.8 196.7,42L196.7,57.6L189.4,57.6L189.4,26.6L196.7,26.6L196.7,31.5L196.8,31.5C197.5,29.8 198.5,28.5 199.8,27.5C201.2,26.6 202.8,26.1 204.7,26.1ZM207.9,42.6C207.9,37.5 209.4,33.4 212.2,30.4C215.1,27.4 219.1,25.9 224.2,25.9C229,25.9 232.8,27.3 235.5,30.2C238.2,33.1 239.6,37 239.6,41.9C239.6,46.9 238.1,50.9 235.3,53.9C232.4,56.9 228.5,58.4 223.5,58.4C218.7,58.4 214.9,57 212.1,54.2C209.3,51.3 207.9,47.4 207.9,42.6ZM215.5,42.3C215.5,45.5 216.2,48 217.7,49.7C219.2,51.4 221.3,52.3 224,52.3C226.6,52.3 228.7,51.5 230.1,49.7C231.5,48 232.2,45.5 232.2,42.1C232.2,38.8 231.5,36.3 230.1,34.5C228.7,32.8 226.6,31.9 224.1,31.9C221.4,31.9 219.4,32.8 217.9,34.6C216.2,36.5 215.5,39 215.5,42.3ZM250.5,34.8C250.5,35.8 250.8,36.7 251.5,37.3C252.2,37.9 253.6,38.6 255.9,39.5C258.8,40.7 260.9,42 262,43.4C263.2,44.9 263.8,46.6 263.8,48.7C263.8,51.6 262.7,53.9 260.4,55.7C258.2,57.5 255.1,58.3 251.3,58.3C250,58.3 248.6,58.1 247,57.8C245.4,57.5 244.1,57.1 243,56.6L243,49.4C244.3,50.3 245.8,51.1 247.3,51.6C248.8,52.1 250.2,52.4 251.5,52.4C253.1,52.4 254.4,52.2 255.1,51.7C255.9,51.2 256.3,50.5 256.3,49.4C256.3,48.4 255.9,47.6 255.1,46.8C254.3,46.1 252.7,45.3 250.5,44.4C247.8,43.3 245.9,42 244.8,40.6C243.7,39.2 243.1,37.4 243.1,35.2C243.1,32.4 244.2,30.1 246.4,28.3C248.6,26.5 251.5,25.6 255,25.6C256.1,25.6 257.3,25.7 258.6,26C259.9,26.3 261.1,26.6 262,26.9L262,34C261,33.4 259.9,32.8 258.6,32.3C257.3,31.8 256,31.6 254.8,31.6C253.4,31.6 252.3,31.9 251.6,32.4C250.9,33.1 250.5,33.8 250.5,34.8ZM266.9,42.6C266.9,37.5 268.4,33.4 271.2,30.4C274.1,27.4 278.1,25.9 283.2,25.9C288,25.9 291.8,27.3 294.5,30.2C297.2,33.1 298.6,37 298.6,41.9C298.6,46.9 297.1,50.9 294.3,53.9C291.4,56.9 287.5,58.4 282.5,58.4C277.7,58.4 273.9,57 271.1,54.2C268.4,51.3 266.9,47.4 266.9,42.6ZM274.5,42.3C274.5,45.5 275.2,48 276.7,49.7C278.2,51.4 280.3,52.3 283,52.3C285.6,52.3 287.7,51.5 289.1,49.7C290.5,48 291.2,45.5 291.2,42.1C291.2,38.8 290.5,36.3 289.1,34.5C287.7,32.8 285.6,31.9 283.1,31.9C280.4,31.9 278.4,32.8 276.9,34.6C275.3,36.5 274.5,39 274.5,42.3ZM322.9,32.6L312,32.6L312,57.6L304.6,57.6L304.6,32.6L299.4,32.6L299.4,26.6L304.6,26.6L304.6,22.3C304.6,19.1 305.7,16.4 307.8,14.3C309.9,12.2 312.6,11.2 315.9,11.2C316.8,11.2 317.6,11.3 318.3,11.3C319,11.3 319.6,11.5 320.1,11.7L320.1,18C319.9,17.9 319.4,17.7 318.8,17.5C318.2,17.3 317.5,17.2 316.7,17.2C315.2,17.2 314,17.7 313.2,18.6C312.4,19.5 312,21 312,22.8L312,26.5L322.9,26.5L322.9,19.5L330.2,17.3L330.2,26.5L337.6,26.5L337.6,32.5L330.2,32.5L330.2,47C330.2,48.9 330.6,50.2 331.2,51C331.9,51.8 333,52.2 334.5,52.2C334.9,52.2 335.4,52.1 336,51.9C336.6,51.7 337.1,51.5 337.5,51.2L337.5,57.2C337,57.5 336.3,57.7 335.2,57.9C334.1,58.1 333.1,58.2 332,58.2C328.9,58.2 326.6,57.4 325.1,55.8C323.6,54.2 322.8,51.7 322.8,48.4L322.9,32.6Z" style="fill:white;fill-rule:nonzero;"/>                <rect x="0" y="0" width="34.2" height="34.2" style="fill:rgb(242,80,34);"/>                <rect x="37.8" y="0" width="34.2" height="34.2" style="fill:rgb(127,186,0);"/>                <rect x="0" y="37.8" width="34.2" height="34.2" style="fill:rgb(0,164,239);"/>                <rect x="37.8" y="37.8" width="34.2" height="34.2" style="fill:rgb(255,185,0);"/>            </g>        </g>    </g></svg>')),sr.select(n).selectAll(".svg-logo.icon-gt").html(s('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 418 108" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <g transform="matrix(1,0,0,1,-8240,-5194)">        <g transform="matrix(0.622121,0,0,0.417008,8066.43,2758.66)">            <g id="gt" transform="matrix(1,0,0,1,-37.4125,1.81899e-12)">                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M179.1,68.4L206.36,68.4C206.381,68.397 206.403,68.395 206.425,68.395C206.666,68.395 206.865,68.594 206.865,68.835C206.865,68.857 206.863,68.879 206.86,68.9L206.86,77C206.863,77.021 206.864,77.042 206.864,77.063C206.864,77.31 206.661,77.513 206.414,77.513C206.396,77.513 206.378,77.512 206.36,77.51L202,77.51C201.979,77.513 201.957,77.515 201.935,77.515C201.688,77.515 201.485,77.312 201.485,77.065C201.485,77.043 201.487,77.021 201.49,77L201.49,74C201.491,73.989 201.492,73.979 201.492,73.968C201.492,73.82 201.37,73.698 201.222,73.698C201.211,73.698 201.201,73.699 201.19,73.7L196,73.7C195.989,73.699 195.979,73.698 195.968,73.698C195.82,73.698 195.698,73.82 195.698,73.968C195.698,73.979 195.699,73.989 195.7,74L195.7,97.58C195.699,97.591 195.698,97.601 195.698,97.612C195.698,97.76 195.82,97.882 195.968,97.882C195.979,97.882 195.989,97.881 196,97.88L198.64,97.88C198.658,97.878 198.676,97.877 198.694,97.877C198.941,97.877 199.144,98.08 199.144,98.327C199.144,98.348 199.143,98.369 199.14,98.39L199.14,102.39C199.143,102.411 199.144,102.432 199.144,102.453C199.144,102.7 198.941,102.903 198.694,102.903C198.676,102.903 198.658,102.902 198.64,102.9L186.8,102.9C186.779,102.903 186.757,102.905 186.735,102.905C186.488,102.905 186.285,102.702 186.285,102.455C186.285,102.433 186.287,102.411 186.29,102.39L186.29,98.39C186.287,98.369 186.285,98.347 186.285,98.325C186.285,98.078 186.488,97.875 186.735,97.875C186.757,97.875 186.779,97.877 186.8,97.88L189.43,97.88C189.64,97.88 189.74,97.78 189.74,97.58L189.74,74C189.74,73.8 189.64,73.7 189.43,73.7L184.27,73.7C184.06,73.7 183.96,73.8 183.96,74L183.96,77C183.963,77.021 183.964,77.042 183.964,77.063C183.964,77.31 183.761,77.513 183.514,77.513C183.496,77.513 183.478,77.512 183.46,77.51L179.1,77.51C179.079,77.513 179.057,77.515 179.035,77.515C178.788,77.515 178.585,77.312 178.585,77.065C178.585,77.043 178.587,77.021 178.59,77L178.59,68.9C178.588,68.882 178.587,68.864 178.587,68.846C178.587,68.599 178.79,68.396 179.037,68.396C179.058,68.396 179.079,68.397 179.1,68.4Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M217.31,77.87C219.574,77.802 221.805,78.431 223.7,79.67C225.44,80.856 226.727,82.598 227.35,84.61C227.98,87.007 228.253,89.484 228.16,91.96C228.16,92.29 227.97,92.46 227.6,92.46L212.6,92.46C212.4,92.46 212.3,92.56 212.3,92.77C212.307,93.409 212.426,94.042 212.65,94.64C213.503,97.107 215.327,98.34 218.12,98.34C220.262,98.421 222.337,97.566 223.8,96C224.07,95.73 224.32,95.7 224.56,95.9L227.56,98.53C227.663,98.619 227.722,98.749 227.722,98.885C227.722,99.021 227.663,99.151 227.56,99.24C225.2,102.013 221.867,103.4 217.56,103.4C215.258,103.476 212.986,102.848 211.05,101.6C209.28,100.412 207.979,98.643 207.37,96.6C206.774,94.657 206.484,92.632 206.51,90.6C206.473,88.57 206.746,86.547 207.32,84.6C207.923,82.554 209.226,80.783 211,79.6C212.881,78.402 215.081,77.799 217.31,77.87ZM217.37,82.68C214.87,82.68 213.263,83.73 212.55,85.83C212.34,86.5 212.239,87.198 212.25,87.9C212.25,88.11 212.35,88.21 212.55,88.21L222.13,88.21C222.33,88.21 222.43,88.11 222.43,87.9C222.441,87.198 222.34,86.5 222.13,85.83C221.815,84.881 221.187,84.066 220.35,83.52C219.464,82.947 218.425,82.655 217.37,82.68Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M243,77.87C245.924,77.761 248.826,78.427 251.41,79.8C251.669,79.913 251.829,80.178 251.81,80.46L251.81,86C251.813,86.021 251.815,86.043 251.815,86.065C251.815,86.306 251.616,86.505 251.375,86.505C251.353,86.505 251.331,86.503 251.31,86.5L247,86.5C246.975,86.504 246.95,86.506 246.925,86.506C246.684,86.506 246.485,86.308 246.485,86.066C246.485,86.044 246.487,86.022 246.49,86L246.49,83.8C246.49,83.66 246.41,83.55 246.24,83.44C245.258,83.054 244.204,82.884 243.15,82.94C240.483,82.94 238.817,84.003 238.15,86.13C237.762,87.601 237.594,89.12 237.65,90.64C237.592,92.176 237.76,93.713 238.15,95.2C238.863,97.293 240.53,98.34 243.15,98.34C244.201,98.409 245.255,98.252 246.24,97.88C246.395,97.838 246.5,97.691 246.49,97.53L246.49,95.25C246.487,95.229 246.485,95.207 246.485,95.185C246.485,94.938 246.688,94.735 246.935,94.735C246.957,94.735 246.979,94.737 247,94.74L251.31,94.74C251.328,94.738 251.346,94.737 251.364,94.737C251.611,94.737 251.814,94.94 251.814,95.187C251.814,95.208 251.813,95.229 251.81,95.25L251.81,100.87C251.829,101.152 251.669,101.417 251.41,101.53C248.8,102.828 245.914,103.474 243,103.41C237.493,103.41 234.03,101.213 232.61,96.82C232.037,94.812 231.78,92.727 231.85,90.64C231.789,88.613 232.046,86.588 232.61,84.64C233.238,82.579 234.578,80.806 236.39,79.64C238.372,78.415 240.671,77.8 243,77.87Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M255.78,68.4L263.43,68.4C263.451,68.397 263.472,68.396 263.493,68.396C263.74,68.396 263.943,68.599 263.943,68.846C263.943,68.864 263.942,68.882 263.94,68.9L263.94,80.71L264,80.71C265.333,78.823 267.447,77.877 270.34,77.87C272.644,77.78 274.876,78.705 276.44,80.4C278.021,82.202 278.849,84.545 278.75,86.94L278.75,97.58C278.749,97.591 278.748,97.601 278.748,97.612C278.748,97.76 278.87,97.882 279.018,97.882C279.029,97.882 279.039,97.881 279.05,97.88L281.13,97.88C281.148,97.878 281.166,97.877 281.184,97.877C281.431,97.877 281.634,98.08 281.634,98.327C281.634,98.348 281.633,98.369 281.63,98.39L281.63,102.39C281.633,102.411 281.634,102.432 281.634,102.453C281.634,102.7 281.431,102.903 281.184,102.903C281.166,102.903 281.148,102.902 281.13,102.9L270.58,102.9C270.559,102.903 270.537,102.905 270.515,102.905C270.268,102.905 270.065,102.702 270.065,102.455C270.065,102.433 270.067,102.411 270.07,102.39L270.07,98.39C270.067,98.369 270.065,98.347 270.065,98.325C270.065,98.078 270.268,97.875 270.515,97.875C270.537,97.875 270.559,97.877 270.58,97.88L272.76,97.88C272.771,97.881 272.781,97.882 272.792,97.882C272.94,97.882 273.062,97.76 273.062,97.612C273.062,97.601 273.061,97.591 273.06,97.58L273.06,88.26C273.135,86.872 272.724,85.5 271.9,84.38C271.014,83.461 269.791,82.941 268.515,82.941C267.239,82.941 266.016,83.461 265.13,84.38C264.29,85.493 263.868,86.867 263.94,88.26L263.94,97.58C263.94,97.78 264.04,97.88 264.25,97.88L266.42,97.88C266.441,97.877 266.463,97.875 266.485,97.875C266.732,97.875 266.935,98.078 266.935,98.325C266.935,98.347 266.933,98.369 266.93,98.39L266.93,102.39C266.933,102.411 266.935,102.433 266.935,102.455C266.935,102.702 266.732,102.905 266.485,102.905C266.463,102.905 266.441,102.903 266.42,102.9L255.78,102.9C255.762,102.902 255.744,102.903 255.726,102.903C255.479,102.903 255.276,102.7 255.276,102.453C255.276,102.432 255.277,102.411 255.28,102.39L255.28,98.39C255.277,98.369 255.276,98.348 255.276,98.327C255.276,98.08 255.479,97.877 255.726,97.877C255.744,97.877 255.762,97.878 255.78,97.88L258,97.88C258.21,97.88 258.31,97.78 258.31,97.58L258.31,73.67C258.312,73.656 258.314,73.641 258.314,73.626C258.314,73.478 258.192,73.356 258.044,73.356C258.029,73.356 258.014,73.358 258,73.36L255.82,73.36C255.799,73.363 255.777,73.365 255.755,73.365C255.514,73.365 255.315,73.166 255.315,72.925C255.315,72.903 255.317,72.881 255.32,72.86L255.32,68.86C255.32,68.853 255.32,68.846 255.32,68.84C255.32,68.598 255.518,68.4 255.76,68.4C255.766,68.4 255.773,68.4 255.78,68.4Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M184.23,23.68C186.267,23.67 188.293,23.987 190.23,24.62C191.9,25.111 193.456,25.927 194.81,27.02C195.031,27.19 195.164,27.451 195.17,27.73L195.17,33.81C195.173,33.831 195.175,33.853 195.175,33.875C195.175,34.122 194.972,34.325 194.725,34.325C194.703,34.325 194.681,34.323 194.66,34.32L190.1,34.32C190.078,34.323 190.056,34.325 190.034,34.325C189.792,34.325 189.594,34.126 189.594,33.885C189.594,33.86 189.596,33.835 189.6,33.81L189.6,30.81C189.605,30.649 189.525,30.497 189.39,30.41C187.79,29.44 185.939,28.963 184.07,29.04C180.363,29.04 177.983,30.577 176.93,33.65C176.287,36.232 176.015,38.892 176.12,41.55C176.001,44.171 176.223,46.796 176.78,49.36C177.195,50.713 178.037,51.896 179.18,52.73C180.58,53.56 182.196,53.953 183.82,53.86C185.769,53.99 187.717,53.571 189.44,52.65C189.749,52.499 189.947,52.184 189.95,51.84L189.95,45.11C189.951,45.099 189.952,45.089 189.952,45.078C189.952,44.93 189.83,44.808 189.682,44.808C189.671,44.808 189.661,44.809 189.65,44.81L184.17,44.81C184.152,44.812 184.134,44.813 184.116,44.813C183.869,44.813 183.666,44.61 183.666,44.363C183.666,44.342 183.667,44.321 183.67,44.3L183.67,40.3C183.667,40.279 183.666,40.258 183.666,40.237C183.666,39.99 183.869,39.787 184.116,39.787C184.134,39.787 184.152,39.788 184.17,39.79L195.22,39.79C195.241,39.787 195.263,39.785 195.285,39.785C195.532,39.785 195.735,39.988 195.735,40.235C195.735,40.257 195.733,40.279 195.73,40.3L195.73,54.79C195.738,55.281 195.487,55.741 195.07,56C191.728,58.261 187.752,59.399 183.72,59.25C176.933,59.25 172.66,56.563 170.9,51.19C170.333,49.47 170.047,46.26 170.04,41.56C170.04,37.14 170.36,33.96 171.04,32.04C172.807,26.473 177.203,23.687 184.23,23.68Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M211,33.71C213.261,33.64 215.489,34.268 217.38,35.51C219.117,36.693 220.395,38.438 221,40.45C221.631,42.843 221.904,45.317 221.81,47.79C221.81,48.13 221.63,48.3 221.26,48.3L206.2,48.3C206.189,48.299 206.179,48.298 206.168,48.298C206.015,48.298 205.888,48.425 205.888,48.578C205.888,48.589 205.889,48.599 205.89,48.61C205.897,49.25 206.019,49.883 206.25,50.48C207.09,52.95 208.92,54.18 211.72,54.18C213.878,54.278 215.973,53.426 217.45,51.85C217.72,51.58 217.97,51.54 218.21,51.75L221.21,54.38C221.335,54.466 221.41,54.608 221.41,54.76C221.41,54.884 221.359,55.003 221.27,55.09C218.897,57.857 215.563,59.243 211.27,59.25C208.968,59.323 206.698,58.695 204.76,57.45C202.998,56.256 201.701,54.489 201.09,52.45C200.495,50.506 200.205,48.482 200.23,46.45C200.193,44.42 200.466,42.397 201.04,40.45C201.638,38.405 202.938,36.634 204.71,35.45C206.586,34.256 208.777,33.65 211,33.71ZM211,38.52C208.5,38.52 206.897,39.567 206.19,41.66C205.977,42.332 205.872,43.035 205.88,43.74C205.879,43.751 205.878,43.761 205.878,43.772C205.878,43.925 206.005,44.052 206.158,44.052C206.169,44.052 206.179,44.051 206.19,44.05L215.76,44.05C215.771,44.051 215.781,44.052 215.792,44.052C215.945,44.052 216.072,43.925 216.072,43.772C216.072,43.761 216.071,43.751 216.07,43.74C216.083,43.034 215.978,42.331 215.76,41.66C215.446,40.716 214.822,39.905 213.99,39.36C213.1,38.786 212.058,38.493 211,38.52Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M236.14,33.71C238.389,33.648 240.606,34.265 242.5,35.48C244.272,36.664 245.572,38.435 246.17,40.48C246.75,42.426 247.023,44.45 246.98,46.48C247.022,48.51 246.748,50.534 246.17,52.48C245.578,54.528 244.277,56.301 242.5,57.48C240.609,58.703 238.391,59.324 236.14,59.26C233.873,59.326 231.638,58.706 229.73,57.48C227.953,56.301 226.652,54.528 226.06,52.48C225.482,50.534 225.208,48.51 225.25,46.48C225.207,44.45 225.48,42.426 226.06,40.48C226.658,38.435 227.958,36.664 229.73,35.48C231.641,34.262 233.875,33.645 236.14,33.71ZM236.14,38.78C234.032,38.583 232.071,39.953 231.53,42C231.142,43.471 230.97,44.99 231.02,46.51C230.966,48.03 231.138,49.55 231.53,51.02C232.239,52.933 234.075,54.21 236.115,54.21C238.155,54.21 239.991,52.933 240.7,51.02C241.092,49.55 241.264,48.03 241.21,46.51C241.26,44.99 241.088,43.471 240.7,42C240.173,39.965 238.234,38.596 236.14,38.78Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M264.52,33.91C265.32,33.911 266.118,33.998 266.9,34.17C267.24,34.23 267.41,34.4 267.41,34.67L267.41,39.08C267.41,39.52 267.2,39.69 266.8,39.59C265.812,39.378 264.809,39.241 263.8,39.18C260.15,39.18 258.33,41.28 258.33,45.46L258.33,53.46C258.329,53.471 258.328,53.481 258.328,53.492C258.328,53.64 258.45,53.762 258.598,53.762C258.609,53.762 258.619,53.761 258.63,53.76L261,53.76C261.021,53.757 261.043,53.755 261.065,53.755C261.312,53.755 261.515,53.958 261.515,54.205C261.515,54.227 261.513,54.249 261.51,54.27L261.51,58.27C261.513,58.291 261.515,58.313 261.515,58.335C261.515,58.582 261.312,58.785 261.065,58.785C261.043,58.785 261.021,58.783 261,58.78L250.18,58.78C250.159,58.783 250.137,58.785 250.115,58.785C249.868,58.785 249.665,58.582 249.665,58.335C249.665,58.313 249.667,58.291 249.67,58.27L249.67,54.27C249.667,54.249 249.665,54.227 249.665,54.205C249.665,53.958 249.868,53.755 250.115,53.755C250.137,53.755 250.159,53.757 250.18,53.76L252.36,53.76C252.371,53.761 252.381,53.762 252.392,53.762C252.54,53.762 252.662,53.64 252.662,53.492C252.662,53.481 252.661,53.471 252.66,53.46L252.66,39.54C252.66,39.33 252.56,39.23 252.36,39.23L250.18,39.23C250.159,39.233 250.138,39.234 250.117,39.234C249.87,39.234 249.667,39.031 249.667,38.784C249.667,38.766 249.668,38.748 249.67,38.73L249.67,34.73C249.668,34.712 249.667,34.694 249.667,34.676C249.667,34.429 249.87,34.226 250.117,34.226C250.138,34.226 250.159,34.227 250.18,34.23L257.83,34.23C257.851,34.227 257.872,34.226 257.893,34.226C258.14,34.226 258.343,34.429 258.343,34.676C258.343,34.694 258.342,34.712 258.34,34.73L258.34,37.27L258.39,37.27C259.647,35.1 262.014,33.802 264.52,33.91Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M279.23,33.74C282.237,33.74 284.35,34.703 285.57,36.63L285.62,36.63L285.62,34.81C285.617,34.789 285.615,34.767 285.615,34.745C285.615,34.498 285.818,34.295 286.065,34.295C286.087,34.295 286.109,34.297 286.13,34.3L293.78,34.3C293.798,34.298 293.816,34.297 293.834,34.297C294.081,34.297 294.284,34.5 294.284,34.747C294.284,34.768 294.283,34.789 294.28,34.81L294.28,38.76C294.283,38.781 294.285,38.803 294.285,38.825C294.285,39.066 294.086,39.265 293.845,39.265C293.823,39.265 293.801,39.263 293.78,39.26L291.6,39.26C291.589,39.259 291.579,39.258 291.568,39.258C291.415,39.258 291.288,39.385 291.288,39.538C291.288,39.549 291.289,39.559 291.29,39.57L291.29,57.2C291.29,60.747 290.32,63.5 288.38,65.46C286.44,67.42 283.61,68.4 279.89,68.4C278.175,68.39 276.477,68.051 274.89,67.4C273.388,66.865 272.048,65.952 271,64.75C270.908,64.663 270.856,64.542 270.856,64.415C270.856,64.266 270.928,64.126 271.05,64.04L274.05,61.04C274.136,60.914 274.278,60.839 274.43,60.839C274.582,60.839 274.724,60.914 274.81,61.04C276.206,62.481 278.124,63.302 280.13,63.32C283.77,63.32 285.6,61.38 285.6,57.49L285.6,55.22L285.55,55.22C284.33,57.12 282.22,58.06 279.21,58.06C277.356,58.125 275.529,57.592 274,56.54C272.519,55.444 271.434,53.896 270.91,52.13C270.313,50.109 270.04,48.006 270.1,45.9C270.044,43.81 270.317,41.725 270.91,39.72C272.203,35.74 274.977,33.747 279.23,33.74ZM280.7,38.81C278.716,38.665 276.896,39.974 276.4,41.9C275.997,43.194 275.807,44.545 275.84,45.9C275.796,47.256 275.986,48.609 276.4,49.9C277.005,51.774 278.761,53.052 280.73,53.052C282.699,53.052 284.455,51.774 285.06,49.9C285.474,48.609 285.664,47.256 285.62,45.9C285.653,44.545 285.463,43.194 285.06,41.9C284.546,39.96 282.701,38.652 280.7,38.81Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M297.82,34.27L305.47,34.27C305.491,34.267 305.512,34.266 305.533,34.266C305.78,34.266 305.983,34.469 305.983,34.716C305.983,34.734 305.982,34.752 305.98,34.77L305.98,53.42C305.979,53.431 305.978,53.441 305.978,53.452C305.978,53.6 306.1,53.722 306.248,53.722C306.259,53.722 306.269,53.721 306.28,53.72L308.46,53.72C308.481,53.717 308.503,53.715 308.525,53.715C308.772,53.715 308.975,53.918 308.975,54.165C308.975,54.187 308.973,54.209 308.97,54.23L308.97,58.23C308.973,58.251 308.975,58.273 308.975,58.295C308.975,58.542 308.772,58.745 308.525,58.745C308.503,58.745 308.481,58.743 308.46,58.74L297.82,58.74C297.799,58.743 297.777,58.745 297.755,58.745C297.508,58.745 297.305,58.542 297.305,58.295C297.305,58.273 297.307,58.251 297.31,58.23L297.31,54.23C297.307,54.209 297.305,54.187 297.305,54.165C297.305,53.918 297.508,53.715 297.755,53.715C297.777,53.715 297.799,53.717 297.82,53.72L300,53.72C300.011,53.721 300.021,53.722 300.032,53.722C300.18,53.722 300.302,53.6 300.302,53.452C300.302,53.441 300.301,53.431 300.3,53.42L300.3,39.54C300.3,39.33 300.2,39.23 300,39.23L297.82,39.23C297.799,39.233 297.778,39.234 297.757,39.234C297.51,39.234 297.307,39.031 297.307,38.784C297.307,38.766 297.308,38.748 297.31,38.73L297.31,34.73C297.31,34.725 297.31,34.721 297.31,34.716C297.31,34.469 297.513,34.266 297.76,34.266C297.78,34.266 297.8,34.267 297.82,34.27ZM300.82,24.27L305.48,24.27C305.501,24.267 305.522,24.266 305.543,24.266C305.79,24.266 305.993,24.469 305.993,24.716C305.993,24.734 305.992,24.752 305.99,24.77L305.99,29.18C305.993,29.201 305.995,29.223 305.995,29.245C305.995,29.492 305.792,29.695 305.545,29.695C305.523,29.695 305.501,29.693 305.48,29.69L300.82,29.69C300.799,29.693 300.777,29.695 300.755,29.695C300.508,29.695 300.305,29.492 300.305,29.245C300.305,29.223 300.307,29.201 300.31,29.18L300.31,24.74C300.308,24.722 300.307,24.705 300.307,24.687C300.307,24.44 300.51,24.237 300.757,24.237C300.775,24.237 300.792,24.238 300.81,24.24L300.82,24.27Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M322.09,33.71C325.77,33.71 328.38,34.377 329.92,35.71C331.46,37.043 332.23,39.22 332.23,42.24L332.23,53.44C332.229,53.451 332.228,53.461 332.228,53.472C332.228,53.62 332.35,53.742 332.498,53.742C332.509,53.742 332.519,53.741 332.53,53.74L334.71,53.74C334.732,53.737 334.754,53.735 334.776,53.735C335.018,53.735 335.216,53.934 335.216,54.175C335.216,54.2 335.214,54.225 335.21,54.25L335.21,58.25C335.214,58.275 335.216,58.3 335.216,58.325C335.216,58.566 335.018,58.765 334.776,58.765C334.754,58.765 334.732,58.763 334.71,58.76L327.46,58.76C327.442,58.762 327.424,58.763 327.406,58.763C327.159,58.763 326.956,58.56 326.956,58.313C326.956,58.292 326.957,58.271 326.96,58.25L326.96,56.41C325.627,58.303 323.363,59.25 320.17,59.25C318.049,59.329 315.969,58.644 314.31,57.32C312.726,55.918 311.877,53.861 312.01,51.75C311.854,49.498 312.811,47.306 314.57,45.89C316.676,44.457 319.196,43.754 321.74,43.89L326.6,43.89C326.614,43.892 326.628,43.893 326.642,43.893C326.79,43.893 326.912,43.771 326.912,43.623C326.912,43.612 326.911,43.601 326.91,43.59L326.91,42.59C327.016,41.406 326.62,40.229 325.82,39.35C325.093,38.683 323.783,38.35 321.89,38.35C321.001,38.349 320.115,38.453 319.25,38.66C319.087,38.69 318.976,38.846 319,39.01L319,41.19C319.003,41.211 319.005,41.233 319.005,41.255C319.005,41.502 318.802,41.705 318.555,41.705C318.533,41.705 318.511,41.703 318.49,41.7L314,41.7C313.979,41.703 313.957,41.705 313.935,41.705C313.688,41.705 313.485,41.502 313.485,41.255C313.485,41.233 313.487,41.211 313.49,41.19L313.49,36.09C313.475,35.807 313.639,35.542 313.9,35.43C316.464,34.241 319.265,33.653 322.09,33.71ZM326.55,48.2L322.6,48.2C319.12,48.2 317.38,49.32 317.38,51.54C317.38,53.76 318.77,54.64 321.54,54.64C325.08,54.64 326.86,53.25 326.86,50.48L326.86,48.48C326.86,48.476 326.86,48.471 326.86,48.467C326.86,48.319 326.738,48.197 326.59,48.197C326.577,48.197 326.563,48.198 326.55,48.2Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M287.66,97.88C286.289,97.88 285.16,99.009 285.16,100.38C285.16,101.751 286.289,102.88 287.66,102.88C289.031,102.88 290.16,101.751 290.16,100.38C290.16,99.009 289.031,97.88 287.66,97.88ZM287.66,102.48C286.56,102.404 285.695,101.478 285.695,100.375C285.695,99.272 286.56,98.346 287.66,98.27C288.76,98.346 289.625,99.272 289.625,100.375C289.625,101.478 288.76,102.404 287.66,102.48Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M288.1,100.46C288.417,100.389 288.643,100.105 288.64,99.78C288.655,99.561 288.562,99.347 288.39,99.21C288.132,99.053 287.831,98.98 287.53,99C287.265,98.998 287.001,99.022 286.74,99.07L286.74,101.84L287.18,101.84L287.18,100.65L287.49,100.65C287.517,100.646 287.544,100.644 287.571,100.644C287.844,100.644 288.072,100.858 288.09,101.13C288.105,101.377 288.17,101.619 288.28,101.84L288.74,101.84C288.647,101.62 288.587,101.387 288.56,101.15C288.51,100.73 288.34,100.5 288.1,100.46ZM287.5,100.28L287.18,100.28L287.18,99.34L287.5,99.34C288,99.34 288.18,99.58 288.18,99.83C288.18,100.08 287.87,100.28 287.5,100.28Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M75.3,49L75.3,68.85L85.93,68.85L85.93,62.9L92.25,62.9C90.5,72 81.48,78.25 70.05,78.25C69.26,78.25 68.47,78.25 67.68,78.15C61.784,77.825 56.1,75.834 51.29,72.41C46.61,68.87 44.15,64.13 44.18,58.7C44.208,52.863 46.762,47.315 51.18,43.5C55.664,39.623 61.346,37.402 67.27,37.21L68.43,37.21C75.915,37.335 83.144,39.982 88.94,44.72C89.23,44.96 89.3,45.01 89.37,45.06C89.516,45.158 89.653,45.269 89.78,45.39L89.95,45.53L102.16,45.53L102.16,24.08L89.75,24.08L89.75,30.28C82.34,25.846 73.855,23.528 65.22,23.58L65.05,23.58C53.693,23.641 42.813,28.212 34.82,36.28C28.37,42.83 24.88,50.84 25,58.83C25.11,67.43 29.25,75.44 36.66,81.38C44.193,87.239 53.477,90.408 63.02,90.38C64.21,90.38 65.42,90.38 66.61,90.23C76.18,89.45 84.67,87.23 90.66,84.06L90.66,86.7L103.8,86.7L103.8,62.92L107.92,62.92L107.92,90.45L101.08,90.45L101.08,102.84L131.64,102.84L131.64,90.45L124.79,90.45L124.79,62.9L141.35,62.9L141.35,68.85L152,68.85L152,49L75.3,49Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M136.71,99.23C135.463,99.235 134.44,100.263 134.44,101.51C134.44,102.761 135.469,103.79 136.72,103.79C137.971,103.79 139,102.761 139,101.51L139,101.49C139,100.25 137.98,99.23 136.74,99.23C136.727,99.23 136.713,99.23 136.7,99.23L136.71,99.23ZM136.71,103.43C135.657,103.43 134.79,102.563 134.79,101.51C134.79,100.457 135.657,99.59 136.71,99.59C137.763,99.59 138.63,100.457 138.63,101.51C138.63,102.563 137.763,103.43 136.71,103.43Z" style="fill:white;fill-rule:nonzero;"/>                </g>                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">                    <path d="M137.12,101.59C137.406,101.521 137.609,101.264 137.61,100.97C137.624,100.767 137.538,100.569 137.38,100.44C137.143,100.296 136.867,100.229 136.59,100.25C136.352,100.251 136.115,100.271 135.88,100.31L135.88,102.85L136.28,102.85L136.28,101.76L136.56,101.76C136.587,101.755 136.614,101.753 136.641,101.753C136.89,101.753 137.098,101.951 137.11,102.2C137.128,102.425 137.186,102.645 137.28,102.85L137.7,102.85C137.615,102.649 137.562,102.437 137.54,102.22C137.49,101.83 137.34,101.63 137.12,101.59ZM136.57,101.42L136.28,101.42L136.28,100.57L136.57,100.57C137.03,100.57 137.19,100.79 137.19,101.01C137.19,101.23 136.91,101.42 136.57,101.42Z" style="fill:white;fill-rule:nonzero;"/>                </g>            </g>        </g>    </g></svg>')),sr.select(n).selectAll(".svg-logo.icon-uw").html(s('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 621 115" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <g transform="matrix(1,0,0,1,-8238,-5520)">        <g transform="matrix(0.622121,0,0,0.417008,8066.43,2758.66)">            <g id="uw" transform="matrix(1,0,0,1,-744.043,-423.191)">                <g transform="matrix(0.597713,0,0,0.597713,503.913,2944.13)">                    <g transform="matrix(6.69752,0,0,9.9918,1332.54,6429.2)">                        <path d="M17.422,54.27C17.422,56.665 19.449,58.494 21.943,58.494C24.314,58.494 26.662,56.741 26.662,54.27L26.662,44.858L27.896,43.599L24.092,43.599L25.351,44.858L25.351,54.27C25.351,55.95 24.017,57.284 22.337,57.284C20.634,57.284 19.127,55.975 19.127,54.27L19.127,44.858L20.386,43.599L16.163,43.599L17.422,44.858L17.422,54.27ZM34.442,56.913L34.442,45.995L42.296,58.199L42.766,58.199L42.766,44.858L44.025,43.599L40.222,43.599L41.481,44.858L41.481,54.122L34.912,43.599L31.898,43.599L33.132,44.858L33.132,56.913L31.898,58.172L35.703,58.172L34.442,56.913ZM48.621,43.599L49.781,44.759L49.781,57.012L48.621,58.172L52.546,58.172L51.386,57.012L51.386,44.759L52.546,43.599L48.621,43.599ZM60.55,43.599L56.425,43.599L57.611,44.759L61.712,58.172L62.453,58.172L66.677,44.759L67.863,43.599L64.355,43.599L65.492,44.735L62.404,54.813L59.415,44.735L60.55,43.599ZM80.064,58.172L80.064,55.504L78.508,57.085L74.086,57.085L74.086,50.959L77.372,50.959L78.533,52.121L78.533,48.712L77.372,49.873L74.086,49.873L74.086,44.686L78.508,44.686L80.064,46.242L80.064,43.599L71.345,43.599L72.481,44.759L72.481,57.012L71.345,58.172L80.064,58.172ZM87.228,57.012L87.228,51.379L89.425,51.379L92.959,58.172L95.379,58.172L94.243,57.012L90.983,51.034C92.613,50.54 93.725,49.008 93.725,47.625C93.725,45.155 91.427,43.599 89.005,43.599L84.486,43.599L85.622,44.759L85.622,57.012L84.486,58.172L88.388,58.172L87.228,57.012ZM87.228,44.686L89.005,44.686C90.563,44.686 91.797,46.02 91.797,47.6C91.797,49.107 90.538,50.292 89.005,50.292L87.228,50.292L87.228,44.686ZM106.569,54.122C106.569,52.689 105.902,51.799 105.21,51.331L102.246,49.181C101.184,48.416 100.641,47.427 100.641,46.686C100.641,45.155 101.95,44.612 102.74,44.612C103.16,44.612 103.457,44.785 103.678,44.785L104.963,46.168L106.322,44.142L103.433,43.599C103.234,43.549 103.111,43.525 102.74,43.525C100.195,43.525 99.035,45.699 99.035,47.107C99.035,48.217 99.603,49.478 100.912,50.441L103.9,52.59C104.716,53.159 104.938,53.998 104.938,54.714C104.938,55.95 104.173,57.284 102.518,57.284C102.123,57.284 101.777,57.208 101.505,57.085L100.121,55.456L98.861,57.728L101.654,58.271C101.654,58.271 102.123,58.371 102.518,58.371C104.271,58.371 106.569,56.888 106.569,54.122ZM111.41,43.599L112.57,44.759L112.57,57.012L111.41,58.172L115.337,58.172L114.177,57.012L114.177,44.759L115.337,43.599L111.41,43.599ZM125.242,57.012L125.242,44.686L128.009,44.686L129.565,46.242L129.565,43.599L119.314,43.599L119.314,46.242L120.896,44.686L123.637,44.686L123.637,57.012L122.5,58.172L126.403,58.172L125.242,57.012ZM133.542,44.759L137.223,51.405L137.223,57.012L136.063,58.172L139.989,58.172L138.828,57.012L138.828,51.405L142.582,44.785L143.793,43.599L140.187,43.599L141.323,44.735L138.26,50.195L135.345,44.735L136.482,43.599L132.356,43.599L133.542,44.759ZM155.662,48.973C155.13,48.973 154.29,49.218 153.451,49.71C152.038,50.55 150.503,52.454 150.503,55.32C150.503,56.752 151.179,58.35 153.082,58.35C153.982,58.35 155.273,57.756 156.133,56.979C157.484,55.749 158.282,53.641 158.282,51.819C158.282,50.12 157.382,48.973 155.662,48.973ZM152.16,54.828C152.16,51.799 153.696,50.161 154.33,49.894C154.515,49.813 154.803,49.731 155.007,49.731C156.03,49.731 156.624,50.508 156.624,52.085C156.665,54.746 155.273,57.163 154.413,57.449C154.249,57.511 153.982,57.592 153.778,57.592C152.633,57.592 152.16,56.365 152.16,54.828ZM161.361,49.464L160.807,49.997L160.869,50.202L162.568,50.202C162.302,52.044 162.056,53.641 161.667,56.22C161.115,60.049 160.643,61.401 160.255,61.728C160.132,61.851 159.927,61.912 159.743,61.912C159.497,61.912 159.109,61.728 158.842,61.605C158.596,61.483 158.391,61.625 158.269,61.748C158.105,61.933 157.92,62.219 157.92,62.445C157.92,62.854 158.453,63.059 158.801,63.059C159.189,63.059 160.172,62.731 161.053,61.647C161.749,60.786 162.691,58.8 163.489,54.173C163.633,53.313 163.797,52.454 164.145,50.202L166.232,49.997L166.683,49.464L164.267,49.464C164.881,45.677 165.393,44.531 166.273,44.531C166.888,44.531 167.398,44.776 167.85,45.206C167.993,45.349 168.219,45.349 168.423,45.185C168.587,45.042 168.833,44.714 168.833,44.428C168.853,44.019 168.301,43.568 167.604,43.568C166.417,43.568 165.168,44.265 164.308,45.289C163.509,46.25 162.977,47.806 162.691,49.464L161.361,49.464Z" style="fill:white;fill-rule:nonzero;"/>                    </g>                    <g transform="matrix(6.69752,0,0,9.9918,1332.54,6429.2)">                        <path d="M8.101,88.569L12.583,74.393L16.931,88.569L17.927,88.569L23.605,70.541L25.199,68.981L20.484,68.981L22.011,70.508L17.861,84.054L13.843,70.508L15.371,68.981L9.826,68.981L11.387,70.541L11.786,71.835L8.034,84.054L4.017,70.508L5.544,68.981L0,68.981L1.593,70.541L7.104,88.569L8.101,88.569ZM27.574,87.041L29.002,82.892L35.475,82.892L36.836,87.041L35.308,88.569L40.854,88.569L39.293,86.975L33.185,68.981L32.188,68.981L25.98,86.975L24.386,88.569L29.101,88.569L27.574,87.041ZM32.288,73.33L34.978,81.43L29.5,81.43L32.288,73.33ZM53.706,83.124C53.706,81.199 52.808,80.003 51.879,79.372L47.895,76.484C46.468,75.456 45.737,74.126 45.737,73.131C45.737,71.073 47.497,70.341 48.559,70.341C49.124,70.341 49.522,70.575 49.821,70.575L51.546,72.434L53.373,69.711L49.488,68.981C49.223,68.915 49.058,68.881 48.559,68.881C45.139,68.881 43.58,71.803 43.58,73.695C43.58,75.189 44.342,76.882 46.102,78.177L50.12,81.066C51.215,81.829 51.514,82.958 51.514,83.921C51.514,85.581 50.485,87.374 48.26,87.374C47.729,87.374 47.265,87.274 46.899,87.108L45.04,84.917L43.347,87.971L47.099,88.702C47.099,88.702 47.729,88.834 48.26,88.834C50.617,88.834 53.706,86.843 53.706,83.124ZM62.038,78.742L70.271,78.742L70.271,87.008L68.711,88.569L73.99,88.569L72.429,87.008L72.429,70.541L73.99,68.981L68.711,68.981L70.271,70.541L70.271,77.282L62.038,77.282L62.038,70.541L63.598,68.981L58.353,68.981L59.88,70.541L59.88,87.008L58.353,88.569L63.598,88.569L62.038,87.008L62.038,78.742ZM93.338,86.875L93.338,72.202L103.757,88.561L104.527,88.566L104.528,70.674L106.221,68.981L101.108,68.981L102.801,70.674L102.801,83.124L93.969,68.981L89.918,68.981L91.578,70.674L91.578,86.875L89.918,88.569L95.032,88.569L93.338,86.875ZM121.306,79.671L121.306,85.98C120.843,86.445 119.912,87.374 118.087,87.374C113.737,87.374 111.546,82.992 111.546,78.776C111.546,74.526 114.301,70.176 118.087,70.176C119.082,70.176 119.812,70.409 120.476,71.106L122.635,73.23L122.635,69.844C121.473,69.247 120.311,68.715 118.087,68.715C112.741,68.715 108.988,73.497 108.988,78.776C108.988,83.955 112.741,88.834 118.087,88.834C121.107,88.834 122.401,88.104 123.464,87.407L123.464,79.671L124.991,78.111L119.746,78.111L121.306,79.671ZM135.589,87.008L135.589,70.442L139.308,70.442L141.399,72.534L141.399,68.981L127.62,68.981L127.62,72.534L129.746,70.442L133.431,70.442L133.431,87.008L131.903,88.569L137.149,88.569L135.589,87.008ZM143.37,78.776C143.37,83.754 146.192,89 151.205,89C156.251,89 159.074,83.754 159.074,78.776C159.074,73.794 156.251,68.549 151.205,68.549C146.192,68.549 143.37,73.794 143.37,78.776ZM151.205,87.506C147.289,87.506 145.927,82.825 145.927,78.776C145.927,74.724 147.289,70.042 151.205,70.042C155.156,70.042 156.518,74.724 156.518,78.776C156.518,82.825 155.156,87.506 151.205,87.506ZM166.118,86.875L166.118,72.202L176.483,88.58L177.307,88.58L177.307,70.674L179,68.981L173.887,68.981L175.58,70.674L175.58,83.124L166.75,68.981L162.698,68.981L164.359,70.674L164.359,86.875L162.698,88.569L167.813,88.569L166.118,86.875Z" style="fill:white;fill-rule:nonzero;"/>                    </g>                    <g transform="matrix(6.69752,0,0,9.9918,1332.54,6429.2)">                        <path d="M79.274,68.981L80.835,70.541L80.835,87.008L79.274,88.569L84.552,88.569L82.992,87.008L82.992,70.541L84.552,68.981L79.274,68.981Z" style="fill:white;fill-rule:nonzero;"/>                    </g>                </g>                <g transform="matrix(6.69752,0,0,9.9918,565.383,7038.72)">                    <path d="M67.856,0.817L67.856,5.788L71.005,5.788L76.534,27.998L84.287,27.998L87.973,14.099L91.505,27.998L99.261,27.998L105.096,5.788L108.091,5.788L108.091,0.817L97.418,0.817L97.418,5.788L100.949,5.788L97.11,20.243L92.349,0.817L87.435,0.817L82.214,20.396L78.453,5.788L82.292,5.788L82.292,0.817L67.856,0.817Z" style="fill:white;fill-rule:nonzero;"/>                </g>            </g>        </g>    </g></svg>')),sr.select(n).selectAll(".svg-logo.icon-nyu").html(s('<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg viewBox="0 0 301 128" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">    <g transform="matrix(1,0,0,1,-8247,-5018)">        <g transform="matrix(0.622121,0,0,0.417008,8066.43,2758.66)">            <g id="nyu" transform="matrix(1.18933,0,0,1.77432,-2420.02,3051.6)">                <g id="Fill-1" transform="matrix(0.675152,0,0,0.675152,2261.75,1200.32)">                    <path d="M246.2,250.7C246.3,250.6 246.3,250.5 246.2,250.4C246,250.1 245.6,249.6 244.7,248.3C243.6,246.7 236.8,237.3 228,229.3C219.2,221.3 192.4,198.6 149.9,198.6C105.6,198.6 75.6,222.8 60.1,240C45,256.9 37.4,275.5 37.2,276C37,276.5 36.9,276.6 37.1,276.7C37.3,276.8 37.4,276.5 37.7,275.9C38,275.4 45.9,258.1 63,244.1C80.1,230 108.7,213.9 150.3,213.9C185.8,213.9 211.4,226.5 223.2,233.6C234.9,240.6 242.4,247.6 244,249.1C244.9,250 245.4,250.4 245.7,250.6C246,250.8 246.1,250.8 246.2,250.7" style="fill:white;fill-rule:nonzero;"/>                </g>                <g id="Fill-3" transform="matrix(0.675152,0,0,0.675152,2261.75,1200.32)">                    <path d="M27.1,317.2C27.2,317.2 27.3,317.2 27.3,317.3C27.4,317.5 27.3,317.9 27.3,318.9C27.3,319.6 26.4,340.3 37,362.1C47.8,384.5 67,408 97.7,423.4C126.9,438 155.3,440.1 176.6,437.8C197.1,435.5 212.9,427.8 214.7,427.1C215.4,426.8 215.5,426.6 215.6,426.8L215.6,426.9C215.5,427 215.3,427.2 214.9,427.6C214.3,428.1 213.4,428.9 212.1,429.8C209.7,431.6 204.9,436 188.8,442.8C165.7,452.6 127,458.8 88.4,437.8C51.3,417.7 34.7,383 29.1,356.5C24.9,336.5 26.7,319.7 26.7,318.4C26.7,317.9 26.7,317.6 26.8,317.5C26.9,317.3 27,317.2 27.1,317.2" style="fill:white;fill-rule:nonzero;"/>                </g>                <g id="Fill-4" transform="matrix(0.675152,0,0,0.675152,2261.75,1200.32)">                    <path d="M436.7,355.1L437.7,355.1L445.6,355.8C455.4,356.5 455.8,357.9 455.8,360.3C455.8,363.4 451.6,365.4 445.2,365.4C436.2,365.4 434.3,363.2 434.3,359.9C434.4,358.1 435.2,356.5 436.7,355.1ZM444.8,311.5C450,311.5 451.1,316.2 451.1,320.1C451.1,325.6 448.8,328.8 444.8,328.8C439.4,328.8 438.5,323.3 438.5,320.1C438.6,316.9 439.4,311.5 444.8,311.5ZM420.3,362.3C420.3,370.9 427.3,374.2 443.2,374.2C459.8,374.2 470.5,368.1 470.5,357.9C470.5,347.8 464.3,343.8 448.3,342.8L441.5,342.5C437.6,342.1 437.4,341.2 437.4,340.3C437.4,340 437.5,339.4 438.3,338.7C440.3,339.2 442.5,339.4 444.8,339.4C457.9,339.4 466,331.8 466,319.7C466,317.8 465.7,315.9 465.1,313.9C467.8,313.4 470.1,313.4 471.3,313.4L472.1,313.4L472.1,299.7L471.2,299.8C467.4,300.2 462.8,302.2 459.8,304.8C456.2,301.6 451,299.9 444.8,299.9C431.7,299.9 423.2,307.7 423.2,319.7C423.2,326 425.7,331.4 430.2,335C426.5,337.7 424.1,341.5 424.1,345C424.1,347.7 425.3,350 427.5,351.7C422.6,354.5 420.3,358 420.3,362.3ZM269.7,406L246.3,406L246.3,378.1L229.7,378.1L229.7,451.4L246.3,451.4L246.3,420L269.7,420L269.7,451.4L286.3,451.4L286.3,378.1L269.7,378.1L269.7,406ZM398.7,451.4L414.9,451.4L414.9,383.4L398.7,385.6L398.7,451.4ZM373,435.5C370.3,437.9 367.5,439.2 364.6,439.2C362,439.2 360.5,437.6 360.5,434.8C360.5,431.7 361.9,427.9 373,425.3L373,435.5ZM388.7,437.8L388.7,414.5C388.7,402.1 383.2,396.3 371.3,396.3C361.9,396.3 353.5,399.3 347,405L346.4,405.5L353.9,415.4L354.5,414.9C357.3,412.8 362.9,409.4 368.5,409.4C371.7,409.4 373,410.9 373,414.6L373,416.1C354,419.7 344.8,426.7 344.8,437.6C344.8,446.8 349.8,452.1 358.4,452.1C364.3,452.1 369.1,450 373.1,445.8C373.3,448.1 373.7,449.7 374,451L374.2,451.6L390.3,451.6L389.9,450.5C389,447.9 388.7,444.4 388.7,437.8ZM344,339.3C341.4,341.7 338.5,343 335.6,343C333,343 331.5,341.4 331.5,338.6C331.5,335.5 333,331.7 344,329.1L344,339.3ZM345.2,355.1L361.3,355.1L361,354C360.1,351.6 359.8,348.1 359.8,341.5L359.8,318.2C359.8,305.8 354.3,300 342.4,300C333,300 324.6,303 318.1,308.7L317.5,309.2L325,319.1L325.7,318.6C328.5,316.5 334.1,313.1 339.7,313.1C342.9,313.1 344.2,314.6 344.2,318.3L344.2,319.8C325.2,323.4 316,330.4 316,341.3C316,350.5 321,355.8 329.6,355.8C335.5,355.8 340.3,353.7 344.3,349.5C344.5,351.8 344.9,353.4 345.2,354.7L345.2,355.1ZM401.4,299.9C395,299.9 389.8,303.3 386.6,306.8L386.6,301L370.4,301L370.4,355.1L386.6,355.1L386.6,318.1C389.7,315.3 392.5,313.8 394.9,313.8C396.9,313.8 398.8,314.4 398.8,319.1L398.8,355L414.9,355L414.9,314.4C414.9,305 410.2,299.9 401.4,299.9ZM444.6,379.4L428.5,381.5L428.5,397.2L421,397.2L421,409.6L428.5,409.6L428.5,437.4C428.5,448.1 432.9,451.9 445.3,451.9C448.6,451.9 453.4,451.5 454.6,451.2L455.2,451L455.2,438.7L454.1,439.2C453.6,439.4 451.5,439.7 450.1,439.7C445.7,439.7 444.7,438.6 444.7,433.7L444.7,409.5L455.9,409.5L455.9,397.1L444.7,397.1L444.7,379.4L444.6,379.4ZM560.4,299.9C554,299.9 548.8,303.3 545.6,306.8L545.6,301L529.4,301L529.4,355.1L545.6,355.1L545.6,318.1C548.7,315.3 551.5,313.8 553.9,313.8C555.9,313.8 557.8,314.4 557.8,319.1L557.8,355L573.9,355L573.9,314.4C573.9,305 569.2,299.9 560.4,299.9ZM604.4,312.7C605.9,312.7 610.5,312.7 611.4,322.6L597,322.6C597.8,316.2 600.4,312.7 604.4,312.7ZM616.5,336.5L616,337.3C614.1,340.4 610.2,343.7 605.4,343.7C600.2,343.7 597.4,340 596.8,332.4L626.2,332.4L626.2,329C626.2,310.5 618.2,300 604.3,300C593.5,300 580.9,307.4 580.9,328.2C580.9,345.8 589.8,356.3 604.7,356.3C613.8,356.3 620.7,352.6 625.8,345.1L626.2,344.5L616.5,336.5ZM494,396.2C487.6,396.2 482.4,399.6 479.2,403.1L479.2,374.8L463,377L463,451.4L479.2,451.4L479.2,414.5C482.3,411.7 485.1,410.2 487.5,410.2C489.5,410.2 491.4,410.8 491.4,415.5L491.4,451.4L507.5,451.4L507.5,410.8C507.5,401.3 502.9,396.2 494,396.2ZM497.8,343.4C494.5,343.4 490.1,341.8 490.1,328.1C490.1,317.7 492.5,313.1 497.8,313.1C501.1,313.1 505.5,314.7 505.5,328.1C505.5,338.7 503.2,343.4 497.8,343.4ZM497.8,299.9C491.1,299.9 485.3,302.2 481.2,306.4C476.4,311.4 473.9,318.6 473.9,328C473.9,348.7 486.3,356.1 497.8,356.1C509.4,356.1 521.7,348.7 521.7,328C521.7,318.6 519.2,311.3 514.4,306.4C510.2,302.2 504.5,299.9 497.8,299.9ZM317.5,409C319,409 323.6,409 324.5,418.9L310.2,418.9C310.9,412.5 313.5,409 317.5,409ZM329.2,433.6C327.3,436.7 323.4,440 318.6,440C313.4,440 310.6,436.3 310,428.8L339.4,428.8L339.4,425.3C339.4,406.8 331.4,396.3 317.5,396.3C306.7,396.3 294.1,403.7 294.1,424.5C294.1,442.1 303,452.6 317.9,452.6C327,452.6 333.9,448.9 339,441.4L339.4,440.8L329.6,433L329.2,433.6ZM246.3,329L246.3,280.7L230.4,280.7L230.4,328.3C230.4,338.1 227.6,342 220.9,342C214.1,342 211.4,338.1 211.4,328.2L211.4,280.7L194.8,280.7L194.8,329.1C194.8,347.1 203.5,356.3 220.7,356.3C238,356.3 246.3,347.3 246.3,329ZM111.4,323.4C106.1,312.9 89.6,282.5 88.8,281.1L88.6,280.7L71.9,280.7L71.9,355.1L87.1,355.1L87.1,311.2C92.5,321.5 110.4,353.2 111.3,354.7L111.5,355.1L126.7,355.1L126.7,280.7L111.5,280.7L111.5,323.4L111.4,323.4ZM309,341.2L286.6,341.2L286.6,280.7L270,280.7L270,355.1L309,355.1L309,341.2ZM169.3,355.1L169.3,325.8L190.3,280.6L173.9,280.6L161.4,310.2L148.9,280.6L131.8,280.6L152.7,325.9L152.7,355.1L169.3,355.1Z" style="fill:white;fill-rule:nonzero;"/>                </g>            </g>        </g>    </g></svg>')),sr.select("html").style("scroll-behavior","smooth")}));return[n,A,i,r,{iowa:{modelName:"iow-house-ebm-binary",sampleName:"iow-house-train-sample"},lc:{modelName:"lc-model",sampleName:"lc-data"},adult:{modelName:"adult-model",sampleName:"adult-sample"},my:{modelName:null,sampleName:null}},o,function(t){Z[t?"unshift":"push"]((()=>{i=t,a(2,i)}))},()=>o("iowa"),()=>o("lc"),()=>o("adult"),()=>o("my"),function(t){Z[t?"unshift":"push"]((()=>{A=t,a(1,A)}))},function(t){Z[t?"unshift":"push"]((()=>{n=t,a(0,n)}))}]}class Cc extends xt{constructor(t){super(),vt(this,t,fc,rc,r,{})}}function Ic(e){let a,n,A,i,r,s,l,c,g,u,d,h,p,f,I;return f=new Cc({}),{c(){a=Q("link"),n=Q("script"),i=v(),r=Q("link"),s=v(),l=Q("link"),c=v(),g=Q("link"),u=v(),d=Q("div"),h=Q("recommender-overlay"),p=v(),mt(f.$$.fragment),D(a,"rel","stylesheet"),D(a,"href","https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.1/css/bulma.min.css"),D(a,"integrity","sha512-ZRv40llEogRmoWgZwnsqke3HNzJ0kiI0+pcMgiz2bxO6Ew1DVBtWjVn0qjrXdT3+u+pSN36gLgmJiiQ3cQtyzA=="),D(a,"crossorigin","anonymous"),D(n,"type","module"),o(n.src,A="https://unpkg.com/recommender-overlay/dist/recommender-overlay.es.js")||D(n,"src","https://unpkg.com/recommender-overlay/dist/recommender-overlay.es.js"),D(r,"rel","preconnect"),D(r,"href","https://fonts.gstatic.com"),D(l,"href","https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap"),D(l,"rel","stylesheet"),D(g,"rel","stylesheet"),D(g,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css"),M(h,"my-brand","GAM Changer"),M(h,"recommended-brands","GAM Coach, WebSHAP, TimberTrek, StickyLand"),M(h,"position-left","20"),M(h,"display-delay","30000"),M(h,"homepage-url",""),D(d,"class","stand-alone-page svelte-hyryf8")},m(t,e){C(document.head,a),C(document.head,n),E(t,i,e),E(t,r,e),E(t,s,e),E(t,l,e),E(t,c,e),E(t,g,e),E(t,u,e),E(t,d,e),C(d,h),C(d,p),Qt(f,d,null),I=!0},p:t,i(t){I||(ht(f.$$.fragment,t),I=!0)},o(t){pt(f.$$.fragment,t),I=!1},d(t){m(a),m(n),t&&m(i),t&&m(r),t&&m(s),t&&m(l),t&&m(c),t&&m(g),t&&m(u),t&&m(d),yt(f)}}}return new class extends xt{constructor(t){super(),vt(this,t,null,Ic,r,{})}}({target:document.body,props:{}})}));
//# sourceMappingURL=bundle.js.map
